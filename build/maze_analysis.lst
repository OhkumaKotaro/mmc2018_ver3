ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"maze_analysis.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Que_initialize,"ax",%progbits
  18              		.align	1
  19              		.global	Que_initialize
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	Que_initialize:
  26              	.LFB0:
  27              		.file 1 "Src/maze_analysis.c"
   1:Src/maze_analysis.c **** #include "maze_analysis.h"
   2:Src/maze_analysis.c **** 
   3:Src/maze_analysis.c **** #define MAX_STEP 255
   4:Src/maze_analysis.c **** 
   5:Src/maze_analysis.c **** typedef struct {
   6:Src/maze_analysis.c **** 	unsigned char data[MAX_STEP];
   7:Src/maze_analysis.c **** 	unsigned char x[MAX_STEP];
   8:Src/maze_analysis.c **** 	unsigned char y[MAX_STEP];
   9:Src/maze_analysis.c **** 	unsigned int head;
  10:Src/maze_analysis.c **** 	unsigned int tail;
  11:Src/maze_analysis.c **** }queue_t;
  12:Src/maze_analysis.c **** 
  13:Src/maze_analysis.c **** typedef struct {
  14:Src/maze_analysis.c **** 	unsigned char data;
  15:Src/maze_analysis.c **** 	unsigned char x;
  16:Src/maze_analysis.c **** 	unsigned char y;
  17:Src/maze_analysis.c **** }buff_queue_t;
  18:Src/maze_analysis.c **** 
  19:Src/maze_analysis.c **** 
  20:Src/maze_analysis.c **** void Que_initialize(queue_t *q) {
  28              		.loc 1 20 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  21:Src/maze_analysis.c **** 	int i;
  22:Src/maze_analysis.c **** 
  23:Src/maze_analysis.c **** 	q->head = 0;
  34              		.loc 1 23 0
  35 0000 0023     		movs	r3, #0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 2


  36 0002 C0F80033 		str	r3, [r0, #768]
  24:Src/maze_analysis.c **** 	q->tail = 0;
  37              		.loc 1 24 0
  38 0006 C0F80433 		str	r3, [r0, #772]
  39              	.LVL1:
  25:Src/maze_analysis.c **** 	for (i = 0; i < MAX_STEP; ++i) {
  40              		.loc 1 25 0
  41 000a 07E0     		b	.L2
  42              	.LVL2:
  43              	.L3:
  26:Src/maze_analysis.c **** 		q->data[i] = 0;
  44              		.loc 1 26 0 discriminator 3
  45 000c 0022     		movs	r2, #0
  46 000e C254     		strb	r2, [r0, r3]
  27:Src/maze_analysis.c **** 		q->x[i] = 0;
  47              		.loc 1 27 0 discriminator 3
  48 0010 C118     		adds	r1, r0, r3
  49 0012 81F8FF20 		strb	r2, [r1, #255]
  28:Src/maze_analysis.c **** 		q->y[i] = 0;
  50              		.loc 1 28 0 discriminator 3
  51 0016 81F8FE21 		strb	r2, [r1, #510]
  25:Src/maze_analysis.c **** 		q->data[i] = 0;
  52              		.loc 1 25 0 discriminator 3
  53 001a 0133     		adds	r3, r3, #1
  54              	.LVL3:
  55              	.L2:
  25:Src/maze_analysis.c **** 		q->data[i] = 0;
  56              		.loc 1 25 0 is_stmt 0 discriminator 1
  57 001c FE2B     		cmp	r3, #254
  58 001e F5DD     		ble	.L3
  29:Src/maze_analysis.c **** 	}
  30:Src/maze_analysis.c **** }
  59              		.loc 1 30 0 is_stmt 1
  60 0020 7047     		bx	lr
  61              		.cfi_endproc
  62              	.LFE0:
  64              		.section	.text.enqueue,"ax",%progbits
  65              		.align	1
  66              		.global	enqueue
  67              		.syntax unified
  68              		.thumb
  69              		.thumb_func
  70              		.fpu fpv4-sp-d16
  72              	enqueue:
  73              	.LFB1:
  31:Src/maze_analysis.c **** 
  32:Src/maze_analysis.c **** unsigned char enqueue(queue_t *q, unsigned char item, unsigned char px, unsigned char py) {
  74              		.loc 1 32 0
  75              		.cfi_startproc
  76              		@ args = 0, pretend = 0, frame = 0
  77              		@ frame_needed = 0, uses_anonymous_args = 0
  78              		@ link register save eliminated.
  79              	.LVL4:
  80 0000 10B4     		push	{r4}
  81              	.LCFI0:
  82              		.cfi_def_cfa_offset 4
  83              		.cfi_offset 4, -4
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 3


  33:Src/maze_analysis.c **** 	if (q->tail >= MAX_STEP) {
  84              		.loc 1 33 0
  85 0002 D0F80443 		ldr	r4, [r0, #772]
  86 0006 FE2C     		cmp	r4, #254
  87 0008 0CD8     		bhi	.L6
  34:Src/maze_analysis.c **** 		return MAX_STEP;
  35:Src/maze_analysis.c **** 	}
  36:Src/maze_analysis.c **** 	else {
  37:Src/maze_analysis.c **** 		q->data[q->tail] = item;
  88              		.loc 1 37 0
  89 000a 0155     		strb	r1, [r0, r4]
  38:Src/maze_analysis.c **** 		q->x[q->tail] = px;
  90              		.loc 1 38 0
  91 000c 0119     		adds	r1, r0, r4
  92              	.LVL5:
  93 000e 81F8FF20 		strb	r2, [r1, #255]
  39:Src/maze_analysis.c **** 		q->y[q->tail] = py;
  94              		.loc 1 39 0
  95 0012 81F8FE31 		strb	r3, [r1, #510]
  40:Src/maze_analysis.c **** 		q->tail++;
  96              		.loc 1 40 0
  97 0016 0134     		adds	r4, r4, #1
  98 0018 C0F80443 		str	r4, [r0, #772]
  99              	.LVL6:
  41:Src/maze_analysis.c **** 	}
  42:Src/maze_analysis.c **** 	return 1;
 100              		.loc 1 42 0
 101 001c 0120     		movs	r0, #1
 102              	.LVL7:
 103              	.L5:
  43:Src/maze_analysis.c **** }
 104              		.loc 1 43 0
 105 001e 5DF8044B 		ldr	r4, [sp], #4
 106              	.LCFI1:
 107              		.cfi_remember_state
 108              		.cfi_restore 4
 109              		.cfi_def_cfa_offset 0
 110 0022 7047     		bx	lr
 111              	.LVL8:
 112              	.L6:
 113              	.LCFI2:
 114              		.cfi_restore_state
  34:Src/maze_analysis.c **** 	}
 115              		.loc 1 34 0
 116 0024 FF20     		movs	r0, #255
 117              	.LVL9:
 118 0026 FAE7     		b	.L5
 119              		.cfi_endproc
 120              	.LFE1:
 122              		.section	.text.dequeue,"ax",%progbits
 123              		.align	1
 124              		.global	dequeue
 125              		.syntax unified
 126              		.thumb
 127              		.thumb_func
 128              		.fpu fpv4-sp-d16
 130              	dequeue:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 4


 131              	.LFB2:
  44:Src/maze_analysis.c **** 
  45:Src/maze_analysis.c **** buff_queue_t dequeue(queue_t *q) {
 132              		.loc 1 45 0
 133              		.cfi_startproc
 134              		@ args = 0, pretend = 0, frame = 8
 135              		@ frame_needed = 0, uses_anonymous_args = 0
 136              		@ link register save eliminated.
 137              	.LVL10:
 138 0000 82B0     		sub	sp, sp, #8
 139              	.LCFI3:
 140              		.cfi_def_cfa_offset 8
  46:Src/maze_analysis.c **** 	buff_queue_t tmp;
  47:Src/maze_analysis.c **** 	tmp.data = q->data[q->head];
 141              		.loc 1 47 0
 142 0002 D0F80033 		ldr	r3, [r0, #768]
 143 0006 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 144 0008 8DF80020 		strb	r2, [sp]
  48:Src/maze_analysis.c **** 	tmp.x = q->x[q->head];
 145              		.loc 1 48 0
 146 000c C218     		adds	r2, r0, r3
 147 000e 92F8FF10 		ldrb	r1, [r2, #255]	@ zero_extendqisi2
 148 0012 8DF80110 		strb	r1, [sp, #1]
  49:Src/maze_analysis.c **** 	tmp.y = q->y[q->head];
 149              		.loc 1 49 0
 150 0016 92F8FE21 		ldrb	r2, [r2, #510]	@ zero_extendqisi2
 151 001a 8DF80220 		strb	r2, [sp, #2]
  50:Src/maze_analysis.c **** 	q->head++;
 152              		.loc 1 50 0
 153 001e 0133     		adds	r3, r3, #1
 154 0020 C0F80033 		str	r3, [r0, #768]
  51:Src/maze_analysis.c **** 	return tmp;
 155              		.loc 1 51 0
 156 0024 009B     		ldr	r3, [sp]
 157 0026 0020     		movs	r0, #0
 158              	.LVL11:
 159 0028 DAB2     		uxtb	r2, r3
 160 002a 62F30700 		bfi	r0, r2, #0, #8
 161 002e C3F30722 		ubfx	r2, r3, #8, #8
 162 0032 62F30F20 		bfi	r0, r2, #8, #8
 163 0036 C3F30743 		ubfx	r3, r3, #16, #8
 164 003a 63F31740 		bfi	r0, r3, #16, #8
  52:Src/maze_analysis.c **** }
 165              		.loc 1 52 0
 166 003e 02B0     		add	sp, sp, #8
 167              	.LCFI4:
 168              		.cfi_def_cfa_offset 0
 169              		@ sp needed
 170 0040 7047     		bx	lr
 171              		.cfi_endproc
 172              	.LFE2:
 174              		.section	.text.Maze_CreateMap,"ax",%progbits
 175              		.align	1
 176              		.global	Maze_CreateMap
 177              		.syntax unified
 178              		.thumb
 179              		.thumb_func
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 5


 180              		.fpu fpv4-sp-d16
 182              	Maze_CreateMap:
 183              	.LFB3:
  53:Src/maze_analysis.c **** 
  54:Src/maze_analysis.c **** 
  55:Src/maze_analysis.c **** void Maze_CreateMap(maze_t *maze) {
 184              		.loc 1 55 0
 185              		.cfi_startproc
 186              		@ args = 0, pretend = 0, frame = 784
 187              		@ frame_needed = 0, uses_anonymous_args = 0
 188              	.LVL12:
 189 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 190              	.LCFI5:
 191              		.cfi_def_cfa_offset 24
 192              		.cfi_offset 4, -24
 193              		.cfi_offset 5, -20
 194              		.cfi_offset 6, -16
 195              		.cfi_offset 7, -12
 196              		.cfi_offset 8, -8
 197              		.cfi_offset 14, -4
 198 0004 ADF5447D 		sub	sp, sp, #784
 199              	.LCFI6:
 200              		.cfi_def_cfa_offset 808
 201 0008 0446     		mov	r4, r0
 202              	.LVL13:
 203              	.LBB2:
  56:Src/maze_analysis.c **** 	queue_t q;
  57:Src/maze_analysis.c **** 	buff_queue_t buff;
  58:Src/maze_analysis.c **** 	unsigned char x;
  59:Src/maze_analysis.c **** 	unsigned char y;
  60:Src/maze_analysis.c **** 	unsigned char step;
  61:Src/maze_analysis.c **** 	unsigned int tmp;
  62:Src/maze_analysis.c **** 
  63:Src/maze_analysis.c **** 	//init step
  64:Src/maze_analysis.c **** 	for(unsigned char i=0;i<WALL_NUM;i++){
 204              		.loc 1 64 0
 205 000a 0021     		movs	r1, #0
 206 000c 18E0     		b	.L11
 207              	.LVL14:
 208              	.L12:
 209              	.LBB3:
  65:Src/maze_analysis.c **** 		for(unsigned char j=0;j<WALL_NUM;j++){
  66:Src/maze_analysis.c **** 			if(maze->goal_x==i && maze->goal_y==j){
  67:Src/maze_analysis.c **** 				maze->step[i][j]=0;
  68:Src/maze_analysis.c **** 			}else{
  69:Src/maze_analysis.c **** 				maze->step[i][j]=MAX_STEP;
 210              		.loc 1 69 0
 211 000e 04EB0112 		add	r2, r4, r1, lsl #4
 212 0012 1A44     		add	r2, r2, r3
 213 0014 FF20     		movs	r0, #255
 214 0016 82F80401 		strb	r0, [r2, #260]
 215              	.L13:
  65:Src/maze_analysis.c **** 		for(unsigned char j=0;j<WALL_NUM;j++){
 216              		.loc 1 65 0 discriminator 2
 217 001a 0133     		adds	r3, r3, #1
 218              	.LVL15:
 219 001c DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 6


 220              	.LVL16:
 221              	.L15:
  65:Src/maze_analysis.c **** 		for(unsigned char j=0;j<WALL_NUM;j++){
 222              		.loc 1 65 0 is_stmt 0 discriminator 1
 223 001e 0F2B     		cmp	r3, #15
 224 0020 0CD8     		bhi	.L23
  66:Src/maze_analysis.c **** 				maze->step[i][j]=0;
 225              		.loc 1 66 0 is_stmt 1
 226 0022 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
 227 0024 8A42     		cmp	r2, r1
 228 0026 F2D1     		bne	.L12
  66:Src/maze_analysis.c **** 				maze->step[i][j]=0;
 229              		.loc 1 66 0 is_stmt 0 discriminator 1
 230 0028 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 231 002a 9A42     		cmp	r2, r3
 232 002c EFD1     		bne	.L12
  67:Src/maze_analysis.c **** 			}else{
 233              		.loc 1 67 0 is_stmt 1
 234 002e 04EB0112 		add	r2, r4, r1, lsl #4
 235 0032 1A44     		add	r2, r2, r3
 236 0034 0020     		movs	r0, #0
 237 0036 82F80401 		strb	r0, [r2, #260]
 238 003a EEE7     		b	.L13
 239              	.L23:
 240              	.LBE3:
  64:Src/maze_analysis.c **** 		for(unsigned char j=0;j<WALL_NUM;j++){
 241              		.loc 1 64 0 discriminator 2
 242 003c 0131     		adds	r1, r1, #1
 243              	.LVL17:
 244 003e C9B2     		uxtb	r1, r1
 245              	.LVL18:
 246              	.L11:
  64:Src/maze_analysis.c **** 		for(unsigned char j=0;j<WALL_NUM;j++){
 247              		.loc 1 64 0 is_stmt 0 discriminator 1
 248 0040 0F29     		cmp	r1, #15
 249 0042 01D8     		bhi	.L24
 250              	.LBB4:
  65:Src/maze_analysis.c **** 			if(maze->goal_x==i && maze->goal_y==j){
 251              		.loc 1 65 0 is_stmt 1
 252 0044 0023     		movs	r3, #0
 253 0046 EAE7     		b	.L15
 254              	.L24:
 255              	.LBE4:
 256              	.LBE2:
  70:Src/maze_analysis.c **** 			}
  71:Src/maze_analysis.c **** 		}
  72:Src/maze_analysis.c **** 	}
  73:Src/maze_analysis.c **** 
  74:Src/maze_analysis.c **** 	Que_initialize(&q);
 257              		.loc 1 74 0
 258 0048 02A8     		add	r0, sp, #8
 259 004a FFF7FEFF 		bl	Que_initialize
 260              	.LVL19:
  75:Src/maze_analysis.c **** 	enqueue(&q, 0, maze->goal_x, maze->goal_y);
 261              		.loc 1 75 0
 262 004e 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 263 0050 2278     		ldrb	r2, [r4]	@ zero_extendqisi2
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 7


 264 0052 0021     		movs	r1, #0
 265 0054 02A8     		add	r0, sp, #8
 266 0056 FFF7FEFF 		bl	enqueue
 267              	.LVL20:
 268 005a 2AE0     		b	.L20
 269              	.LVL21:
 270              	.L26:
  76:Src/maze_analysis.c **** 
  77:Src/maze_analysis.c **** 	while (1)
  78:Src/maze_analysis.c **** 	{
  79:Src/maze_analysis.c **** 		buff = dequeue(&q);
  80:Src/maze_analysis.c **** 		x = buff.x;
  81:Src/maze_analysis.c **** 		y = buff.y;
  82:Src/maze_analysis.c **** 		step = buff.data + 1;
  83:Src/maze_analysis.c **** 		//north
  84:Src/maze_analysis.c **** 		if (y < WALL_NUM-1)
  85:Src/maze_analysis.c **** 		{
  86:Src/maze_analysis.c **** 			tmp = maze->wall_horizontal[y] & (0b1 << x);
  87:Src/maze_analysis.c **** 			if (tmp == 0)
  88:Src/maze_analysis.c **** 			{
  89:Src/maze_analysis.c **** 				if (maze->step[x][y + 1] == MAX_STEP) {
  90:Src/maze_analysis.c **** 					enqueue(&q, step, x, y + 1);
 271              		.loc 1 90 0
 272 005c 5FFA88F3 		uxtb	r3, r8
 273 0060 3A46     		mov	r2, r7
 274              	.LVL22:
 275 0062 2946     		mov	r1, r5
 276 0064 02A8     		add	r0, sp, #8
 277 0066 FFF7FEFF 		bl	enqueue
 278              	.LVL23:
  91:Src/maze_analysis.c **** 					maze->step[x][y + 1] = step;
 279              		.loc 1 91 0
 280 006a 04EB0713 		add	r3, r4, r7, lsl #4
 281 006e 9844     		add	r8, r8, r3
 282 0070 88F80451 		strb	r5, [r8, #260]
 283 0074 42E0     		b	.L16
 284              	.LVL24:
 285              	.L27:
  92:Src/maze_analysis.c **** 				}
  93:Src/maze_analysis.c **** 			}
  94:Src/maze_analysis.c **** 		}
  95:Src/maze_analysis.c **** 		//south
  96:Src/maze_analysis.c **** 		if (y>0) {
  97:Src/maze_analysis.c **** 			tmp = maze->wall_horizontal[y - 1] & (0b1 << x);
  98:Src/maze_analysis.c **** 			if ( tmp == 0)
  99:Src/maze_analysis.c **** 			{
 100:Src/maze_analysis.c **** 				if (maze->step[x][y - 1] == MAX_STEP) {
 101:Src/maze_analysis.c **** 					enqueue(&q, step, x, y - 1);
 286              		.loc 1 101 0
 287 0076 5FFA88F3 		uxtb	r3, r8
 288 007a 3A46     		mov	r2, r7
 289              	.LVL25:
 290 007c 2946     		mov	r1, r5
 291 007e 02A8     		add	r0, sp, #8
 292 0080 FFF7FEFF 		bl	enqueue
 293              	.LVL26:
 102:Src/maze_analysis.c **** 					maze->step[x][y - 1] = step;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 8


 294              		.loc 1 102 0
 295 0084 04EB0713 		add	r3, r4, r7, lsl #4
 296 0088 9844     		add	r8, r8, r3
 297 008a 88F80451 		strb	r5, [r8, #260]
 298 008e 48E0     		b	.L17
 299              	.LVL27:
 300              	.L28:
 103:Src/maze_analysis.c **** 				}
 104:Src/maze_analysis.c **** 			}
 105:Src/maze_analysis.c **** 		}
 106:Src/maze_analysis.c **** 		//east
 107:Src/maze_analysis.c **** 		if (x < WALL_NUM - 1) 
 108:Src/maze_analysis.c **** 		{
 109:Src/maze_analysis.c **** 			tmp = maze->wall_vertical[x] & (0b1 << y);
 110:Src/maze_analysis.c **** 			if ( tmp == 0)
 111:Src/maze_analysis.c **** 			{
 112:Src/maze_analysis.c **** 				if (maze->step[x + 1][y] == MAX_STEP) {
 113:Src/maze_analysis.c **** 					enqueue(&q, step, x + 1, y);
 301              		.loc 1 113 0
 302 0090 3346     		mov	r3, r6
 303 0092 5FFA88F2 		uxtb	r2, r8
 304              	.LVL28:
 305 0096 2946     		mov	r1, r5
 306 0098 02A8     		add	r0, sp, #8
 307 009a FFF7FEFF 		bl	enqueue
 308              	.LVL29:
 114:Src/maze_analysis.c **** 					maze->step[x + 1][y] = step;
 309              		.loc 1 114 0
 310 009e 04EB0813 		add	r3, r4, r8, lsl #4
 311 00a2 3344     		add	r3, r3, r6
 312 00a4 83F80451 		strb	r5, [r3, #260]
 313 00a8 4DE0     		b	.L18
 314              	.LVL30:
 315              	.L19:
 115:Src/maze_analysis.c **** 				}
 116:Src/maze_analysis.c **** 			}
 117:Src/maze_analysis.c **** 		}
 118:Src/maze_analysis.c **** 		//west
 119:Src/maze_analysis.c **** 		if (x > 0) 
 120:Src/maze_analysis.c **** 		{
 121:Src/maze_analysis.c **** 			tmp = maze->wall_vertical[x - 1] & (0b1 << y);
 122:Src/maze_analysis.c **** 			if (tmp == 0)
 123:Src/maze_analysis.c **** 			{
 124:Src/maze_analysis.c **** 				if (maze->step[x-1][y] == MAX_STEP) {
 125:Src/maze_analysis.c **** 					enqueue(&q, step, x - 1, y);
 126:Src/maze_analysis.c **** 					maze->step[x - 1][y] = step;
 127:Src/maze_analysis.c **** 				}
 128:Src/maze_analysis.c **** 			}
 129:Src/maze_analysis.c **** 		}
 130:Src/maze_analysis.c **** 		if (q.head == q.tail) {
 316              		.loc 1 130 0
 317 00aa C29A     		ldr	r2, [sp, #776]
 318 00ac C39B     		ldr	r3, [sp, #780]
 319 00ae 9A42     		cmp	r2, r3
 320 00b0 68D0     		beq	.L25
 321              	.LVL31:
 322              	.L20:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 9


  79:Src/maze_analysis.c **** 		x = buff.x;
 323              		.loc 1 79 0
 324 00b2 02A8     		add	r0, sp, #8
 325 00b4 FFF7FEFF 		bl	dequeue
 326              	.LVL32:
 327 00b8 8DF80400 		strb	r0, [sp, #4]
 328 00bc C0F30722 		ubfx	r2, r0, #8, #8
 329 00c0 8DF80520 		strb	r2, [sp, #5]
 330 00c4 C0F30746 		ubfx	r6, r0, #16, #8
 331 00c8 8DF80660 		strb	r6, [sp, #6]
  80:Src/maze_analysis.c **** 		y = buff.y;
 332              		.loc 1 80 0
 333 00cc 1746     		mov	r7, r2
 334              	.LVL33:
  82:Src/maze_analysis.c **** 		//north
 335              		.loc 1 82 0
 336 00ce C0B2     		uxtb	r0, r0
 337 00d0 0130     		adds	r0, r0, #1
 338 00d2 C5B2     		uxtb	r5, r0
 339              	.LVL34:
  84:Src/maze_analysis.c **** 		{
 340              		.loc 1 84 0
 341 00d4 0E2E     		cmp	r6, #14
 342 00d6 11D8     		bhi	.L16
  86:Src/maze_analysis.c **** 			if (tmp == 0)
 343              		.loc 1 86 0
 344 00d8 06F11003 		add	r3, r6, #16
 345 00dc 04EB8303 		add	r3, r4, r3, lsl #2
 346 00e0 5A68     		ldr	r2, [r3, #4]
 347 00e2 0123     		movs	r3, #1
 348 00e4 BB40     		lsls	r3, r3, r7
 349              	.LVL35:
  87:Src/maze_analysis.c **** 			{
 350              		.loc 1 87 0
 351 00e6 1A42     		tst	r2, r3
 352 00e8 08D1     		bne	.L16
  89:Src/maze_analysis.c **** 					enqueue(&q, step, x, y + 1);
 353              		.loc 1 89 0
 354 00ea 06F10108 		add	r8, r6, #1
 355 00ee 04EB0713 		add	r3, r4, r7, lsl #4
 356              	.LVL36:
 357 00f2 4344     		add	r3, r3, r8
 358 00f4 93F80431 		ldrb	r3, [r3, #260]	@ zero_extendqisi2
 359 00f8 FF2B     		cmp	r3, #255
 360 00fa AFD0     		beq	.L26
 361              	.LVL37:
 362              	.L16:
  96:Src/maze_analysis.c **** 			tmp = maze->wall_horizontal[y - 1] & (0b1 << x);
 363              		.loc 1 96 0
 364 00fc 8EB1     		cbz	r6, .L17
  97:Src/maze_analysis.c **** 			if ( tmp == 0)
 365              		.loc 1 97 0
 366 00fe 06F1FF38 		add	r8, r6, #-1
 367 0102 06F10F03 		add	r3, r6, #15
 368 0106 04EB8303 		add	r3, r4, r3, lsl #2
 369 010a 5A68     		ldr	r2, [r3, #4]
 370 010c 0123     		movs	r3, #1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 10


 371 010e BB40     		lsls	r3, r3, r7
 372              	.LVL38:
  98:Src/maze_analysis.c **** 			{
 373              		.loc 1 98 0
 374 0110 1A42     		tst	r2, r3
 375 0112 06D1     		bne	.L17
 100:Src/maze_analysis.c **** 					enqueue(&q, step, x, y - 1);
 376              		.loc 1 100 0
 377 0114 04EB0713 		add	r3, r4, r7, lsl #4
 378              	.LVL39:
 379 0118 4344     		add	r3, r3, r8
 380 011a 93F80431 		ldrb	r3, [r3, #260]	@ zero_extendqisi2
 381 011e FF2B     		cmp	r3, #255
 382 0120 A9D0     		beq	.L27
 383              	.LVL40:
 384              	.L17:
 107:Src/maze_analysis.c **** 		{
 385              		.loc 1 107 0
 386 0122 0E2F     		cmp	r7, #14
 387 0124 0FD8     		bhi	.L18
 109:Src/maze_analysis.c **** 			if ( tmp == 0)
 388              		.loc 1 109 0
 389 0126 04EB8703 		add	r3, r4, r7, lsl #2
 390 012a 5A68     		ldr	r2, [r3, #4]
 391 012c 0123     		movs	r3, #1
 392 012e B340     		lsls	r3, r3, r6
 393              	.LVL41:
 110:Src/maze_analysis.c **** 			{
 394              		.loc 1 110 0
 395 0130 1A42     		tst	r2, r3
 396 0132 08D1     		bne	.L18
 112:Src/maze_analysis.c **** 					enqueue(&q, step, x + 1, y);
 397              		.loc 1 112 0
 398 0134 07F10108 		add	r8, r7, #1
 399 0138 04EB0813 		add	r3, r4, r8, lsl #4
 400              	.LVL42:
 401 013c 3344     		add	r3, r3, r6
 402 013e 93F80431 		ldrb	r3, [r3, #260]	@ zero_extendqisi2
 403 0142 FF2B     		cmp	r3, #255
 404 0144 A4D0     		beq	.L28
 405              	.LVL43:
 406              	.L18:
 119:Src/maze_analysis.c **** 		{
 407              		.loc 1 119 0
 408 0146 002F     		cmp	r7, #0
 409 0148 AFD0     		beq	.L19
 121:Src/maze_analysis.c **** 			if (tmp == 0)
 410              		.loc 1 121 0
 411 014a 07F1FF38 		add	r8, r7, #-1
 412 014e 04EB8803 		add	r3, r4, r8, lsl #2
 413 0152 5A68     		ldr	r2, [r3, #4]
 414 0154 0123     		movs	r3, #1
 415 0156 B340     		lsls	r3, r3, r6
 416              	.LVL44:
 122:Src/maze_analysis.c **** 			{
 417              		.loc 1 122 0
 418 0158 1A42     		tst	r2, r3
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 11


 419 015a A6D1     		bne	.L19
 124:Src/maze_analysis.c **** 					enqueue(&q, step, x - 1, y);
 420              		.loc 1 124 0
 421 015c 04EB0813 		add	r3, r4, r8, lsl #4
 422              	.LVL45:
 423 0160 3344     		add	r3, r3, r6
 424 0162 93F80431 		ldrb	r3, [r3, #260]	@ zero_extendqisi2
 425 0166 FF2B     		cmp	r3, #255
 426 0168 9FD1     		bne	.L19
 125:Src/maze_analysis.c **** 					maze->step[x - 1][y] = step;
 427              		.loc 1 125 0
 428 016a 3346     		mov	r3, r6
 429 016c 5FFA88F2 		uxtb	r2, r8
 430              	.LVL46:
 431 0170 2946     		mov	r1, r5
 432 0172 02A8     		add	r0, sp, #8
 433 0174 FFF7FEFF 		bl	enqueue
 434              	.LVL47:
 126:Src/maze_analysis.c **** 				}
 435              		.loc 1 126 0
 436 0178 04EB0818 		add	r8, r4, r8, lsl #4
 437 017c 4644     		add	r6, r6, r8
 438              	.LVL48:
 439 017e 86F80451 		strb	r5, [r6, #260]
 440 0182 92E7     		b	.L19
 441              	.L25:
 131:Src/maze_analysis.c **** 			break;
 132:Src/maze_analysis.c **** 		}
 133:Src/maze_analysis.c **** 	}
 134:Src/maze_analysis.c **** }
 442              		.loc 1 134 0
 443 0184 0DF5447D 		add	sp, sp, #784
 444              	.LCFI7:
 445              		.cfi_def_cfa_offset 24
 446              		@ sp needed
 447 0188 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 448              		.cfi_endproc
 449              	.LFE3:
 451              		.section	.text.Maze_CreateAllMap,"ax",%progbits
 452              		.align	1
 453              		.global	Maze_CreateAllMap
 454              		.syntax unified
 455              		.thumb
 456              		.thumb_func
 457              		.fpu fpv4-sp-d16
 459              	Maze_CreateAllMap:
 460              	.LFB4:
 135:Src/maze_analysis.c **** 
 136:Src/maze_analysis.c **** unsigned char Maze_CreateAllMap(maze_t *maze) {
 461              		.loc 1 136 0
 462              		.cfi_startproc
 463              		@ args = 0, pretend = 0, frame = 784
 464              		@ frame_needed = 0, uses_anonymous_args = 0
 465              	.LVL49:
 466 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 467              	.LCFI8:
 468              		.cfi_def_cfa_offset 28
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 12


 469              		.cfi_offset 4, -28
 470              		.cfi_offset 5, -24
 471              		.cfi_offset 6, -20
 472              		.cfi_offset 7, -16
 473              		.cfi_offset 8, -12
 474              		.cfi_offset 9, -8
 475              		.cfi_offset 14, -4
 476 0004 ADF5457D 		sub	sp, sp, #788
 477              	.LCFI9:
 478              		.cfi_def_cfa_offset 816
 479 0008 0646     		mov	r6, r0
 480              	.LVL50:
 137:Src/maze_analysis.c **** 	queue_t q;
 138:Src/maze_analysis.c **** 	buff_queue_t buff;
 139:Src/maze_analysis.c **** 	unsigned char x;
 140:Src/maze_analysis.c **** 	unsigned char y;
 141:Src/maze_analysis.c **** 	unsigned char step;
 142:Src/maze_analysis.c **** 	unsigned int tmp;
 143:Src/maze_analysis.c **** 	unsigned char re_num=0;
 144:Src/maze_analysis.c **** 
 145:Src/maze_analysis.c **** 	//init Que
 146:Src/maze_analysis.c **** 	Que_initialize(&q);
 481              		.loc 1 146 0
 482 000a 02A8     		add	r0, sp, #8
 483              	.LVL51:
 484 000c FFF7FEFF 		bl	Que_initialize
 485              	.LVL52:
 486              	.LBB5:
 147:Src/maze_analysis.c **** 
 148:Src/maze_analysis.c **** 	//init step
 149:Src/maze_analysis.c **** 	for (unsigned char i = 0; i<WALL_NUM; i++) {
 487              		.loc 1 149 0
 488 0010 0027     		movs	r7, #0
 489 0012 44E0     		b	.L30
 490              	.LVL53:
 491              	.L46:
 492              	.LBB6:
 493              	.LBB7:
 150:Src/maze_analysis.c **** 		for (unsigned char j = 0; j<WALL_NUM; j++) {
 151:Src/maze_analysis.c **** 			unsigned char tmp_step=255;
 152:Src/maze_analysis.c **** 			//north
 153:Src/maze_analysis.c **** 			if ((maze->wall_hor_search[j] & (0b1<<i)) == 0) {
 154:Src/maze_analysis.c **** 				tmp_step = 0;
 494              		.loc 1 154 0
 495 0014 4FF00008 		mov	r8, #0
 496 0018 1DE0     		b	.L31
 497              	.LVL54:
 498              	.L49:
 155:Src/maze_analysis.c **** 			}
 156:Src/maze_analysis.c **** 			//south
 157:Src/maze_analysis.c **** 			if (j>0)
 158:Src/maze_analysis.c **** 			{
 159:Src/maze_analysis.c **** 				if ((maze->wall_hor_search[j - 1] & (0b1<<i)) == 0) {
 160:Src/maze_analysis.c **** 					tmp_step = 0;
 161:Src/maze_analysis.c **** 				}
 162:Src/maze_analysis.c **** 			}
 163:Src/maze_analysis.c **** 			//east
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 13


 164:Src/maze_analysis.c **** 			if ((maze->wall_ver_search[i] & (0b1<<j))== 0)
 165:Src/maze_analysis.c **** 			{
 166:Src/maze_analysis.c **** 				tmp_step = 0;
 167:Src/maze_analysis.c **** 			}
 168:Src/maze_analysis.c **** 			//west
 169:Src/maze_analysis.c **** 			if (i>0)
 170:Src/maze_analysis.c **** 			{
 171:Src/maze_analysis.c **** 				if ((maze->wall_ver_search[i - 1] & (0b1<<j)) == 0) {
 172:Src/maze_analysis.c **** 					tmp_step = 0;
 499              		.loc 1 172 0
 500 001a 4FF00008 		mov	r8, #0
 501              	.LVL55:
 502              	.L35:
 173:Src/maze_analysis.c **** 				}
 174:Src/maze_analysis.c **** 
 175:Src/maze_analysis.c **** 			}
 176:Src/maze_analysis.c **** 			if (tmp_step == 0) {
 177:Src/maze_analysis.c **** 				enqueue(&q, 0, i, j);
 503              		.loc 1 177 0
 504 001e 2346     		mov	r3, r4
 505 0020 3A46     		mov	r2, r7
 506 0022 0021     		movs	r1, #0
 507 0024 02A8     		add	r0, sp, #8
 508 0026 FFF7FEFF 		bl	enqueue
 509              	.LVL56:
 510              	.L36:
 178:Src/maze_analysis.c **** 			}
 179:Src/maze_analysis.c **** 			maze->step[i][j] = tmp_step;
 511              		.loc 1 179 0 discriminator 2
 512 002a 06EB0515 		add	r5, r6, r5, lsl #4
 513 002e 4D44     		add	r5, r5, r9
 514 0030 85F80481 		strb	r8, [r5, #260]
 515              	.LBE7:
 150:Src/maze_analysis.c **** 			unsigned char tmp_step=255;
 516              		.loc 1 150 0 discriminator 2
 517 0034 0134     		adds	r4, r4, #1
 518              	.LVL57:
 519 0036 E4B2     		uxtb	r4, r4
 520              	.LVL58:
 521              	.L38:
 150:Src/maze_analysis.c **** 			unsigned char tmp_step=255;
 522              		.loc 1 150 0 is_stmt 0 discriminator 1
 523 0038 0F2C     		cmp	r4, #15
 524 003a 2ED8     		bhi	.L53
 525              	.LVL59:
 526              	.LBB8:
 153:Src/maze_analysis.c **** 				tmp_step = 0;
 527              		.loc 1 153 0 is_stmt 1
 528 003c A146     		mov	r9, r4
 529 003e 04F13003 		add	r3, r4, #48
 530 0042 06EB8303 		add	r3, r6, r3, lsl #2
 531 0046 5A68     		ldr	r2, [r3, #4]
 532 0048 3D46     		mov	r5, r7
 533 004a 0123     		movs	r3, #1
 534 004c BB40     		lsls	r3, r3, r7
 535 004e 1A42     		tst	r2, r3
 536 0050 E0D0     		beq	.L46
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 14


 151:Src/maze_analysis.c **** 			//north
 537              		.loc 1 151 0
 538 0052 4FF0FF08 		mov	r8, #255
 539              	.L31:
 540              	.LVL60:
 157:Src/maze_analysis.c **** 			{
 541              		.loc 1 157 0
 542 0056 44B1     		cbz	r4, .L32
 159:Src/maze_analysis.c **** 					tmp_step = 0;
 543              		.loc 1 159 0
 544 0058 09F12F02 		add	r2, r9, #47
 545 005c 06EB8202 		add	r2, r6, r2, lsl #2
 546 0060 5268     		ldr	r2, [r2, #4]
 547 0062 1342     		tst	r3, r2
 548 0064 01D1     		bne	.L32
 160:Src/maze_analysis.c **** 				}
 549              		.loc 1 160 0
 550 0066 4FF00008 		mov	r8, #0
 551              	.LVL61:
 552              	.L32:
 164:Src/maze_analysis.c **** 			{
 553              		.loc 1 164 0
 554 006a 05F12003 		add	r3, r5, #32
 555 006e 06EB8303 		add	r3, r6, r3, lsl #2
 556 0072 5A68     		ldr	r2, [r3, #4]
 557 0074 0123     		movs	r3, #1
 558 0076 03FA09F3 		lsl	r3, r3, r9
 559 007a 1A42     		tst	r2, r3
 560 007c 01D1     		bne	.L33
 166:Src/maze_analysis.c **** 			}
 561              		.loc 1 166 0
 562 007e 4FF00008 		mov	r8, #0
 563              	.LVL62:
 564              	.L33:
 169:Src/maze_analysis.c **** 			{
 565              		.loc 1 169 0
 566 0082 37B1     		cbz	r7, .L34
 171:Src/maze_analysis.c **** 					tmp_step = 0;
 567              		.loc 1 171 0
 568 0084 05F11F02 		add	r2, r5, #31
 569 0088 06EB8202 		add	r2, r6, r2, lsl #2
 570 008c 5268     		ldr	r2, [r2, #4]
 571 008e 1342     		tst	r3, r2
 572 0090 C3D0     		beq	.L49
 573              	.L34:
 176:Src/maze_analysis.c **** 				enqueue(&q, 0, i, j);
 574              		.loc 1 176 0
 575 0092 B8F1000F 		cmp	r8, #0
 576 0096 C8D1     		bne	.L36
 577 0098 C1E7     		b	.L35
 578              	.LVL63:
 579              	.L53:
 580              	.LBE8:
 581              	.LBE6:
 149:Src/maze_analysis.c **** 		for (unsigned char j = 0; j<WALL_NUM; j++) {
 582              		.loc 1 149 0 discriminator 2
 583 009a 0137     		adds	r7, r7, #1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 15


 584              	.LVL64:
 585 009c FFB2     		uxtb	r7, r7
 586              	.LVL65:
 587              	.L30:
 149:Src/maze_analysis.c **** 		for (unsigned char j = 0; j<WALL_NUM; j++) {
 588              		.loc 1 149 0 is_stmt 0 discriminator 1
 589 009e 0F2F     		cmp	r7, #15
 590 00a0 28D8     		bhi	.L39
 591              	.LBB9:
 150:Src/maze_analysis.c **** 			unsigned char tmp_step=255;
 592              		.loc 1 150 0 is_stmt 1
 593 00a2 0024     		movs	r4, #0
 594 00a4 C8E7     		b	.L38
 595              	.LVL66:
 596              	.L55:
 597              	.LBE9:
 598              	.LBE5:
 180:Src/maze_analysis.c **** 
 181:Src/maze_analysis.c **** 		}
 182:Src/maze_analysis.c **** 	}
 183:Src/maze_analysis.c **** 
 184:Src/maze_analysis.c **** 	while (q.head != q.tail)
 185:Src/maze_analysis.c **** 	{
 186:Src/maze_analysis.c **** 		buff = dequeue(&q);
 187:Src/maze_analysis.c **** 		x = buff.x;
 188:Src/maze_analysis.c **** 		y = buff.y;
 189:Src/maze_analysis.c **** 		step = buff.data + 1;
 190:Src/maze_analysis.c **** 		//north
 191:Src/maze_analysis.c **** 		if (y < WALL_NUM - 1)
 192:Src/maze_analysis.c **** 		{
 193:Src/maze_analysis.c **** 			tmp = maze->wall_horizontal[y] & (0b1 << x);
 194:Src/maze_analysis.c **** 			if (tmp == 0)
 195:Src/maze_analysis.c **** 			{
 196:Src/maze_analysis.c **** 				if (maze->step[x][y + 1] == MAX_STEP) {
 197:Src/maze_analysis.c **** 					enqueue(&q, step, x, y + 1);
 599              		.loc 1 197 0
 600 00a6 5FFA88F3 		uxtb	r3, r8
 601 00aa 3A46     		mov	r2, r7
 602              	.LVL67:
 603 00ac 2146     		mov	r1, r4
 604 00ae 02A8     		add	r0, sp, #8
 605 00b0 FFF7FEFF 		bl	enqueue
 606              	.LVL68:
 198:Src/maze_analysis.c **** 					maze->step[x][y + 1] = step;
 607              		.loc 1 198 0
 608 00b4 06EB0713 		add	r3, r6, r7, lsl #4
 609 00b8 9844     		add	r8, r8, r3
 610 00ba 88F80441 		strb	r4, [r8, #260]
 611 00be 42E0     		b	.L40
 612              	.LVL69:
 613              	.L56:
 199:Src/maze_analysis.c **** 				}
 200:Src/maze_analysis.c **** 			}
 201:Src/maze_analysis.c **** 		}
 202:Src/maze_analysis.c **** 		//south
 203:Src/maze_analysis.c **** 		if (y>0) {
 204:Src/maze_analysis.c **** 			tmp = maze->wall_horizontal[y - 1] & (0b1 << x);
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 16


 205:Src/maze_analysis.c **** 			if (tmp == 0)
 206:Src/maze_analysis.c **** 			{
 207:Src/maze_analysis.c **** 				if (maze->step[x][y - 1] == MAX_STEP) {
 208:Src/maze_analysis.c **** 					enqueue(&q, step, x, y - 1);
 614              		.loc 1 208 0
 615 00c0 5FFA88F3 		uxtb	r3, r8
 616 00c4 3A46     		mov	r2, r7
 617              	.LVL70:
 618 00c6 2146     		mov	r1, r4
 619 00c8 02A8     		add	r0, sp, #8
 620 00ca FFF7FEFF 		bl	enqueue
 621              	.LVL71:
 209:Src/maze_analysis.c **** 					maze->step[x][y - 1] = step;
 622              		.loc 1 209 0
 623 00ce 06EB0713 		add	r3, r6, r7, lsl #4
 624 00d2 9844     		add	r8, r8, r3
 625 00d4 88F80441 		strb	r4, [r8, #260]
 626 00d8 48E0     		b	.L41
 627              	.LVL72:
 628              	.L57:
 210:Src/maze_analysis.c **** 				}
 211:Src/maze_analysis.c **** 			}
 212:Src/maze_analysis.c **** 		}
 213:Src/maze_analysis.c **** 		//east
 214:Src/maze_analysis.c **** 		if (x < WALL_NUM - 1)
 215:Src/maze_analysis.c **** 		{
 216:Src/maze_analysis.c **** 			tmp = maze->wall_vertical[x] & (0b1 << y);
 217:Src/maze_analysis.c **** 			if (tmp == 0)
 218:Src/maze_analysis.c **** 			{
 219:Src/maze_analysis.c **** 				if (maze->step[x + 1][y] == MAX_STEP) {
 220:Src/maze_analysis.c **** 					enqueue(&q, step, x + 1, y);
 629              		.loc 1 220 0
 630 00da 2B46     		mov	r3, r5
 631 00dc 5FFA88F2 		uxtb	r2, r8
 632              	.LVL73:
 633 00e0 2146     		mov	r1, r4
 634 00e2 02A8     		add	r0, sp, #8
 635 00e4 FFF7FEFF 		bl	enqueue
 636              	.LVL74:
 221:Src/maze_analysis.c **** 					maze->step[x + 1][y] = step;
 637              		.loc 1 221 0
 638 00e8 06EB0813 		add	r3, r6, r8, lsl #4
 639 00ec 2B44     		add	r3, r3, r5
 640 00ee 83F80441 		strb	r4, [r3, #260]
 641 00f2 4DE0     		b	.L42
 642              	.LVL75:
 643              	.L39:
 184:Src/maze_analysis.c **** 	{
 644              		.loc 1 184 0
 645 00f4 C29A     		ldr	r2, [sp, #776]
 646 00f6 C39B     		ldr	r3, [sp, #780]
 647 00f8 9A42     		cmp	r2, r3
 648 00fa 68D0     		beq	.L54
 186:Src/maze_analysis.c **** 		x = buff.x;
 649              		.loc 1 186 0
 650 00fc 02A8     		add	r0, sp, #8
 651 00fe FFF7FEFF 		bl	dequeue
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 17


 652              	.LVL76:
 653 0102 8DF80400 		strb	r0, [sp, #4]
 654 0106 C0F30722 		ubfx	r2, r0, #8, #8
 655 010a 8DF80520 		strb	r2, [sp, #5]
 656 010e C0F30745 		ubfx	r5, r0, #16, #8
 657 0112 8DF80650 		strb	r5, [sp, #6]
 187:Src/maze_analysis.c **** 		y = buff.y;
 658              		.loc 1 187 0
 659 0116 1746     		mov	r7, r2
 660              	.LVL77:
 189:Src/maze_analysis.c **** 		//north
 661              		.loc 1 189 0
 662 0118 C0B2     		uxtb	r0, r0
 663 011a 0130     		adds	r0, r0, #1
 664 011c C4B2     		uxtb	r4, r0
 665              	.LVL78:
 191:Src/maze_analysis.c **** 		{
 666              		.loc 1 191 0
 667 011e 0E2D     		cmp	r5, #14
 668 0120 11D8     		bhi	.L40
 193:Src/maze_analysis.c **** 			if (tmp == 0)
 669              		.loc 1 193 0
 670 0122 05F11003 		add	r3, r5, #16
 671 0126 06EB8303 		add	r3, r6, r3, lsl #2
 672 012a 5A68     		ldr	r2, [r3, #4]
 673 012c 0123     		movs	r3, #1
 674 012e BB40     		lsls	r3, r3, r7
 675              	.LVL79:
 194:Src/maze_analysis.c **** 			{
 676              		.loc 1 194 0
 677 0130 1A42     		tst	r2, r3
 678 0132 08D1     		bne	.L40
 196:Src/maze_analysis.c **** 					enqueue(&q, step, x, y + 1);
 679              		.loc 1 196 0
 680 0134 05F10108 		add	r8, r5, #1
 681 0138 06EB0713 		add	r3, r6, r7, lsl #4
 682              	.LVL80:
 683 013c 4344     		add	r3, r3, r8
 684 013e 93F80431 		ldrb	r3, [r3, #260]	@ zero_extendqisi2
 685 0142 FF2B     		cmp	r3, #255
 686 0144 AFD0     		beq	.L55
 687              	.LVL81:
 688              	.L40:
 203:Src/maze_analysis.c **** 			tmp = maze->wall_horizontal[y - 1] & (0b1 << x);
 689              		.loc 1 203 0
 690 0146 8DB1     		cbz	r5, .L41
 204:Src/maze_analysis.c **** 			if (tmp == 0)
 691              		.loc 1 204 0
 692 0148 05F1FF38 		add	r8, r5, #-1
 693 014c 05F10F03 		add	r3, r5, #15
 694 0150 06EB8303 		add	r3, r6, r3, lsl #2
 695 0154 5A68     		ldr	r2, [r3, #4]
 696 0156 0123     		movs	r3, #1
 697 0158 BB40     		lsls	r3, r3, r7
 698              	.LVL82:
 205:Src/maze_analysis.c **** 			{
 699              		.loc 1 205 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 18


 700 015a 1A42     		tst	r2, r3
 701 015c 06D1     		bne	.L41
 207:Src/maze_analysis.c **** 					enqueue(&q, step, x, y - 1);
 702              		.loc 1 207 0
 703 015e 06EB0713 		add	r3, r6, r7, lsl #4
 704              	.LVL83:
 705 0162 4344     		add	r3, r3, r8
 706 0164 93F80431 		ldrb	r3, [r3, #260]	@ zero_extendqisi2
 707 0168 FF2B     		cmp	r3, #255
 708 016a A9D0     		beq	.L56
 709              	.LVL84:
 710              	.L41:
 214:Src/maze_analysis.c **** 		{
 711              		.loc 1 214 0
 712 016c 0E2F     		cmp	r7, #14
 713 016e 0FD8     		bhi	.L42
 216:Src/maze_analysis.c **** 			if (tmp == 0)
 714              		.loc 1 216 0
 715 0170 06EB8703 		add	r3, r6, r7, lsl #2
 716 0174 5A68     		ldr	r2, [r3, #4]
 717 0176 0123     		movs	r3, #1
 718 0178 AB40     		lsls	r3, r3, r5
 719              	.LVL85:
 217:Src/maze_analysis.c **** 			{
 720              		.loc 1 217 0
 721 017a 1A42     		tst	r2, r3
 722 017c 08D1     		bne	.L42
 219:Src/maze_analysis.c **** 					enqueue(&q, step, x + 1, y);
 723              		.loc 1 219 0
 724 017e 07F10108 		add	r8, r7, #1
 725 0182 06EB0813 		add	r3, r6, r8, lsl #4
 726              	.LVL86:
 727 0186 2B44     		add	r3, r3, r5
 728 0188 93F80431 		ldrb	r3, [r3, #260]	@ zero_extendqisi2
 729 018c FF2B     		cmp	r3, #255
 730 018e A4D0     		beq	.L57
 731              	.LVL87:
 732              	.L42:
 222:Src/maze_analysis.c **** 				}
 223:Src/maze_analysis.c **** 			}
 224:Src/maze_analysis.c **** 		}
 225:Src/maze_analysis.c **** 		//west
 226:Src/maze_analysis.c **** 		if (x > 0)
 733              		.loc 1 226 0
 734 0190 002F     		cmp	r7, #0
 735 0192 AFD0     		beq	.L39
 227:Src/maze_analysis.c **** 		{
 228:Src/maze_analysis.c **** 			tmp = maze->wall_vertical[x - 1] & (0b1 << y);
 736              		.loc 1 228 0
 737 0194 07F1FF38 		add	r8, r7, #-1
 738 0198 06EB8803 		add	r3, r6, r8, lsl #2
 739 019c 5A68     		ldr	r2, [r3, #4]
 740 019e 0123     		movs	r3, #1
 741 01a0 AB40     		lsls	r3, r3, r5
 742              	.LVL88:
 229:Src/maze_analysis.c **** 			if (tmp == 0)
 743              		.loc 1 229 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 19


 744 01a2 1A42     		tst	r2, r3
 745 01a4 A6D1     		bne	.L39
 230:Src/maze_analysis.c **** 			{
 231:Src/maze_analysis.c **** 				if (maze->step[x - 1][y] == MAX_STEP) {
 746              		.loc 1 231 0
 747 01a6 06EB0813 		add	r3, r6, r8, lsl #4
 748              	.LVL89:
 749 01aa 2B44     		add	r3, r3, r5
 750 01ac 93F80431 		ldrb	r3, [r3, #260]	@ zero_extendqisi2
 751 01b0 FF2B     		cmp	r3, #255
 752 01b2 9FD1     		bne	.L39
 232:Src/maze_analysis.c **** 					enqueue(&q, step, x - 1, y);
 753              		.loc 1 232 0
 754 01b4 2B46     		mov	r3, r5
 755 01b6 5FFA88F2 		uxtb	r2, r8
 756              	.LVL90:
 757 01ba 2146     		mov	r1, r4
 758 01bc 02A8     		add	r0, sp, #8
 759 01be FFF7FEFF 		bl	enqueue
 760              	.LVL91:
 233:Src/maze_analysis.c **** 					maze->step[x - 1][y] = step;
 761              		.loc 1 233 0
 762 01c2 06EB0818 		add	r8, r6, r8, lsl #4
 763 01c6 4544     		add	r5, r5, r8
 764              	.LVL92:
 765 01c8 85F80441 		strb	r4, [r5, #260]
 766 01cc 92E7     		b	.L39
 767              	.LVL93:
 768              	.L54:
 234:Src/maze_analysis.c **** 				}
 235:Src/maze_analysis.c **** 			}
 236:Src/maze_analysis.c **** 		}
 237:Src/maze_analysis.c **** 	}
 238:Src/maze_analysis.c **** 
 239:Src/maze_analysis.c **** 	if (maze->step[0][0] == 255) {
 769              		.loc 1 239 0
 770 01ce 96F80431 		ldrb	r3, [r6, #260]	@ zero_extendqisi2
 771 01d2 FF2B     		cmp	r3, #255
 772 01d4 04D0     		beq	.L51
 143:Src/maze_analysis.c **** 
 773              		.loc 1 143 0
 774 01d6 0020     		movs	r0, #0
 775              	.L45:
 776              	.LVL94:
 240:Src/maze_analysis.c **** 		re_num = 1;
 241:Src/maze_analysis.c **** 	}
 242:Src/maze_analysis.c **** 
 243:Src/maze_analysis.c **** 	return re_num;
 244:Src/maze_analysis.c **** }
 777              		.loc 1 244 0
 778 01d8 0DF5457D 		add	sp, sp, #788
 779              	.LCFI10:
 780              		.cfi_remember_state
 781              		.cfi_def_cfa_offset 28
 782              		@ sp needed
 783 01dc BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 784              	.LVL95:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 20


 785              	.L51:
 786              	.LCFI11:
 787              		.cfi_restore_state
 240:Src/maze_analysis.c **** 		re_num = 1;
 788              		.loc 1 240 0
 789 01e0 0120     		movs	r0, #1
 790 01e2 F9E7     		b	.L45
 791              		.cfi_endproc
 792              	.LFE4:
 794              		.section	.text.Maze_CreateFastMap,"ax",%progbits
 795              		.align	1
 796              		.global	Maze_CreateFastMap
 797              		.syntax unified
 798              		.thumb
 799              		.thumb_func
 800              		.fpu fpv4-sp-d16
 802              	Maze_CreateFastMap:
 803              	.LFB5:
 245:Src/maze_analysis.c **** 
 246:Src/maze_analysis.c **** void Maze_CreateFastMap(maze_t *maze) {
 804              		.loc 1 246 0
 805              		.cfi_startproc
 806              		@ args = 0, pretend = 0, frame = 0
 807              		@ frame_needed = 0, uses_anonymous_args = 0
 808              	.LVL96:
 809 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 810              	.LCFI12:
 811              		.cfi_def_cfa_offset 24
 812              		.cfi_offset 3, -24
 813              		.cfi_offset 4, -20
 814              		.cfi_offset 5, -16
 815              		.cfi_offset 6, -12
 816              		.cfi_offset 7, -8
 817              		.cfi_offset 14, -4
 818              	.LVL97:
 819              	.LBB10:
 247:Src/maze_analysis.c **** 	for (unsigned char i = 0; i < WALL_NUM; i++)
 820              		.loc 1 247 0
 821 0002 0024     		movs	r4, #0
 822 0004 2BE0     		b	.L59
 823              	.LVL98:
 824              	.L61:
 825              	.LBB11:
 248:Src/maze_analysis.c **** 	{
 249:Src/maze_analysis.c **** 		for (unsigned char j = 0; j < WALL_NUM; j++)
 826              		.loc 1 249 0 discriminator 2
 827 0006 0133     		adds	r3, r3, #1
 828              	.LVL99:
 829 0008 DBB2     		uxtb	r3, r3
 830              	.LVL100:
 831              	.L63:
 832              		.loc 1 249 0 is_stmt 0 discriminator 1
 833 000a 0F2B     		cmp	r3, #15
 834 000c 25D8     		bhi	.L66
 250:Src/maze_analysis.c **** 		{
 251:Src/maze_analysis.c **** 			if ((maze->wall_hor_search[i]>>j & 0b1) != 0)
 835              		.loc 1 251 0 is_stmt 1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 21


 836 000e 2146     		mov	r1, r4
 837 0010 04F13002 		add	r2, r4, #48
 838 0014 00EB8202 		add	r2, r0, r2, lsl #2
 839 0018 5268     		ldr	r2, [r2, #4]
 840 001a 1D46     		mov	r5, r3
 841 001c DA40     		lsrs	r2, r2, r3
 842 001e 12F0010F 		tst	r2, #1
 843 0022 08D1     		bne	.L60
 252:Src/maze_analysis.c **** 			{
 253:Src/maze_analysis.c **** 			}
 254:Src/maze_analysis.c **** 			else
 255:Src/maze_analysis.c **** 			{
 256:Src/maze_analysis.c **** 				maze->wall_horizontal[i] = maze->wall_horizontal[i] | (0b1 << j);
 844              		.loc 1 256 0
 845 0024 04F11002 		add	r2, r4, #16
 846 0028 00EB8202 		add	r2, r0, r2, lsl #2
 847 002c 5668     		ldr	r6, [r2, #4]
 848 002e 0127     		movs	r7, #1
 849 0030 9F40     		lsls	r7, r7, r3
 850 0032 3E43     		orrs	r6, r6, r7
 851 0034 5660     		str	r6, [r2, #4]
 852              	.L60:
 257:Src/maze_analysis.c **** 			}
 258:Src/maze_analysis.c **** 			if ((maze->wall_ver_search[i]>>j & 0b1) != 0)
 853              		.loc 1 258 0
 854 0036 01F12002 		add	r2, r1, #32
 855 003a 00EB8202 		add	r2, r0, r2, lsl #2
 856 003e 5268     		ldr	r2, [r2, #4]
 857 0040 EA40     		lsrs	r2, r2, r5
 858 0042 12F0010F 		tst	r2, #1
 859 0046 DED1     		bne	.L61
 259:Src/maze_analysis.c **** 			{
 260:Src/maze_analysis.c **** 			}
 261:Src/maze_analysis.c **** 			else
 262:Src/maze_analysis.c **** 			{
 263:Src/maze_analysis.c **** 				maze->wall_vertical[i] = maze->wall_vertical[i] | (0b1 << j);
 860              		.loc 1 263 0
 861 0048 00EB8101 		add	r1, r0, r1, lsl #2
 862 004c 4A68     		ldr	r2, [r1, #4]
 863 004e 0126     		movs	r6, #1
 864 0050 06FA05F5 		lsl	r5, r6, r5
 865 0054 2A43     		orrs	r2, r2, r5
 866 0056 4A60     		str	r2, [r1, #4]
 867 0058 D5E7     		b	.L61
 868              	.L66:
 869              	.LBE11:
 247:Src/maze_analysis.c **** 	{
 870              		.loc 1 247 0 discriminator 2
 871 005a 0134     		adds	r4, r4, #1
 872              	.LVL101:
 873 005c E4B2     		uxtb	r4, r4
 874              	.LVL102:
 875              	.L59:
 247:Src/maze_analysis.c **** 	{
 876              		.loc 1 247 0 is_stmt 0 discriminator 1
 877 005e 0F2C     		cmp	r4, #15
 878 0060 01D8     		bhi	.L67
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 22


 879              	.LBB12:
 249:Src/maze_analysis.c **** 		{
 880              		.loc 1 249 0 is_stmt 1
 881 0062 0023     		movs	r3, #0
 882 0064 D1E7     		b	.L63
 883              	.L67:
 884              	.LBE12:
 885              	.LBE10:
 264:Src/maze_analysis.c **** 			}
 265:Src/maze_analysis.c **** 		}
 266:Src/maze_analysis.c **** 	}
 267:Src/maze_analysis.c **** 	Maze_CreateMap(maze);
 886              		.loc 1 267 0
 887 0066 FFF7FEFF 		bl	Maze_CreateMap
 888              	.LVL103:
 268:Src/maze_analysis.c **** }
 889              		.loc 1 268 0
 890 006a F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 891              		.cfi_endproc
 892              	.LFE5:
 894              		.text
 895              	.Letext0:
 896              		.file 2 "Inc/maze_info.h"
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s 			page 23


DEFINED SYMBOLS
                            *ABS*:00000000 maze_analysis.c
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:18     .text.Que_initialize:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:25     .text.Que_initialize:00000000 Que_initialize
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:65     .text.enqueue:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:72     .text.enqueue:00000000 enqueue
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:123    .text.dequeue:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:130    .text.dequeue:00000000 dequeue
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:175    .text.Maze_CreateMap:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:182    .text.Maze_CreateMap:00000000 Maze_CreateMap
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:452    .text.Maze_CreateAllMap:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:459    .text.Maze_CreateAllMap:00000000 Maze_CreateAllMap
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:795    .text.Maze_CreateFastMap:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccp82rps.s:802    .text.Maze_CreateFastMap:00000000 Maze_CreateFastMap

NO UNDEFINED SYMBOLS
