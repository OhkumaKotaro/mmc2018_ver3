ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"motion.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Straight_half_accel,"ax",%progbits
  18              		.align	1
  19              		.global	Straight_half_accel
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	Straight_half_accel:
  26              	.LFB126:
  27              		.file 1 "Src/motion.c"
   1:Src/motion.c  **** #include "motion.h"
   2:Src/motion.c  **** #include "control.h"
   3:Src/motion.c  **** #include "stm32f4xx_hal.h"
   4:Src/motion.c  **** #include "tim.h"
   5:Src/motion.c  **** 
   6:Src/motion.c  **** #define TRUE 1
   7:Src/motion.c  **** #define FALSE 0
   8:Src/motion.c  **** 
   9:Src/motion.c  **** //straight
  10:Src/motion.c  **** #define ACCEL 4000       //[mm/s^2]
  11:Src/motion.c  **** #define MAX_VELOCITY 400 //[mm/s]
  12:Src/motion.c  **** //fast
  13:Src/motion.c  **** #define FAST_ACCEL 6000    //[mm/s]
  14:Src/motion.c  **** 
  15:Src/motion.c  **** //yawrate
  16:Src/motion.c  **** #define Y_ACCEL 2000       //[degree/s^2]//2000
  17:Src/motion.c  **** #define Y_MAX_VELOCITY 380 //[degree/s]
  18:Src/motion.c  **** //slalom
  19:Src/motion.c  **** #define S_ACCEL 5000
  20:Src/motion.c  **** #define S_VELOCITY 500
  21:Src/motion.c  **** #define OFFSET_IN 32
  22:Src/motion.c  **** #define OFFSET_OUT 21
  23:Src/motion.c  **** 
  24:Src/motion.c  **** extern volatile unsigned char flag_motion_end;
  25:Src/motion.c  **** extern enc_t enc;
  26:Src/motion.c  **** extern unsigned char flag_wall;
  27:Src/motion.c  **** extern float enc_sum;
  28:Src/motion.c  **** extern float y_sum;
  29:Src/motion.c  **** 
  30:Src/motion.c  **** void Straight_half_accel(void)
  31:Src/motion.c  **** {
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 2


  28              		.loc 1 31 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 00B5     		push	{lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 4
  35              		.cfi_offset 14, -4
  36 0002 83B0     		sub	sp, sp, #12
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 16
  32:Src/motion.c  ****     Straight_Calc_fb(90, 0, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
  39              		.loc 1 32 0
  40 0004 4FF47A63 		mov	r3, #4000
  41 0008 0093     		str	r3, [sp]
  42 000a 4FF4C873 		mov	r3, #400
  43 000e 1A46     		mov	r2, r3
  44 0010 0021     		movs	r1, #0
  45 0012 5A20     		movs	r0, #90
  46 0014 FFF7FEFF 		bl	Straight_Calc_fb
  47              	.LVL0:
  33:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
  48              		.loc 1 33 0
  49 0018 0020     		movs	r0, #0
  50 001a 0090     		str	r0, [sp]
  51 001c 0346     		mov	r3, r0
  52 001e 0246     		mov	r2, r0
  53 0020 0146     		mov	r1, r0
  54 0022 FFF7FEFF 		bl	Yawrate_Calc_fb
  55              	.LVL1:
  34:Src/motion.c  **** }
  56              		.loc 1 34 0
  57 0026 03B0     		add	sp, sp, #12
  58              	.LCFI2:
  59              		.cfi_def_cfa_offset 4
  60              		@ sp needed
  61 0028 5DF804FB 		ldr	pc, [sp], #4
  62              		.cfi_endproc
  63              	.LFE126:
  65              		.section	.text.Straight_half_stop,"ax",%progbits
  66              		.align	1
  67              		.global	Straight_half_stop
  68              		.syntax unified
  69              		.thumb
  70              		.thumb_func
  71              		.fpu fpv4-sp-d16
  73              	Straight_half_stop:
  74              	.LFB127:
  35:Src/motion.c  **** 
  36:Src/motion.c  **** void Straight_half_stop(void)
  37:Src/motion.c  **** {
  75              		.loc 1 37 0
  76              		.cfi_startproc
  77              		@ args = 0, pretend = 0, frame = 0
  78              		@ frame_needed = 0, uses_anonymous_args = 0
  79 0000 00B5     		push	{lr}
  80              	.LCFI3:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 3


  81              		.cfi_def_cfa_offset 4
  82              		.cfi_offset 14, -4
  83 0002 83B0     		sub	sp, sp, #12
  84              	.LCFI4:
  85              		.cfi_def_cfa_offset 16
  38:Src/motion.c  ****     Straight_Calc_fb(90, MAX_VELOCITY, 0, MAX_VELOCITY, ACCEL);
  86              		.loc 1 38 0
  87 0004 4FF47A63 		mov	r3, #4000
  88 0008 0093     		str	r3, [sp]
  89 000a 4FF4C873 		mov	r3, #400
  90 000e 0022     		movs	r2, #0
  91 0010 1946     		mov	r1, r3
  92 0012 5A20     		movs	r0, #90
  93 0014 FFF7FEFF 		bl	Straight_Calc_fb
  94              	.LVL2:
  39:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
  95              		.loc 1 39 0
  96 0018 0020     		movs	r0, #0
  97 001a 0090     		str	r0, [sp]
  98 001c 0346     		mov	r3, r0
  99 001e 0246     		mov	r2, r0
 100 0020 0146     		mov	r1, r0
 101 0022 FFF7FEFF 		bl	Yawrate_Calc_fb
 102              	.LVL3:
  40:Src/motion.c  **** }
 103              		.loc 1 40 0
 104 0026 03B0     		add	sp, sp, #12
 105              	.LCFI5:
 106              		.cfi_def_cfa_offset 4
 107              		@ sp needed
 108 0028 5DF804FB 		ldr	pc, [sp], #4
 109              		.cfi_endproc
 110              	.LFE127:
 112              		.section	.text.Straight_const,"ax",%progbits
 113              		.align	1
 114              		.global	Straight_const
 115              		.syntax unified
 116              		.thumb
 117              		.thumb_func
 118              		.fpu fpv4-sp-d16
 120              	Straight_const:
 121              	.LFB128:
  41:Src/motion.c  **** 
  42:Src/motion.c  **** void Straight_const(void)
  43:Src/motion.c  **** {
 122              		.loc 1 43 0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 0
 125              		@ frame_needed = 0, uses_anonymous_args = 0
 126 0000 00B5     		push	{lr}
 127              	.LCFI6:
 128              		.cfi_def_cfa_offset 4
 129              		.cfi_offset 14, -4
 130 0002 83B0     		sub	sp, sp, #12
 131              	.LCFI7:
 132              		.cfi_def_cfa_offset 16
  44:Src/motion.c  ****     Straight_Calc_fb(180 - enc.offset, MAX_VELOCITY, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 4


 133              		.loc 1 44 0
 134 0004 0F4B     		ldr	r3, .L7
 135 0006 93ED027A 		vldr.32	s14, [r3, #8]
 136 000a DFED0F7A 		vldr.32	s15, .L7+4
 137 000e 77EEC77A 		vsub.f32	s15, s15, s14
 138 0012 FDEEE77A 		vcvt.s32.f32	s15, s15
 139 0016 4FF47A63 		mov	r3, #4000
 140 001a 0093     		str	r3, [sp]
 141 001c 4FF4C873 		mov	r3, #400
 142 0020 1A46     		mov	r2, r3
 143 0022 1946     		mov	r1, r3
 144 0024 17EE900A 		vmov	r0, s15	@ int
 145 0028 00B2     		sxth	r0, r0
 146 002a FFF7FEFF 		bl	Straight_Calc_fb
 147              	.LVL4:
  45:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 148              		.loc 1 45 0
 149 002e 0020     		movs	r0, #0
 150 0030 0090     		str	r0, [sp]
 151 0032 0346     		mov	r3, r0
 152 0034 0246     		mov	r2, r0
 153 0036 0146     		mov	r1, r0
 154 0038 FFF7FEFF 		bl	Yawrate_Calc_fb
 155              	.LVL5:
  46:Src/motion.c  **** }
 156              		.loc 1 46 0
 157 003c 03B0     		add	sp, sp, #12
 158              	.LCFI8:
 159              		.cfi_def_cfa_offset 4
 160              		@ sp needed
 161 003e 5DF804FB 		ldr	pc, [sp], #4
 162              	.L8:
 163 0042 00BF     		.align	2
 164              	.L7:
 165 0044 00000000 		.word	enc
 166 0048 00003443 		.word	1127481344
 167              		.cfi_endproc
 168              	.LFE128:
 170              		.section	.text.LeftTurn,"ax",%progbits
 171              		.align	1
 172              		.global	LeftTurn
 173              		.syntax unified
 174              		.thumb
 175              		.thumb_func
 176              		.fpu fpv4-sp-d16
 178              	LeftTurn:
 179              	.LFB129:
  47:Src/motion.c  **** 
  48:Src/motion.c  **** void LeftTurn(void)
  49:Src/motion.c  **** {
 180              		.loc 1 49 0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 0
 183              		@ frame_needed = 0, uses_anonymous_args = 0
 184 0000 10B5     		push	{r4, lr}
 185              	.LCFI9:
 186              		.cfi_def_cfa_offset 8
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 5


 187              		.cfi_offset 4, -8
 188              		.cfi_offset 14, -4
 189 0002 82B0     		sub	sp, sp, #8
 190              	.LCFI10:
 191              		.cfi_def_cfa_offset 16
  50:Src/motion.c  ****     Straight_Calc_fb(0, 0, 0, 0, 0);
 192              		.loc 1 50 0
 193 0004 0024     		movs	r4, #0
 194 0006 0094     		str	r4, [sp]
 195 0008 2346     		mov	r3, r4
 196 000a 2246     		mov	r2, r4
 197 000c 2146     		mov	r1, r4
 198 000e 2046     		mov	r0, r4
 199 0010 FFF7FEFF 		bl	Straight_Calc_fb
 200              	.LVL6:
  51:Src/motion.c  ****     Yawrate_Calc_fb(90, 0, 0, Y_MAX_VELOCITY, Y_ACCEL);
 201              		.loc 1 51 0
 202 0014 4FF4FA63 		mov	r3, #2000
 203 0018 0093     		str	r3, [sp]
 204 001a 4FF4BE73 		mov	r3, #380
 205 001e 2246     		mov	r2, r4
 206 0020 2146     		mov	r1, r4
 207 0022 5A20     		movs	r0, #90
 208 0024 FFF7FEFF 		bl	Yawrate_Calc_fb
 209              	.LVL7:
  52:Src/motion.c  **** }
 210              		.loc 1 52 0
 211 0028 02B0     		add	sp, sp, #8
 212              	.LCFI11:
 213              		.cfi_def_cfa_offset 8
 214              		@ sp needed
 215 002a 10BD     		pop	{r4, pc}
 216              		.cfi_endproc
 217              	.LFE129:
 219              		.section	.text.RightTurn,"ax",%progbits
 220              		.align	1
 221              		.global	RightTurn
 222              		.syntax unified
 223              		.thumb
 224              		.thumb_func
 225              		.fpu fpv4-sp-d16
 227              	RightTurn:
 228              	.LFB130:
  53:Src/motion.c  **** 
  54:Src/motion.c  **** void RightTurn(void)
  55:Src/motion.c  **** {
 229              		.loc 1 55 0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 0
 232              		@ frame_needed = 0, uses_anonymous_args = 0
 233 0000 10B5     		push	{r4, lr}
 234              	.LCFI12:
 235              		.cfi_def_cfa_offset 8
 236              		.cfi_offset 4, -8
 237              		.cfi_offset 14, -4
 238 0002 82B0     		sub	sp, sp, #8
 239              	.LCFI13:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 6


 240              		.cfi_def_cfa_offset 16
  56:Src/motion.c  ****     Straight_Calc_fb(0, 0, 0, 0, 0);
 241              		.loc 1 56 0
 242 0004 0024     		movs	r4, #0
 243 0006 0094     		str	r4, [sp]
 244 0008 2346     		mov	r3, r4
 245 000a 2246     		mov	r2, r4
 246 000c 2146     		mov	r1, r4
 247 000e 2046     		mov	r0, r4
 248 0010 FFF7FEFF 		bl	Straight_Calc_fb
 249              	.LVL8:
  57:Src/motion.c  ****     Yawrate_Calc_fb(-90, 0, 0, Y_MAX_VELOCITY, Y_ACCEL);
 250              		.loc 1 57 0
 251 0014 4FF4FA63 		mov	r3, #2000
 252 0018 0093     		str	r3, [sp]
 253 001a 4FF4BE73 		mov	r3, #380
 254 001e 2246     		mov	r2, r4
 255 0020 2146     		mov	r1, r4
 256 0022 6FF05900 		mvn	r0, #89
 257 0026 FFF7FEFF 		bl	Yawrate_Calc_fb
 258              	.LVL9:
  58:Src/motion.c  **** }
 259              		.loc 1 58 0
 260 002a 02B0     		add	sp, sp, #8
 261              	.LCFI14:
 262              		.cfi_def_cfa_offset 8
 263              		@ sp needed
 264 002c 10BD     		pop	{r4, pc}
 265              		.cfi_endproc
 266              	.LFE130:
 268              		.section	.text.U_Turn,"ax",%progbits
 269              		.align	1
 270              		.global	U_Turn
 271              		.syntax unified
 272              		.thumb
 273              		.thumb_func
 274              		.fpu fpv4-sp-d16
 276              	U_Turn:
 277              	.LFB131:
  59:Src/motion.c  **** 
  60:Src/motion.c  **** void U_Turn(void)
  61:Src/motion.c  **** {
 278              		.loc 1 61 0
 279              		.cfi_startproc
 280              		@ args = 0, pretend = 0, frame = 0
 281              		@ frame_needed = 0, uses_anonymous_args = 0
 282 0000 10B5     		push	{r4, lr}
 283              	.LCFI15:
 284              		.cfi_def_cfa_offset 8
 285              		.cfi_offset 4, -8
 286              		.cfi_offset 14, -4
 287 0002 82B0     		sub	sp, sp, #8
 288              	.LCFI16:
 289              		.cfi_def_cfa_offset 16
  62:Src/motion.c  ****     Straight_Calc_fb(0, 0, 0, 0, 0);
 290              		.loc 1 62 0
 291 0004 0024     		movs	r4, #0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 7


 292 0006 0094     		str	r4, [sp]
 293 0008 2346     		mov	r3, r4
 294 000a 2246     		mov	r2, r4
 295 000c 2146     		mov	r1, r4
 296 000e 2046     		mov	r0, r4
 297 0010 FFF7FEFF 		bl	Straight_Calc_fb
 298              	.LVL10:
  63:Src/motion.c  ****     Yawrate_Calc_fb(180, 0, 0, Y_MAX_VELOCITY, Y_ACCEL);
 299              		.loc 1 63 0
 300 0014 4FF4FA63 		mov	r3, #2000
 301 0018 0093     		str	r3, [sp]
 302 001a 4FF4BE73 		mov	r3, #380
 303 001e 2246     		mov	r2, r4
 304 0020 2146     		mov	r1, r4
 305 0022 B420     		movs	r0, #180
 306 0024 FFF7FEFF 		bl	Yawrate_Calc_fb
 307              	.LVL11:
  64:Src/motion.c  **** }
 308              		.loc 1 64 0
 309 0028 02B0     		add	sp, sp, #8
 310              	.LCFI17:
 311              		.cfi_def_cfa_offset 8
 312              		@ sp needed
 313 002a 10BD     		pop	{r4, pc}
 314              		.cfi_endproc
 315              	.LFE131:
 317              		.section	.text.Motion_Start,"ax",%progbits
 318              		.align	1
 319              		.global	Motion_Start
 320              		.syntax unified
 321              		.thumb
 322              		.thumb_func
 323              		.fpu fpv4-sp-d16
 325              	Motion_Start:
 326              	.LFB132:
  65:Src/motion.c  **** 
  66:Src/motion.c  **** void Motion_Start(void)
  67:Src/motion.c  **** {
 327              		.loc 1 67 0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 331 0000 00B5     		push	{lr}
 332              	.LCFI18:
 333              		.cfi_def_cfa_offset 4
 334              		.cfi_offset 14, -4
 335 0002 83B0     		sub	sp, sp, #12
 336              	.LCFI19:
 337              		.cfi_def_cfa_offset 16
  68:Src/motion.c  ****     enc_sum = 0;
 338              		.loc 1 68 0
 339 0004 0023     		movs	r3, #0
 340 0006 0E4A     		ldr	r2, .L18
 341 0008 1360     		str	r3, [r2]	@ float
  69:Src/motion.c  ****     y_sum = 0;
 342              		.loc 1 69 0
 343 000a 0E4A     		ldr	r2, .L18+4
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 8


 344 000c 1360     		str	r3, [r2]	@ float
  70:Src/motion.c  ****     Straight_Calc_fb(130, 0, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
 345              		.loc 1 70 0
 346 000e 4FF47A63 		mov	r3, #4000
 347 0012 0093     		str	r3, [sp]
 348 0014 4FF4C873 		mov	r3, #400
 349 0018 1A46     		mov	r2, r3
 350 001a 0021     		movs	r1, #0
 351 001c 8220     		movs	r0, #130
 352 001e FFF7FEFF 		bl	Straight_Calc_fb
 353              	.LVL12:
  71:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 354              		.loc 1 71 0
 355 0022 0020     		movs	r0, #0
 356 0024 0090     		str	r0, [sp]
 357 0026 0346     		mov	r3, r0
 358 0028 0246     		mov	r2, r0
 359 002a 0146     		mov	r1, r0
 360 002c FFF7FEFF 		bl	Yawrate_Calc_fb
 361              	.LVL13:
 362              	.L16:
  72:Src/motion.c  ****     while (flag_motion_end == FALSE)
 363              		.loc 1 72 0 discriminator 1
 364 0030 054B     		ldr	r3, .L18+8
 365 0032 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 366 0034 002B     		cmp	r3, #0
 367 0036 FBD0     		beq	.L16
  73:Src/motion.c  ****     {
  74:Src/motion.c  ****     }
  75:Src/motion.c  **** }
 368              		.loc 1 75 0
 369 0038 03B0     		add	sp, sp, #12
 370              	.LCFI20:
 371              		.cfi_def_cfa_offset 4
 372              		@ sp needed
 373 003a 5DF804FB 		ldr	pc, [sp], #4
 374              	.L19:
 375 003e 00BF     		.align	2
 376              	.L18:
 377 0040 00000000 		.word	enc_sum
 378 0044 00000000 		.word	y_sum
 379 0048 00000000 		.word	flag_motion_end
 380              		.cfi_endproc
 381              	.LFE132:
 383              		.section	.text.Motion_Straight,"ax",%progbits
 384              		.align	1
 385              		.global	Motion_Straight
 386              		.syntax unified
 387              		.thumb
 388              		.thumb_func
 389              		.fpu fpv4-sp-d16
 391              	Motion_Straight:
 392              	.LFB133:
  76:Src/motion.c  **** 
  77:Src/motion.c  **** void Motion_Straight(void)
  78:Src/motion.c  **** {
 393              		.loc 1 78 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 9


 394              		.cfi_startproc
 395              		@ args = 0, pretend = 0, frame = 0
 396              		@ frame_needed = 0, uses_anonymous_args = 0
 397 0000 08B5     		push	{r3, lr}
 398              	.LCFI21:
 399              		.cfi_def_cfa_offset 8
 400              		.cfi_offset 3, -8
 401              		.cfi_offset 14, -4
  79:Src/motion.c  ****     Straight_const();
 402              		.loc 1 79 0
 403 0002 FFF7FEFF 		bl	Straight_const
 404              	.LVL14:
 405              	.L21:
  80:Src/motion.c  ****     while (flag_motion_end == FALSE)
 406              		.loc 1 80 0 discriminator 1
 407 0006 024B     		ldr	r3, .L23
 408 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 409 000a 002B     		cmp	r3, #0
 410 000c FBD0     		beq	.L21
  81:Src/motion.c  ****     {
  82:Src/motion.c  ****     }
  83:Src/motion.c  **** }
 411              		.loc 1 83 0
 412 000e 08BD     		pop	{r3, pc}
 413              	.L24:
 414              		.align	2
 415              	.L23:
 416 0010 00000000 		.word	flag_motion_end
 417              		.cfi_endproc
 418              	.LFE133:
 420              		.section	.text.Motion_Left,"ax",%progbits
 421              		.align	1
 422              		.global	Motion_Left
 423              		.syntax unified
 424              		.thumb
 425              		.thumb_func
 426              		.fpu fpv4-sp-d16
 428              	Motion_Left:
 429              	.LFB134:
  84:Src/motion.c  **** 
  85:Src/motion.c  **** void Motion_Left(void)
  86:Src/motion.c  **** {
 430              		.loc 1 86 0
 431              		.cfi_startproc
 432              		@ args = 0, pretend = 0, frame = 0
 433              		@ frame_needed = 0, uses_anonymous_args = 0
 434 0000 08B5     		push	{r3, lr}
 435              	.LCFI22:
 436              		.cfi_def_cfa_offset 8
 437              		.cfi_offset 3, -8
 438              		.cfi_offset 14, -4
  87:Src/motion.c  ****     flag_wall = TRUE;
 439              		.loc 1 87 0
 440 0002 124B     		ldr	r3, .L30
 441 0004 0122     		movs	r2, #1
 442 0006 1A70     		strb	r2, [r3]
  88:Src/motion.c  ****     Straight_half_stop();
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 10


 443              		.loc 1 88 0
 444 0008 FFF7FEFF 		bl	Straight_half_stop
 445              	.LVL15:
 446              	.L26:
  89:Src/motion.c  ****     while (flag_motion_end == FALSE)
 447              		.loc 1 89 0 discriminator 1
 448 000c 104B     		ldr	r3, .L30+4
 449 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 450 0010 002B     		cmp	r3, #0
 451 0012 FBD0     		beq	.L26
  90:Src/motion.c  ****     {
  91:Src/motion.c  ****     }
  92:Src/motion.c  ****     HAL_Delay(1000);
 452              		.loc 1 92 0
 453 0014 4FF47A70 		mov	r0, #1000
 454 0018 FFF7FEFF 		bl	HAL_Delay
 455              	.LVL16:
  93:Src/motion.c  ****     flag_wall = FALSE;
 456              		.loc 1 93 0
 457 001c 0B4B     		ldr	r3, .L30
 458 001e 0022     		movs	r2, #0
 459 0020 1A70     		strb	r2, [r3]
  94:Src/motion.c  ****     LeftTurn();
 460              		.loc 1 94 0
 461 0022 FFF7FEFF 		bl	LeftTurn
 462              	.LVL17:
 463              	.L27:
  95:Src/motion.c  ****     while (flag_motion_end == FALSE)
 464              		.loc 1 95 0 discriminator 1
 465 0026 0A4B     		ldr	r3, .L30+4
 466 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 467 002a 002B     		cmp	r3, #0
 468 002c FBD0     		beq	.L27
  96:Src/motion.c  ****     {
  97:Src/motion.c  ****     }
  98:Src/motion.c  ****     HAL_Delay(1000);
 469              		.loc 1 98 0
 470 002e 4FF47A70 		mov	r0, #1000
 471 0032 FFF7FEFF 		bl	HAL_Delay
 472              	.LVL18:
  99:Src/motion.c  ****     flag_wall = TRUE;
 473              		.loc 1 99 0
 474 0036 054B     		ldr	r3, .L30
 475 0038 0122     		movs	r2, #1
 476 003a 1A70     		strb	r2, [r3]
 100:Src/motion.c  ****     Straight_half_accel();
 477              		.loc 1 100 0
 478 003c FFF7FEFF 		bl	Straight_half_accel
 479              	.LVL19:
 480              	.L28:
 101:Src/motion.c  ****     while (flag_motion_end == FALSE)
 481              		.loc 1 101 0 discriminator 1
 482 0040 034B     		ldr	r3, .L30+4
 483 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 484 0044 002B     		cmp	r3, #0
 485 0046 FBD0     		beq	.L28
 102:Src/motion.c  ****     {
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 11


 103:Src/motion.c  ****     }
 104:Src/motion.c  **** }
 486              		.loc 1 104 0
 487 0048 08BD     		pop	{r3, pc}
 488              	.L31:
 489 004a 00BF     		.align	2
 490              	.L30:
 491 004c 00000000 		.word	flag_wall
 492 0050 00000000 		.word	flag_motion_end
 493              		.cfi_endproc
 494              	.LFE134:
 496              		.section	.text.Motion_Right,"ax",%progbits
 497              		.align	1
 498              		.global	Motion_Right
 499              		.syntax unified
 500              		.thumb
 501              		.thumb_func
 502              		.fpu fpv4-sp-d16
 504              	Motion_Right:
 505              	.LFB135:
 105:Src/motion.c  **** 
 106:Src/motion.c  **** void Motion_Right(void)
 107:Src/motion.c  **** {
 506              		.loc 1 107 0
 507              		.cfi_startproc
 508              		@ args = 0, pretend = 0, frame = 0
 509              		@ frame_needed = 0, uses_anonymous_args = 0
 510 0000 08B5     		push	{r3, lr}
 511              	.LCFI23:
 512              		.cfi_def_cfa_offset 8
 513              		.cfi_offset 3, -8
 514              		.cfi_offset 14, -4
 108:Src/motion.c  ****     flag_wall = TRUE;
 515              		.loc 1 108 0
 516 0002 124B     		ldr	r3, .L37
 517 0004 0122     		movs	r2, #1
 518 0006 1A70     		strb	r2, [r3]
 109:Src/motion.c  ****     Straight_half_stop();
 519              		.loc 1 109 0
 520 0008 FFF7FEFF 		bl	Straight_half_stop
 521              	.LVL20:
 522              	.L33:
 110:Src/motion.c  ****     while (flag_motion_end == FALSE)
 523              		.loc 1 110 0 discriminator 1
 524 000c 104B     		ldr	r3, .L37+4
 525 000e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 526 0010 002B     		cmp	r3, #0
 527 0012 FBD0     		beq	.L33
 111:Src/motion.c  ****     {
 112:Src/motion.c  ****     }
 113:Src/motion.c  ****     HAL_Delay(1000);
 528              		.loc 1 113 0
 529 0014 4FF47A70 		mov	r0, #1000
 530 0018 FFF7FEFF 		bl	HAL_Delay
 531              	.LVL21:
 114:Src/motion.c  ****     flag_wall = FALSE;
 532              		.loc 1 114 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 12


 533 001c 0B4B     		ldr	r3, .L37
 534 001e 0022     		movs	r2, #0
 535 0020 1A70     		strb	r2, [r3]
 115:Src/motion.c  ****     RightTurn();
 536              		.loc 1 115 0
 537 0022 FFF7FEFF 		bl	RightTurn
 538              	.LVL22:
 539              	.L34:
 116:Src/motion.c  ****     while (flag_motion_end == FALSE)
 540              		.loc 1 116 0 discriminator 1
 541 0026 0A4B     		ldr	r3, .L37+4
 542 0028 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 543 002a 002B     		cmp	r3, #0
 544 002c FBD0     		beq	.L34
 117:Src/motion.c  ****     {
 118:Src/motion.c  ****     }
 119:Src/motion.c  ****     HAL_Delay(1000);
 545              		.loc 1 119 0
 546 002e 4FF47A70 		mov	r0, #1000
 547 0032 FFF7FEFF 		bl	HAL_Delay
 548              	.LVL23:
 120:Src/motion.c  ****     flag_wall = TRUE;
 549              		.loc 1 120 0
 550 0036 054B     		ldr	r3, .L37
 551 0038 0122     		movs	r2, #1
 552 003a 1A70     		strb	r2, [r3]
 121:Src/motion.c  ****     Straight_half_accel();
 553              		.loc 1 121 0
 554 003c FFF7FEFF 		bl	Straight_half_accel
 555              	.LVL24:
 556              	.L35:
 122:Src/motion.c  ****     while (flag_motion_end == FALSE)
 557              		.loc 1 122 0 discriminator 1
 558 0040 034B     		ldr	r3, .L37+4
 559 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 560 0044 002B     		cmp	r3, #0
 561 0046 FBD0     		beq	.L35
 123:Src/motion.c  ****     {
 124:Src/motion.c  ****     }
 125:Src/motion.c  **** }
 562              		.loc 1 125 0
 563 0048 08BD     		pop	{r3, pc}
 564              	.L38:
 565 004a 00BF     		.align	2
 566              	.L37:
 567 004c 00000000 		.word	flag_wall
 568 0050 00000000 		.word	flag_motion_end
 569              		.cfi_endproc
 570              	.LFE135:
 572              		.section	.text.Motion_Uturn,"ax",%progbits
 573              		.align	1
 574              		.global	Motion_Uturn
 575              		.syntax unified
 576              		.thumb
 577              		.thumb_func
 578              		.fpu fpv4-sp-d16
 580              	Motion_Uturn:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 13


 581              	.LFB136:
 126:Src/motion.c  **** 
 127:Src/motion.c  **** void Motion_Uturn(void)
 128:Src/motion.c  **** {
 582              		.loc 1 128 0
 583              		.cfi_startproc
 584              		@ args = 0, pretend = 0, frame = 0
 585              		@ frame_needed = 0, uses_anonymous_args = 0
 586 0000 08B5     		push	{r3, lr}
 587              	.LCFI24:
 588              		.cfi_def_cfa_offset 8
 589              		.cfi_offset 3, -8
 590              		.cfi_offset 14, -4
 129:Src/motion.c  ****     Straight_half_stop();
 591              		.loc 1 129 0
 592 0002 FFF7FEFF 		bl	Straight_half_stop
 593              	.LVL25:
 594              	.L40:
 130:Src/motion.c  ****     while (flag_motion_end == FALSE)
 595              		.loc 1 130 0 discriminator 1
 596 0006 0C4B     		ldr	r3, .L44
 597 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 598 000a 002B     		cmp	r3, #0
 599 000c FBD0     		beq	.L40
 131:Src/motion.c  ****     {
 132:Src/motion.c  ****     }
 133:Src/motion.c  ****     HAL_Delay(500);
 600              		.loc 1 133 0
 601 000e 4FF4FA70 		mov	r0, #500
 602 0012 FFF7FEFF 		bl	HAL_Delay
 603              	.LVL26:
 134:Src/motion.c  ****     U_Turn();
 604              		.loc 1 134 0
 605 0016 FFF7FEFF 		bl	U_Turn
 606              	.LVL27:
 607              	.L41:
 135:Src/motion.c  ****     while (flag_motion_end == FALSE)
 608              		.loc 1 135 0 discriminator 1
 609 001a 074B     		ldr	r3, .L44
 610 001c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 611 001e 002B     		cmp	r3, #0
 612 0020 FBD0     		beq	.L41
 136:Src/motion.c  ****     {
 137:Src/motion.c  ****     }
 138:Src/motion.c  ****     HAL_Delay(500);
 613              		.loc 1 138 0
 614 0022 4FF4FA70 		mov	r0, #500
 615 0026 FFF7FEFF 		bl	HAL_Delay
 616              	.LVL28:
 139:Src/motion.c  ****     Straight_half_accel();
 617              		.loc 1 139 0
 618 002a FFF7FEFF 		bl	Straight_half_accel
 619              	.LVL29:
 620              	.L42:
 140:Src/motion.c  ****     while (flag_motion_end == FALSE)
 621              		.loc 1 140 0 discriminator 1
 622 002e 024B     		ldr	r3, .L44
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 14


 623 0030 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 624 0032 002B     		cmp	r3, #0
 625 0034 FBD0     		beq	.L42
 141:Src/motion.c  ****     {
 142:Src/motion.c  ****     }
 143:Src/motion.c  **** }
 626              		.loc 1 143 0
 627 0036 08BD     		pop	{r3, pc}
 628              	.L45:
 629              		.align	2
 630              	.L44:
 631 0038 00000000 		.word	flag_motion_end
 632              		.cfi_endproc
 633              	.LFE136:
 635              		.section	.text.Motion_Kabeate,"ax",%progbits
 636              		.align	1
 637              		.global	Motion_Kabeate
 638              		.syntax unified
 639              		.thumb
 640              		.thumb_func
 641              		.fpu fpv4-sp-d16
 643              	Motion_Kabeate:
 644              	.LFB137:
 144:Src/motion.c  **** 
 145:Src/motion.c  **** void Motion_Kabeate(void)
 146:Src/motion.c  **** {
 645              		.loc 1 146 0
 646              		.cfi_startproc
 647              		@ args = 0, pretend = 0, frame = 0
 648              		@ frame_needed = 0, uses_anonymous_args = 0
 649 0000 00B5     		push	{lr}
 650              	.LCFI25:
 651              		.cfi_def_cfa_offset 4
 652              		.cfi_offset 14, -4
 653 0002 83B0     		sub	sp, sp, #12
 654              	.LCFI26:
 655              		.cfi_def_cfa_offset 16
 147:Src/motion.c  ****     //U turn
 148:Src/motion.c  ****     flag_wall = TRUE;
 656              		.loc 1 148 0
 657 0004 294B     		ldr	r3, .L52
 658 0006 0122     		movs	r2, #1
 659 0008 1A70     		strb	r2, [r3]
 149:Src/motion.c  ****     Straight_half_stop();
 660              		.loc 1 149 0
 661 000a FFF7FEFF 		bl	Straight_half_stop
 662              	.LVL30:
 663              	.L47:
 150:Src/motion.c  ****     while (flag_motion_end == FALSE)
 664              		.loc 1 150 0 discriminator 1
 665 000e 284B     		ldr	r3, .L52+4
 666 0010 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 667 0012 002B     		cmp	r3, #0
 668 0014 FBD0     		beq	.L47
 151:Src/motion.c  ****     {
 152:Src/motion.c  ****     }
 153:Src/motion.c  ****     //front wall control
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 15


 154:Src/motion.c  ****     //while(sen_front.adc > sen_front.reference-20);
 155:Src/motion.c  ****     HAL_Delay(1000);
 669              		.loc 1 155 0
 670 0016 4FF47A70 		mov	r0, #1000
 671 001a FFF7FEFF 		bl	HAL_Delay
 672              	.LVL31:
 156:Src/motion.c  ****     flag_wall = FALSE;
 673              		.loc 1 156 0
 674 001e 234B     		ldr	r3, .L52
 675 0020 0022     		movs	r2, #0
 676 0022 1A70     		strb	r2, [r3]
 157:Src/motion.c  ****     U_Turn();
 677              		.loc 1 157 0
 678 0024 FFF7FEFF 		bl	U_Turn
 679              	.LVL32:
 680              	.L48:
 158:Src/motion.c  ****     while (flag_motion_end == FALSE)
 681              		.loc 1 158 0 discriminator 1
 682 0028 214B     		ldr	r3, .L52+4
 683 002a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 684 002c 002B     		cmp	r3, #0
 685 002e FBD0     		beq	.L48
 159:Src/motion.c  ****     {
 160:Src/motion.c  ****     }
 161:Src/motion.c  ****     HAL_Delay(500);
 686              		.loc 1 161 0
 687 0030 4FF4FA70 		mov	r0, #500
 688 0034 FFF7FEFF 		bl	HAL_Delay
 689              	.LVL33:
 162:Src/motion.c  ****     //kabeate
 163:Src/motion.c  ****     Straight_Calc_fb(-47, 0, 0, 200, 2000);
 690              		.loc 1 163 0
 691 0038 4FF4FA63 		mov	r3, #2000
 692 003c 0093     		str	r3, [sp]
 693 003e C823     		movs	r3, #200
 694 0040 0022     		movs	r2, #0
 695 0042 1146     		mov	r1, r2
 696 0044 6FF02E00 		mvn	r0, #46
 697 0048 FFF7FEFF 		bl	Straight_Calc_fb
 698              	.LVL34:
 164:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 699              		.loc 1 164 0
 700 004c 0020     		movs	r0, #0
 701 004e 0090     		str	r0, [sp]
 702 0050 0346     		mov	r3, r0
 703 0052 0246     		mov	r2, r0
 704 0054 0146     		mov	r1, r0
 705 0056 FFF7FEFF 		bl	Yawrate_Calc_fb
 706              	.LVL35:
 707              	.L49:
 165:Src/motion.c  ****     while (flag_motion_end == FALSE)
 708              		.loc 1 165 0 discriminator 1
 709 005a 154B     		ldr	r3, .L52+4
 710 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 711 005e 002B     		cmp	r3, #0
 712 0060 FBD0     		beq	.L49
 166:Src/motion.c  ****     {
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 16


 167:Src/motion.c  ****     }
 168:Src/motion.c  ****     flag_wall = TRUE;
 713              		.loc 1 168 0
 714 0062 124B     		ldr	r3, .L52
 715 0064 0122     		movs	r2, #1
 716 0066 1A70     		strb	r2, [r3]
 169:Src/motion.c  ****     enc_sum = 0;
 717              		.loc 1 169 0
 718 0068 0023     		movs	r3, #0
 719 006a 124A     		ldr	r2, .L52+8
 720 006c 1360     		str	r3, [r2]	@ float
 170:Src/motion.c  ****     y_sum = 0;
 721              		.loc 1 170 0
 722 006e 124A     		ldr	r2, .L52+12
 723 0070 1360     		str	r3, [r2]	@ float
 171:Src/motion.c  ****     HAL_Delay(500);
 724              		.loc 1 171 0
 725 0072 4FF4FA70 		mov	r0, #500
 726 0076 FFF7FEFF 		bl	HAL_Delay
 727              	.LVL36:
 172:Src/motion.c  ****     Straight_Calc_fb(130, 0, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
 728              		.loc 1 172 0
 729 007a 4FF47A63 		mov	r3, #4000
 730 007e 0093     		str	r3, [sp]
 731 0080 4FF4C873 		mov	r3, #400
 732 0084 1A46     		mov	r2, r3
 733 0086 0021     		movs	r1, #0
 734 0088 8220     		movs	r0, #130
 735 008a FFF7FEFF 		bl	Straight_Calc_fb
 736              	.LVL37:
 173:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 737              		.loc 1 173 0
 738 008e 0020     		movs	r0, #0
 739 0090 0090     		str	r0, [sp]
 740 0092 0346     		mov	r3, r0
 741 0094 0246     		mov	r2, r0
 742 0096 0146     		mov	r1, r0
 743 0098 FFF7FEFF 		bl	Yawrate_Calc_fb
 744              	.LVL38:
 745              	.L50:
 174:Src/motion.c  ****     while (flag_motion_end == FALSE)
 746              		.loc 1 174 0 discriminator 1
 747 009c 044B     		ldr	r3, .L52+4
 748 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 749 00a0 002B     		cmp	r3, #0
 750 00a2 FBD0     		beq	.L50
 175:Src/motion.c  ****     {
 176:Src/motion.c  ****     }
 177:Src/motion.c  **** }
 751              		.loc 1 177 0
 752 00a4 03B0     		add	sp, sp, #12
 753              	.LCFI27:
 754              		.cfi_def_cfa_offset 4
 755              		@ sp needed
 756 00a6 5DF804FB 		ldr	pc, [sp], #4
 757              	.L53:
 758 00aa 00BF     		.align	2
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 17


 759              	.L52:
 760 00ac 00000000 		.word	flag_wall
 761 00b0 00000000 		.word	flag_motion_end
 762 00b4 00000000 		.word	enc_sum
 763 00b8 00000000 		.word	y_sum
 764              		.cfi_endproc
 765              	.LFE137:
 767              		.section	.text.Motion_Goal,"ax",%progbits
 768              		.align	1
 769              		.global	Motion_Goal
 770              		.syntax unified
 771              		.thumb
 772              		.thumb_func
 773              		.fpu fpv4-sp-d16
 775              	Motion_Goal:
 776              	.LFB138:
 178:Src/motion.c  **** 
 179:Src/motion.c  **** void Motion_Goal(void)
 180:Src/motion.c  **** {
 777              		.loc 1 180 0
 778              		.cfi_startproc
 779              		@ args = 0, pretend = 0, frame = 0
 780              		@ frame_needed = 0, uses_anonymous_args = 0
 781 0000 08B5     		push	{r3, lr}
 782              	.LCFI28:
 783              		.cfi_def_cfa_offset 8
 784              		.cfi_offset 3, -8
 785              		.cfi_offset 14, -4
 181:Src/motion.c  ****     Straight_half_stop();
 786              		.loc 1 181 0
 787 0002 FFF7FEFF 		bl	Straight_half_stop
 788              	.LVL39:
 789              	.L55:
 182:Src/motion.c  ****     while (flag_motion_end == FALSE)
 790              		.loc 1 182 0 discriminator 1
 791 0006 024B     		ldr	r3, .L57
 792 0008 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 793 000a 002B     		cmp	r3, #0
 794 000c FBD0     		beq	.L55
 183:Src/motion.c  ****     {
 184:Src/motion.c  ****     }
 185:Src/motion.c  **** }
 795              		.loc 1 185 0
 796 000e 08BD     		pop	{r3, pc}
 797              	.L58:
 798              		.align	2
 799              	.L57:
 800 0010 00000000 		.word	flag_motion_end
 801              		.cfi_endproc
 802              	.LFE138:
 804              		.section	.text.Motion_Restart,"ax",%progbits
 805              		.align	1
 806              		.global	Motion_Restart
 807              		.syntax unified
 808              		.thumb
 809              		.thumb_func
 810              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 18


 812              	Motion_Restart:
 813              	.LFB139:
 186:Src/motion.c  **** 
 187:Src/motion.c  **** void Motion_Restart(void)
 188:Src/motion.c  **** {
 814              		.loc 1 188 0
 815              		.cfi_startproc
 816              		@ args = 0, pretend = 0, frame = 0
 817              		@ frame_needed = 0, uses_anonymous_args = 0
 818 0000 10B5     		push	{r4, lr}
 819              	.LCFI29:
 820              		.cfi_def_cfa_offset 8
 821              		.cfi_offset 4, -8
 822              		.cfi_offset 14, -4
 823 0002 82B0     		sub	sp, sp, #8
 824              	.LCFI30:
 825              		.cfi_def_cfa_offset 16
 189:Src/motion.c  ****     U_Turn();
 826              		.loc 1 189 0
 827 0004 FFF7FEFF 		bl	U_Turn
 828              	.LVL40:
 829              	.L60:
 190:Src/motion.c  ****     while (flag_motion_end == FALSE)
 830              		.loc 1 190 0 discriminator 1
 831 0008 214B     		ldr	r3, .L64
 832 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 833 000c 002B     		cmp	r3, #0
 834 000e FBD0     		beq	.L60
 191:Src/motion.c  ****     {
 192:Src/motion.c  ****     }
 193:Src/motion.c  ****     flag_wall = FALSE;
 835              		.loc 1 193 0
 836 0010 0024     		movs	r4, #0
 837 0012 204B     		ldr	r3, .L64+4
 838 0014 1C70     		strb	r4, [r3]
 194:Src/motion.c  ****     HAL_Delay(500);
 839              		.loc 1 194 0
 840 0016 4FF4FA70 		mov	r0, #500
 841 001a FFF7FEFF 		bl	HAL_Delay
 842              	.LVL41:
 195:Src/motion.c  ****     //kabeate
 196:Src/motion.c  ****     Straight_Calc_fb(-47, 0, 0, 200, 2000);
 843              		.loc 1 196 0
 844 001e 4FF4FA63 		mov	r3, #2000
 845 0022 0093     		str	r3, [sp]
 846 0024 C823     		movs	r3, #200
 847 0026 2246     		mov	r2, r4
 848 0028 2146     		mov	r1, r4
 849 002a 6FF02E00 		mvn	r0, #46
 850 002e FFF7FEFF 		bl	Straight_Calc_fb
 851              	.LVL42:
 197:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 852              		.loc 1 197 0
 853 0032 0094     		str	r4, [sp]
 854 0034 2346     		mov	r3, r4
 855 0036 2246     		mov	r2, r4
 856 0038 2146     		mov	r1, r4
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 19


 857 003a 2046     		mov	r0, r4
 858 003c FFF7FEFF 		bl	Yawrate_Calc_fb
 859              	.LVL43:
 860              	.L61:
 198:Src/motion.c  ****     while (flag_motion_end == FALSE)
 861              		.loc 1 198 0 discriminator 1
 862 0040 134B     		ldr	r3, .L64
 863 0042 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 864 0044 002B     		cmp	r3, #0
 865 0046 FBD0     		beq	.L61
 199:Src/motion.c  ****     {
 200:Src/motion.c  ****     }
 201:Src/motion.c  ****     flag_wall = TRUE;
 866              		.loc 1 201 0
 867 0048 124B     		ldr	r3, .L64+4
 868 004a 0122     		movs	r2, #1
 869 004c 1A70     		strb	r2, [r3]
 202:Src/motion.c  ****     enc_sum = 0;
 870              		.loc 1 202 0
 871 004e 0023     		movs	r3, #0
 872 0050 114A     		ldr	r2, .L64+8
 873 0052 1360     		str	r3, [r2]	@ float
 203:Src/motion.c  ****     y_sum = 0;
 874              		.loc 1 203 0
 875 0054 114A     		ldr	r2, .L64+12
 876 0056 1360     		str	r3, [r2]	@ float
 204:Src/motion.c  ****     HAL_Delay(500);
 877              		.loc 1 204 0
 878 0058 4FF4FA70 		mov	r0, #500
 879 005c FFF7FEFF 		bl	HAL_Delay
 880              	.LVL44:
 205:Src/motion.c  ****     Straight_Calc_fb(137, 0, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
 881              		.loc 1 205 0
 882 0060 4FF47A63 		mov	r3, #4000
 883 0064 0093     		str	r3, [sp]
 884 0066 4FF4C873 		mov	r3, #400
 885 006a 1A46     		mov	r2, r3
 886 006c 0021     		movs	r1, #0
 887 006e 8920     		movs	r0, #137
 888 0070 FFF7FEFF 		bl	Straight_Calc_fb
 889              	.LVL45:
 206:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 890              		.loc 1 206 0
 891 0074 0020     		movs	r0, #0
 892 0076 0090     		str	r0, [sp]
 893 0078 0346     		mov	r3, r0
 894 007a 0246     		mov	r2, r0
 895 007c 0146     		mov	r1, r0
 896 007e FFF7FEFF 		bl	Yawrate_Calc_fb
 897              	.LVL46:
 898              	.L62:
 207:Src/motion.c  ****     while (flag_motion_end == FALSE)
 899              		.loc 1 207 0 discriminator 1
 900 0082 034B     		ldr	r3, .L64
 901 0084 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 902 0086 002B     		cmp	r3, #0
 903 0088 FBD0     		beq	.L62
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 20


 208:Src/motion.c  ****     {
 209:Src/motion.c  ****     }
 210:Src/motion.c  **** }
 904              		.loc 1 210 0
 905 008a 02B0     		add	sp, sp, #8
 906              	.LCFI31:
 907              		.cfi_def_cfa_offset 8
 908              		@ sp needed
 909 008c 10BD     		pop	{r4, pc}
 910              	.L65:
 911 008e 00BF     		.align	2
 912              	.L64:
 913 0090 00000000 		.word	flag_motion_end
 914 0094 00000000 		.word	flag_wall
 915 0098 00000000 		.word	enc_sum
 916 009c 00000000 		.word	y_sum
 917              		.cfi_endproc
 918              	.LFE139:
 920              		.section	.text.Motion_SlalomLeft,"ax",%progbits
 921              		.align	1
 922              		.global	Motion_SlalomLeft
 923              		.syntax unified
 924              		.thumb
 925              		.thumb_func
 926              		.fpu fpv4-sp-d16
 928              	Motion_SlalomLeft:
 929              	.LFB140:
 211:Src/motion.c  **** 
 212:Src/motion.c  **** void Motion_SlalomLeft(void)
 213:Src/motion.c  **** {
 930              		.loc 1 213 0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 934 0000 00B5     		push	{lr}
 935              	.LCFI32:
 936              		.cfi_def_cfa_offset 4
 937              		.cfi_offset 14, -4
 938 0002 83B0     		sub	sp, sp, #12
 939              	.LCFI33:
 940              		.cfi_def_cfa_offset 16
 214:Src/motion.c  ****     //offset
 215:Src/motion.c  ****     Straight_Calc_fb(OFFSET_IN -4 - enc.offset, MAX_VELOCITY, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
 941              		.loc 1 215 0
 942 0004 294B     		ldr	r3, .L71
 943 0006 93ED027A 		vldr.32	s14, [r3, #8]
 944 000a F3EE0C7A 		vmov.f32	s15, #2.8e+1
 945 000e 77EEC77A 		vsub.f32	s15, s15, s14
 946 0012 FDEEE77A 		vcvt.s32.f32	s15, s15
 947 0016 4FF47A63 		mov	r3, #4000
 948 001a 0093     		str	r3, [sp]
 949 001c 4FF4C873 		mov	r3, #400
 950 0020 1A46     		mov	r2, r3
 951 0022 1946     		mov	r1, r3
 952 0024 17EE900A 		vmov	r0, s15	@ int
 953 0028 00B2     		sxth	r0, r0
 954 002a FFF7FEFF 		bl	Straight_Calc_fb
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 21


 955              	.LVL47:
 216:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 956              		.loc 1 216 0
 957 002e 0020     		movs	r0, #0
 958 0030 0090     		str	r0, [sp]
 959 0032 0346     		mov	r3, r0
 960 0034 0246     		mov	r2, r0
 961 0036 0146     		mov	r1, r0
 962 0038 FFF7FEFF 		bl	Yawrate_Calc_fb
 963              	.LVL48:
 964              	.L67:
 217:Src/motion.c  ****     while (flag_motion_end == FALSE)
 965              		.loc 1 217 0 discriminator 1
 966 003c 1C4B     		ldr	r3, .L71+4
 967 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 968 0040 002B     		cmp	r3, #0
 969 0042 FBD0     		beq	.L67
 218:Src/motion.c  ****     {
 219:Src/motion.c  ****     }
 220:Src/motion.c  ****     //slalom
 221:Src/motion.c  ****     Straight_Calc_fb(112, MAX_VELOCITY, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
 970              		.loc 1 221 0
 971 0044 4FF47A63 		mov	r3, #4000
 972 0048 0093     		str	r3, [sp]
 973 004a 4FF4C873 		mov	r3, #400
 974 004e 1A46     		mov	r2, r3
 975 0050 1946     		mov	r1, r3
 976 0052 7020     		movs	r0, #112
 977 0054 FFF7FEFF 		bl	Straight_Calc_fb
 978              	.LVL49:
 222:Src/motion.c  ****     Yawrate_Calc_fb(90, 0, 0, S_VELOCITY, S_ACCEL);
 979              		.loc 1 222 0
 980 0058 41F28833 		movw	r3, #5000
 981 005c 0093     		str	r3, [sp]
 982 005e 4FF4FA73 		mov	r3, #500
 983 0062 0022     		movs	r2, #0
 984 0064 1146     		mov	r1, r2
 985 0066 5A20     		movs	r0, #90
 986 0068 FFF7FEFF 		bl	Yawrate_Calc_fb
 987              	.LVL50:
 988              	.L68:
 223:Src/motion.c  ****     while (flag_motion_end == FALSE)
 989              		.loc 1 223 0 discriminator 1
 990 006c 104B     		ldr	r3, .L71+4
 991 006e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 992 0070 002B     		cmp	r3, #0
 993 0072 FBD0     		beq	.L68
 224:Src/motion.c  ****     {
 225:Src/motion.c  ****     }
 226:Src/motion.c  ****     //out straight
 227:Src/motion.c  ****     Straight_Calc_fb(OFFSET_OUT -1, MAX_VELOCITY, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
 994              		.loc 1 227 0
 995 0074 4FF47A63 		mov	r3, #4000
 996 0078 0093     		str	r3, [sp]
 997 007a 4FF4C873 		mov	r3, #400
 998 007e 1A46     		mov	r2, r3
 999 0080 1946     		mov	r1, r3
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 22


 1000 0082 1420     		movs	r0, #20
 1001 0084 FFF7FEFF 		bl	Straight_Calc_fb
 1002              	.LVL51:
 228:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 1003              		.loc 1 228 0
 1004 0088 0020     		movs	r0, #0
 1005 008a 0090     		str	r0, [sp]
 1006 008c 0346     		mov	r3, r0
 1007 008e 0246     		mov	r2, r0
 1008 0090 0146     		mov	r1, r0
 1009 0092 FFF7FEFF 		bl	Yawrate_Calc_fb
 1010              	.LVL52:
 229:Src/motion.c  ****     enc_sum=0;
 1011              		.loc 1 229 0
 1012 0096 074B     		ldr	r3, .L71+8
 1013 0098 0022     		movs	r2, #0
 1014 009a 1A60     		str	r2, [r3]	@ float
 1015              	.L69:
 230:Src/motion.c  ****     while (flag_motion_end == FALSE)
 1016              		.loc 1 230 0 discriminator 1
 1017 009c 044B     		ldr	r3, .L71+4
 1018 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1019 00a0 002B     		cmp	r3, #0
 1020 00a2 FBD0     		beq	.L69
 231:Src/motion.c  ****     {
 232:Src/motion.c  ****     }
 233:Src/motion.c  **** }
 1021              		.loc 1 233 0
 1022 00a4 03B0     		add	sp, sp, #12
 1023              	.LCFI34:
 1024              		.cfi_def_cfa_offset 4
 1025              		@ sp needed
 1026 00a6 5DF804FB 		ldr	pc, [sp], #4
 1027              	.L72:
 1028 00aa 00BF     		.align	2
 1029              	.L71:
 1030 00ac 00000000 		.word	enc
 1031 00b0 00000000 		.word	flag_motion_end
 1032 00b4 00000000 		.word	enc_sum
 1033              		.cfi_endproc
 1034              	.LFE140:
 1036              		.section	.text.Motion_SlalomRight,"ax",%progbits
 1037              		.align	1
 1038              		.global	Motion_SlalomRight
 1039              		.syntax unified
 1040              		.thumb
 1041              		.thumb_func
 1042              		.fpu fpv4-sp-d16
 1044              	Motion_SlalomRight:
 1045              	.LFB141:
 234:Src/motion.c  **** 
 235:Src/motion.c  **** void Motion_SlalomRight(void)
 236:Src/motion.c  **** {
 1046              		.loc 1 236 0
 1047              		.cfi_startproc
 1048              		@ args = 0, pretend = 0, frame = 0
 1049              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 23


 1050 0000 00B5     		push	{lr}
 1051              	.LCFI35:
 1052              		.cfi_def_cfa_offset 4
 1053              		.cfi_offset 14, -4
 1054 0002 83B0     		sub	sp, sp, #12
 1055              	.LCFI36:
 1056              		.cfi_def_cfa_offset 16
 237:Src/motion.c  ****     //offset
 238:Src/motion.c  ****     Straight_Calc_fb(OFFSET_IN -4 - enc.offset, MAX_VELOCITY, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
 1057              		.loc 1 238 0
 1058 0004 294B     		ldr	r3, .L78
 1059 0006 93ED027A 		vldr.32	s14, [r3, #8]
 1060 000a F3EE0C7A 		vmov.f32	s15, #2.8e+1
 1061 000e 77EEC77A 		vsub.f32	s15, s15, s14
 1062 0012 FDEEE77A 		vcvt.s32.f32	s15, s15
 1063 0016 4FF47A63 		mov	r3, #4000
 1064 001a 0093     		str	r3, [sp]
 1065 001c 4FF4C873 		mov	r3, #400
 1066 0020 1A46     		mov	r2, r3
 1067 0022 1946     		mov	r1, r3
 1068 0024 17EE900A 		vmov	r0, s15	@ int
 1069 0028 00B2     		sxth	r0, r0
 1070 002a FFF7FEFF 		bl	Straight_Calc_fb
 1071              	.LVL53:
 239:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 1072              		.loc 1 239 0
 1073 002e 0020     		movs	r0, #0
 1074 0030 0090     		str	r0, [sp]
 1075 0032 0346     		mov	r3, r0
 1076 0034 0246     		mov	r2, r0
 1077 0036 0146     		mov	r1, r0
 1078 0038 FFF7FEFF 		bl	Yawrate_Calc_fb
 1079              	.LVL54:
 1080              	.L74:
 240:Src/motion.c  ****     while (flag_motion_end == FALSE)
 1081              		.loc 1 240 0 discriminator 1
 1082 003c 1C4B     		ldr	r3, .L78+4
 1083 003e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1084 0040 002B     		cmp	r3, #0
 1085 0042 FBD0     		beq	.L74
 241:Src/motion.c  ****     {
 242:Src/motion.c  ****     }
 243:Src/motion.c  ****     //slalom
 244:Src/motion.c  ****     Straight_Calc_fb(112, MAX_VELOCITY, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
 1086              		.loc 1 244 0
 1087 0044 4FF47A63 		mov	r3, #4000
 1088 0048 0093     		str	r3, [sp]
 1089 004a 4FF4C873 		mov	r3, #400
 1090 004e 1A46     		mov	r2, r3
 1091 0050 1946     		mov	r1, r3
 1092 0052 7020     		movs	r0, #112
 1093 0054 FFF7FEFF 		bl	Straight_Calc_fb
 1094              	.LVL55:
 245:Src/motion.c  ****     Yawrate_Calc_fb(-90, 0, 0, S_VELOCITY, S_ACCEL);
 1095              		.loc 1 245 0
 1096 0058 41F28833 		movw	r3, #5000
 1097 005c 0093     		str	r3, [sp]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 24


 1098 005e 4FF4FA73 		mov	r3, #500
 1099 0062 0022     		movs	r2, #0
 1100 0064 1146     		mov	r1, r2
 1101 0066 6FF05900 		mvn	r0, #89
 1102 006a FFF7FEFF 		bl	Yawrate_Calc_fb
 1103              	.LVL56:
 1104              	.L75:
 246:Src/motion.c  ****     while (flag_motion_end == FALSE)
 1105              		.loc 1 246 0 discriminator 1
 1106 006e 104B     		ldr	r3, .L78+4
 1107 0070 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1108 0072 002B     		cmp	r3, #0
 1109 0074 FBD0     		beq	.L75
 247:Src/motion.c  ****     {
 248:Src/motion.c  ****     }
 249:Src/motion.c  ****     //out straight
 250:Src/motion.c  ****     Straight_Calc_fb(OFFSET_OUT +3, MAX_VELOCITY, MAX_VELOCITY, MAX_VELOCITY, ACCEL);
 1110              		.loc 1 250 0
 1111 0076 4FF47A63 		mov	r3, #4000
 1112 007a 0093     		str	r3, [sp]
 1113 007c 4FF4C873 		mov	r3, #400
 1114 0080 1A46     		mov	r2, r3
 1115 0082 1946     		mov	r1, r3
 1116 0084 1820     		movs	r0, #24
 1117 0086 FFF7FEFF 		bl	Straight_Calc_fb
 1118              	.LVL57:
 251:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 1119              		.loc 1 251 0
 1120 008a 0020     		movs	r0, #0
 1121 008c 0090     		str	r0, [sp]
 1122 008e 0346     		mov	r3, r0
 1123 0090 0246     		mov	r2, r0
 1124 0092 0146     		mov	r1, r0
 1125 0094 FFF7FEFF 		bl	Yawrate_Calc_fb
 1126              	.LVL58:
 252:Src/motion.c  ****     enc_sum=0;
 1127              		.loc 1 252 0
 1128 0098 064B     		ldr	r3, .L78+8
 1129 009a 0022     		movs	r2, #0
 1130 009c 1A60     		str	r2, [r3]	@ float
 1131              	.L76:
 253:Src/motion.c  ****     while (flag_motion_end == FALSE)
 1132              		.loc 1 253 0 discriminator 1
 1133 009e 044B     		ldr	r3, .L78+4
 1134 00a0 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1135 00a2 002B     		cmp	r3, #0
 1136 00a4 FBD0     		beq	.L76
 254:Src/motion.c  ****     {
 255:Src/motion.c  ****     }
 256:Src/motion.c  **** }
 1137              		.loc 1 256 0
 1138 00a6 03B0     		add	sp, sp, #12
 1139              	.LCFI37:
 1140              		.cfi_def_cfa_offset 4
 1141              		@ sp needed
 1142 00a8 5DF804FB 		ldr	pc, [sp], #4
 1143              	.L79:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 25


 1144              		.align	2
 1145              	.L78:
 1146 00ac 00000000 		.word	enc
 1147 00b0 00000000 		.word	flag_motion_end
 1148 00b4 00000000 		.word	enc_sum
 1149              		.cfi_endproc
 1150              	.LFE141:
 1152              		.section	.text.Motion_StartFast,"ax",%progbits
 1153              		.align	1
 1154              		.global	Motion_StartFast
 1155              		.syntax unified
 1156              		.thumb
 1157              		.thumb_func
 1158              		.fpu fpv4-sp-d16
 1160              	Motion_StartFast:
 1161              	.LFB142:
 257:Src/motion.c  **** 
 258:Src/motion.c  **** //500
 259:Src/motion.c  **** void Motion_StartFast(unsigned char step)
 260:Src/motion.c  **** {
 1162              		.loc 1 260 0
 1163              		.cfi_startproc
 1164              		@ args = 0, pretend = 0, frame = 0
 1165              		@ frame_needed = 0, uses_anonymous_args = 0
 1166              	.LVL59:
 1167 0000 00B5     		push	{lr}
 1168              	.LCFI38:
 1169              		.cfi_def_cfa_offset 4
 1170              		.cfi_offset 14, -4
 1171 0002 83B0     		sub	sp, sp, #12
 1172              	.LCFI39:
 1173              		.cfi_def_cfa_offset 16
 261:Src/motion.c  ****     unsigned int velo=MAX_VELOCITY + 150 * step;
 1174              		.loc 1 261 0
 1175 0004 9623     		movs	r3, #150
 1176 0006 03FB00F3 		mul	r3, r3, r0
 1177 000a 03F5C873 		add	r3, r3, #400
 1178              	.LVL60:
 262:Src/motion.c  ****     if(velo>2000){
 1179              		.loc 1 262 0
 1180 000e B3F5FA6F 		cmp	r3, #2000
 1181 0012 01D9     		bls	.L81
 263:Src/motion.c  ****         velo=2000;
 1182              		.loc 1 263 0
 1183 0014 4FF4FA63 		mov	r3, #2000
 1184              	.LVL61:
 1185              	.L81:
 264:Src/motion.c  ****     }
 265:Src/motion.c  ****     enc_sum = 0;
 1186              		.loc 1 265 0
 1187 0018 0022     		movs	r2, #0
 1188 001a 1149     		ldr	r1, .L85
 1189 001c 0A60     		str	r2, [r1]	@ float
 266:Src/motion.c  ****     y_sum = 0;
 1190              		.loc 1 266 0
 1191 001e 1149     		ldr	r1, .L85+4
 1192 0020 0A60     		str	r2, [r1]	@ float
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 26


 267:Src/motion.c  ****     Straight_Calc_fb(137 + 180 * step, 0, MAX_VELOCITY, velo, FAST_ACCEL);
 1193              		.loc 1 267 0
 1194 0022 00EB4000 		add	r0, r0, r0, lsl #1
 1195              	.LVL62:
 1196 0026 C0EB0010 		rsb	r0, r0, r0, lsl #4
 1197 002a 8200     		lsls	r2, r0, #2
 1198 002c 02F18900 		add	r0, r2, #137
 1199 0030 9BB2     		uxth	r3, r3
 1200              	.LVL63:
 1201 0032 41F27072 		movw	r2, #6000
 1202 0036 0092     		str	r2, [sp]
 1203 0038 4FF4C872 		mov	r2, #400
 1204 003c 0021     		movs	r1, #0
 1205 003e 00B2     		sxth	r0, r0
 1206 0040 FFF7FEFF 		bl	Straight_Calc_fb
 1207              	.LVL64:
 268:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 1208              		.loc 1 268 0
 1209 0044 0020     		movs	r0, #0
 1210 0046 0090     		str	r0, [sp]
 1211 0048 0346     		mov	r3, r0
 1212 004a 0246     		mov	r2, r0
 1213 004c 0146     		mov	r1, r0
 1214 004e FFF7FEFF 		bl	Yawrate_Calc_fb
 1215              	.LVL65:
 1216              	.L82:
 269:Src/motion.c  ****     while (flag_motion_end == FALSE)
 1217              		.loc 1 269 0 discriminator 1
 1218 0052 054B     		ldr	r3, .L85+8
 1219 0054 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1220 0056 002B     		cmp	r3, #0
 1221 0058 FBD0     		beq	.L82
 270:Src/motion.c  ****     {
 271:Src/motion.c  ****     }
 272:Src/motion.c  **** }
 1222              		.loc 1 272 0
 1223 005a 03B0     		add	sp, sp, #12
 1224              	.LCFI40:
 1225              		.cfi_def_cfa_offset 4
 1226              		@ sp needed
 1227 005c 5DF804FB 		ldr	pc, [sp], #4
 1228              	.L86:
 1229              		.align	2
 1230              	.L85:
 1231 0060 00000000 		.word	enc_sum
 1232 0064 00000000 		.word	y_sum
 1233 0068 00000000 		.word	flag_motion_end
 1234              		.cfi_endproc
 1235              	.LFE142:
 1237              		.section	.text.Motion_StraightFast,"ax",%progbits
 1238              		.align	1
 1239              		.global	Motion_StraightFast
 1240              		.syntax unified
 1241              		.thumb
 1242              		.thumb_func
 1243              		.fpu fpv4-sp-d16
 1245              	Motion_StraightFast:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 27


 1246              	.LFB143:
 273:Src/motion.c  **** 
 274:Src/motion.c  **** void Motion_StraightFast(unsigned char step)
 275:Src/motion.c  **** {
 1247              		.loc 1 275 0
 1248              		.cfi_startproc
 1249              		@ args = 0, pretend = 0, frame = 0
 1250              		@ frame_needed = 0, uses_anonymous_args = 0
 1251              	.LVL66:
 1252 0000 00B5     		push	{lr}
 1253              	.LCFI41:
 1254              		.cfi_def_cfa_offset 4
 1255              		.cfi_offset 14, -4
 1256 0002 83B0     		sub	sp, sp, #12
 1257              	.LCFI42:
 1258              		.cfi_def_cfa_offset 16
 276:Src/motion.c  ****     unsigned int velo=MAX_VELOCITY + 150 * step;
 1259              		.loc 1 276 0
 1260 0004 9623     		movs	r3, #150
 1261 0006 03FB00F3 		mul	r3, r3, r0
 1262 000a 03F5C873 		add	r3, r3, #400
 1263              	.LVL67:
 277:Src/motion.c  ****     if(velo>2000){
 1264              		.loc 1 277 0
 1265 000e B3F5FA6F 		cmp	r3, #2000
 1266 0012 01D9     		bls	.L88
 278:Src/motion.c  ****         velo=2000;
 1267              		.loc 1 278 0
 1268 0014 4FF4FA63 		mov	r3, #2000
 1269              	.LVL68:
 1270              	.L88:
 279:Src/motion.c  ****     }
 280:Src/motion.c  ****     Straight_Calc_fb(180 * step - enc.offset, MAX_VELOCITY, MAX_VELOCITY, velo, FAST_ACCEL);
 1271              		.loc 1 280 0
 1272 0018 B422     		movs	r2, #180
 1273 001a 02FB00F2 		mul	r2, r2, r0
 1274 001e 07EE902A 		vmov	s15, r2	@ int
 1275 0022 114A     		ldr	r2, .L92
 1276 0024 92ED027A 		vldr.32	s14, [r2, #8]
 1277 0028 F8EEE77A 		vcvt.f32.s32	s15, s15
 1278 002c 77EEC77A 		vsub.f32	s15, s15, s14
 1279 0030 9BB2     		uxth	r3, r3
 1280              	.LVL69:
 1281 0032 FDEEE77A 		vcvt.s32.f32	s15, s15
 1282 0036 41F27072 		movw	r2, #6000
 1283 003a 0092     		str	r2, [sp]
 1284 003c 4FF4C872 		mov	r2, #400
 1285 0040 1146     		mov	r1, r2
 1286 0042 17EE900A 		vmov	r0, s15	@ int
 1287              	.LVL70:
 1288 0046 00B2     		sxth	r0, r0
 1289 0048 FFF7FEFF 		bl	Straight_Calc_fb
 1290              	.LVL71:
 281:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 1291              		.loc 1 281 0
 1292 004c 0020     		movs	r0, #0
 1293 004e 0090     		str	r0, [sp]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 28


 1294 0050 0346     		mov	r3, r0
 1295 0052 0246     		mov	r2, r0
 1296 0054 0146     		mov	r1, r0
 1297 0056 FFF7FEFF 		bl	Yawrate_Calc_fb
 1298              	.LVL72:
 1299              	.L89:
 282:Src/motion.c  ****     while (flag_motion_end == FALSE)
 1300              		.loc 1 282 0 discriminator 1
 1301 005a 044B     		ldr	r3, .L92+4
 1302 005c 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1303 005e 002B     		cmp	r3, #0
 1304 0060 FBD0     		beq	.L89
 283:Src/motion.c  ****     {
 284:Src/motion.c  ****     }
 285:Src/motion.c  **** }
 1305              		.loc 1 285 0
 1306 0062 03B0     		add	sp, sp, #12
 1307              	.LCFI43:
 1308              		.cfi_def_cfa_offset 4
 1309              		@ sp needed
 1310 0064 5DF804FB 		ldr	pc, [sp], #4
 1311              	.L93:
 1312              		.align	2
 1313              	.L92:
 1314 0068 00000000 		.word	enc
 1315 006c 00000000 		.word	flag_motion_end
 1316              		.cfi_endproc
 1317              	.LFE143:
 1319              		.section	.text.Motion_GoalFast,"ax",%progbits
 1320              		.align	1
 1321              		.global	Motion_GoalFast
 1322              		.syntax unified
 1323              		.thumb
 1324              		.thumb_func
 1325              		.fpu fpv4-sp-d16
 1327              	Motion_GoalFast:
 1328              	.LFB144:
 286:Src/motion.c  **** 
 287:Src/motion.c  **** void Motion_GoalFast(unsigned char step)
 288:Src/motion.c  **** {
 1329              		.loc 1 288 0
 1330              		.cfi_startproc
 1331              		@ args = 0, pretend = 0, frame = 0
 1332              		@ frame_needed = 0, uses_anonymous_args = 0
 1333              	.LVL73:
 1334 0000 00B5     		push	{lr}
 1335              	.LCFI44:
 1336              		.cfi_def_cfa_offset 4
 1337              		.cfi_offset 14, -4
 1338 0002 83B0     		sub	sp, sp, #12
 1339              	.LCFI45:
 1340              		.cfi_def_cfa_offset 16
 289:Src/motion.c  ****     unsigned int velo=MAX_VELOCITY + 150 * step;
 1341              		.loc 1 289 0
 1342 0004 9623     		movs	r3, #150
 1343 0006 03FB00F3 		mul	r3, r3, r0
 1344 000a 03F5C873 		add	r3, r3, #400
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 29


 1345              	.LVL74:
 290:Src/motion.c  ****     if(velo>2000){
 1346              		.loc 1 290 0
 1347 000e B3F5FA6F 		cmp	r3, #2000
 1348 0012 01D9     		bls	.L95
 291:Src/motion.c  ****         velo=2000;
 1349              		.loc 1 291 0
 1350 0014 4FF4FA63 		mov	r3, #2000
 1351              	.LVL75:
 1352              	.L95:
 292:Src/motion.c  ****     }
 293:Src/motion.c  ****     Straight_Calc_fb(90 + 180 * step - enc.offset, MAX_VELOCITY, 0, velo, FAST_ACCEL);
 1353              		.loc 1 293 0
 1354 0018 B422     		movs	r2, #180
 1355 001a 02FB00F0 		mul	r0, r2, r0
 1356              	.LVL76:
 1357 001e 00F15A02 		add	r2, r0, #90
 1358 0022 07EE902A 		vmov	s15, r2	@ int
 1359 0026 114A     		ldr	r2, .L99
 1360 0028 92ED027A 		vldr.32	s14, [r2, #8]
 1361 002c F8EEE77A 		vcvt.f32.s32	s15, s15
 1362 0030 77EEC77A 		vsub.f32	s15, s15, s14
 1363 0034 9BB2     		uxth	r3, r3
 1364              	.LVL77:
 1365 0036 FDEEE77A 		vcvt.s32.f32	s15, s15
 1366 003a 41F27072 		movw	r2, #6000
 1367 003e 0092     		str	r2, [sp]
 1368 0040 0022     		movs	r2, #0
 1369 0042 4FF4C871 		mov	r1, #400
 1370 0046 17EE900A 		vmov	r0, s15	@ int
 1371 004a 00B2     		sxth	r0, r0
 1372 004c FFF7FEFF 		bl	Straight_Calc_fb
 1373              	.LVL78:
 294:Src/motion.c  ****     Yawrate_Calc_fb(0, 0, 0, 0, 0);
 1374              		.loc 1 294 0
 1375 0050 0020     		movs	r0, #0
 1376 0052 0090     		str	r0, [sp]
 1377 0054 0346     		mov	r3, r0
 1378 0056 0246     		mov	r2, r0
 1379 0058 0146     		mov	r1, r0
 1380 005a FFF7FEFF 		bl	Yawrate_Calc_fb
 1381              	.LVL79:
 1382              	.L96:
 295:Src/motion.c  ****     while (flag_motion_end == FALSE)
 1383              		.loc 1 295 0 discriminator 1
 1384 005e 044B     		ldr	r3, .L99+4
 1385 0060 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1386 0062 002B     		cmp	r3, #0
 1387 0064 FBD0     		beq	.L96
 296:Src/motion.c  ****     {
 297:Src/motion.c  ****     }
 298:Src/motion.c  **** }...
 1388              		.loc 1 298 0
 1389 0066 03B0     		add	sp, sp, #12
 1390              	.LCFI46:
 1391              		.cfi_def_cfa_offset 4
 1392              		@ sp needed
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 30


 1393 0068 5DF804FB 		ldr	pc, [sp], #4
 1394              	.L100:
 1395              		.align	2
 1396              	.L99:
 1397 006c 00000000 		.word	enc
 1398 0070 00000000 		.word	flag_motion_end
 1399              		.cfi_endproc
 1400              	.LFE144:
 1402              		.text
 1403              	.Letext0:
 1404              		.file 2 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1405              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1406              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 1407              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1408              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 1409              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1410              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1411              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\lib\\gcc\\arm-none-eabi
 1412              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 1413              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1414              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1415              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1416              		.file 14 "Inc/tim.h"
 1417              		.file 15 "Inc/control.h"
 1418              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 31


DEFINED SYMBOLS
                            *ABS*:00000000 motion.c
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:18     .text.Straight_half_accel:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:25     .text.Straight_half_accel:00000000 Straight_half_accel
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:66     .text.Straight_half_stop:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:73     .text.Straight_half_stop:00000000 Straight_half_stop
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:113    .text.Straight_const:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:120    .text.Straight_const:00000000 Straight_const
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:165    .text.Straight_const:00000044 $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:171    .text.LeftTurn:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:178    .text.LeftTurn:00000000 LeftTurn
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:220    .text.RightTurn:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:227    .text.RightTurn:00000000 RightTurn
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:269    .text.U_Turn:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:276    .text.U_Turn:00000000 U_Turn
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:318    .text.Motion_Start:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:325    .text.Motion_Start:00000000 Motion_Start
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:377    .text.Motion_Start:00000040 $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:384    .text.Motion_Straight:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:391    .text.Motion_Straight:00000000 Motion_Straight
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:416    .text.Motion_Straight:00000010 $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:421    .text.Motion_Left:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:428    .text.Motion_Left:00000000 Motion_Left
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:491    .text.Motion_Left:0000004c $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:497    .text.Motion_Right:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:504    .text.Motion_Right:00000000 Motion_Right
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:567    .text.Motion_Right:0000004c $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:573    .text.Motion_Uturn:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:580    .text.Motion_Uturn:00000000 Motion_Uturn
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:631    .text.Motion_Uturn:00000038 $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:636    .text.Motion_Kabeate:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:643    .text.Motion_Kabeate:00000000 Motion_Kabeate
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:760    .text.Motion_Kabeate:000000ac $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:768    .text.Motion_Goal:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:775    .text.Motion_Goal:00000000 Motion_Goal
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:800    .text.Motion_Goal:00000010 $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:805    .text.Motion_Restart:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:812    .text.Motion_Restart:00000000 Motion_Restart
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:913    .text.Motion_Restart:00000090 $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:921    .text.Motion_SlalomLeft:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:928    .text.Motion_SlalomLeft:00000000 Motion_SlalomLeft
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1030   .text.Motion_SlalomLeft:000000ac $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1037   .text.Motion_SlalomRight:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1044   .text.Motion_SlalomRight:00000000 Motion_SlalomRight
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1146   .text.Motion_SlalomRight:000000ac $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1153   .text.Motion_StartFast:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1160   .text.Motion_StartFast:00000000 Motion_StartFast
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1231   .text.Motion_StartFast:00000060 $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1238   .text.Motion_StraightFast:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1245   .text.Motion_StraightFast:00000000 Motion_StraightFast
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1314   .text.Motion_StraightFast:00000068 $d
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1320   .text.Motion_GoalFast:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1327   .text.Motion_GoalFast:00000000 Motion_GoalFast
C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s:1397   .text.Motion_GoalFast:0000006c $d

UNDEFINED SYMBOLS
Straight_Calc_fb
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\cco7uKNH.s 			page 32


Yawrate_Calc_fb
enc
enc_sum
y_sum
flag_motion_end
HAL_Delay
flag_wall
