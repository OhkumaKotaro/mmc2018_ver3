ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"motion_plan.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Que_init_motion,"ax",%progbits
  18              		.align	1
  19              		.global	Que_init_motion
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	Que_init_motion:
  26              	.LFB126:
  27              		.file 1 "Src/motion_plan.c"
   1:Src/motion_plan.c **** #include "motion_plan.h"
   2:Src/motion_plan.c **** #include "maze_info.h"
   3:Src/motion_plan.c **** #include "maze_analysis.h"
   4:Src/motion_plan.c **** #include "motion.h"
   5:Src/motion_plan.c **** #include "filter.h"
   6:Src/motion_plan.c **** #include "stm32f4xx_hal.h"
   7:Src/motion_plan.c **** #include "spi.h"
   8:Src/motion_plan.c **** #include "interface.h"
   9:Src/motion_plan.c **** #include "tim.h"
  10:Src/motion_plan.c **** 
  11:Src/motion_plan.c **** #define TRUE 1
  12:Src/motion_plan.c **** #define FALSE 0
  13:Src/motion_plan.c **** 
  14:Src/motion_plan.c **** #define MAX_STEP 255
  15:Src/motion_plan.c **** #define MAZE_SIZE 16
  16:Src/motion_plan.c **** 
  17:Src/motion_plan.c **** //direction
  18:Src/motion_plan.c **** #define NORTH 0
  19:Src/motion_plan.c **** #define EAST 1
  20:Src/motion_plan.c **** #define SOUTH 2
  21:Src/motion_plan.c **** #define WEST 3
  22:Src/motion_plan.c **** 
  23:Src/motion_plan.c **** extern unsigned char position; //1~4bit x , 5~8bit y
  24:Src/motion_plan.c **** extern unsigned char direction;
  25:Src/motion_plan.c **** 
  26:Src/motion_plan.c **** extern maze_t maze;
  27:Src/motion_plan.c **** 
  28:Src/motion_plan.c **** extern sensor_t sen_front;
  29:Src/motion_plan.c **** 
  30:Src/motion_plan.c **** extern uint8_t position;
  31:Src/motion_plan.c **** extern uint8_t direction;
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 2


  32:Src/motion_plan.c **** 
  33:Src/motion_plan.c **** unsigned char flag_search = FALSE;
  34:Src/motion_plan.c **** 
  35:Src/motion_plan.c **** extern uint8_t flag_motor;
  36:Src/motion_plan.c **** 
  37:Src/motion_plan.c **** extern enc_t enc;
  38:Src/motion_plan.c **** 
  39:Src/motion_plan.c **** typedef struct
  40:Src/motion_plan.c **** {
  41:Src/motion_plan.c **** 	unsigned char data[MAX_STEP];
  42:Src/motion_plan.c **** 	unsigned int head;
  43:Src/motion_plan.c **** 	unsigned int tail;
  44:Src/motion_plan.c **** } queue_motion_t;
  45:Src/motion_plan.c **** queue_motion_t q_motion;
  46:Src/motion_plan.c **** 
  47:Src/motion_plan.c **** void Que_init_motion(queue_motion_t *q)
  48:Src/motion_plan.c **** {
  28              		.loc 1 48 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
  49:Src/motion_plan.c **** 	int i;
  50:Src/motion_plan.c **** 
  51:Src/motion_plan.c **** 	q->head = 0;
  34              		.loc 1 51 0
  35 0000 0023     		movs	r3, #0
  36 0002 C0F80031 		str	r3, [r0, #256]
  52:Src/motion_plan.c **** 	q->tail = 0;
  37              		.loc 1 52 0
  38 0006 C0F80431 		str	r3, [r0, #260]
  39              	.LVL1:
  53:Src/motion_plan.c **** 	for (i = 0; i < MAX_STEP; ++i)
  40              		.loc 1 53 0
  41 000a 02E0     		b	.L2
  42              	.LVL2:
  43              	.L3:
  54:Src/motion_plan.c **** 	{
  55:Src/motion_plan.c **** 		q->data[i] = 0;
  44              		.loc 1 55 0 discriminator 3
  45 000c 0022     		movs	r2, #0
  46 000e C254     		strb	r2, [r0, r3]
  53:Src/motion_plan.c **** 	for (i = 0; i < MAX_STEP; ++i)
  47              		.loc 1 53 0 discriminator 3
  48 0010 0133     		adds	r3, r3, #1
  49              	.LVL3:
  50              	.L2:
  53:Src/motion_plan.c **** 	for (i = 0; i < MAX_STEP; ++i)
  51              		.loc 1 53 0 is_stmt 0 discriminator 1
  52 0012 FE2B     		cmp	r3, #254
  53 0014 FADD     		ble	.L3
  56:Src/motion_plan.c **** 	}
  57:Src/motion_plan.c **** }
  54              		.loc 1 57 0 is_stmt 1
  55 0016 7047     		bx	lr
  56              		.cfi_endproc
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 3


  57              	.LFE126:
  59              		.section	.text.enq_motion,"ax",%progbits
  60              		.align	1
  61              		.global	enq_motion
  62              		.syntax unified
  63              		.thumb
  64              		.thumb_func
  65              		.fpu fpv4-sp-d16
  67              	enq_motion:
  68              	.LFB127:
  58:Src/motion_plan.c **** 
  59:Src/motion_plan.c **** unsigned char enq_motion(queue_motion_t *q, unsigned char item)
  60:Src/motion_plan.c **** {
  69              		.loc 1 60 0
  70              		.cfi_startproc
  71              		@ args = 0, pretend = 0, frame = 0
  72              		@ frame_needed = 0, uses_anonymous_args = 0
  73              		@ link register save eliminated.
  74              	.LVL4:
  61:Src/motion_plan.c **** 	if (q->tail >= MAX_STEP)
  75              		.loc 1 61 0
  76 0000 D0F80431 		ldr	r3, [r0, #260]
  77 0004 FE2B     		cmp	r3, #254
  78 0006 05D8     		bhi	.L6
  62:Src/motion_plan.c **** 	{
  63:Src/motion_plan.c **** 		return MAX_STEP;
  64:Src/motion_plan.c **** 	}
  65:Src/motion_plan.c **** 	else
  66:Src/motion_plan.c **** 	{
  67:Src/motion_plan.c **** 		q->data[q->tail] = item;
  79              		.loc 1 67 0
  80 0008 C154     		strb	r1, [r0, r3]
  68:Src/motion_plan.c **** 		q->tail++;
  81              		.loc 1 68 0
  82 000a 0133     		adds	r3, r3, #1
  83 000c C0F80431 		str	r3, [r0, #260]
  69:Src/motion_plan.c **** 	}
  70:Src/motion_plan.c **** 	return 1;
  84              		.loc 1 70 0
  85 0010 0120     		movs	r0, #1
  86              	.LVL5:
  87 0012 7047     		bx	lr
  88              	.LVL6:
  89              	.L6:
  63:Src/motion_plan.c **** 	}
  90              		.loc 1 63 0
  91 0014 FF20     		movs	r0, #255
  92              	.LVL7:
  71:Src/motion_plan.c **** }
  93              		.loc 1 71 0
  94 0016 7047     		bx	lr
  95              		.cfi_endproc
  96              	.LFE127:
  98              		.section	.text.deq_motion,"ax",%progbits
  99              		.align	1
 100              		.global	deq_motion
 101              		.syntax unified
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 4


 102              		.thumb
 103              		.thumb_func
 104              		.fpu fpv4-sp-d16
 106              	deq_motion:
 107              	.LFB128:
  72:Src/motion_plan.c **** 
  73:Src/motion_plan.c **** unsigned char deq_motion(queue_motion_t *q)
  74:Src/motion_plan.c **** {
 108              		.loc 1 74 0
 109              		.cfi_startproc
 110              		@ args = 0, pretend = 0, frame = 0
 111              		@ frame_needed = 0, uses_anonymous_args = 0
 112              		@ link register save eliminated.
 113              	.LVL8:
 114 0000 0246     		mov	r2, r0
  75:Src/motion_plan.c **** 	unsigned char tmp;
  76:Src/motion_plan.c **** 	tmp = q->data[q->head];
 115              		.loc 1 76 0
 116 0002 D0F80031 		ldr	r3, [r0, #256]
 117 0006 C05C     		ldrb	r0, [r0, r3]	@ zero_extendqisi2
 118              	.LVL9:
  77:Src/motion_plan.c **** 	q->head++;
 119              		.loc 1 77 0
 120 0008 0133     		adds	r3, r3, #1
 121 000a C2F80031 		str	r3, [r2, #256]
  78:Src/motion_plan.c **** 	return tmp;
  79:Src/motion_plan.c **** }
 122              		.loc 1 79 0
 123 000e 7047     		bx	lr
 124              		.cfi_endproc
 125              	.LFE128:
 127              		.section	.text.Update_Position,"ax",%progbits
 128              		.align	1
 129              		.global	Update_Position
 130              		.syntax unified
 131              		.thumb
 132              		.thumb_func
 133              		.fpu fpv4-sp-d16
 135              	Update_Position:
 136              	.LFB129:
  80:Src/motion_plan.c **** 
  81:Src/motion_plan.c **** void Update_Position(unsigned char next_motion)
  82:Src/motion_plan.c **** {
 137              		.loc 1 82 0
 138              		.cfi_startproc
 139              		@ args = 0, pretend = 0, frame = 0
 140              		@ frame_needed = 0, uses_anonymous_args = 0
 141              		@ link register save eliminated.
 142              	.LVL10:
  83:Src/motion_plan.c **** 	switch (next_motion)
 143              		.loc 1 83 0
 144 0000 0428     		cmp	r0, #4
 145 0002 00F2C280 		bhi	.L8
 146 0006 DFE800F0 		tbb	[pc, r0]
 147              	.L11:
 148 000a 03       		.byte	(.L10-.L11)/2
 149 000b 2C       		.byte	(.L12-.L11)/2
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 5


 150 000c 49       		.byte	(.L13-.L11)/2
 151 000d 71       		.byte	(.L14-.L11)/2
 152 000e 99       		.byte	(.L15-.L11)/2
 153 000f 00       		.p2align 1
 154              	.L10:
  84:Src/motion_plan.c **** 	{
  85:Src/motion_plan.c **** 	case LEFT:
  86:Src/motion_plan.c **** 		switch (direction)
 155              		.loc 1 86 0
 156 0010 5E4B     		ldr	r3, .L41
 157 0012 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 158 0014 032B     		cmp	r3, #3
 159 0016 00F2B880 		bhi	.L8
 160 001a DFE803F0 		tbb	[pc, r3]
 161              	.L17:
 162 001e 02       		.byte	(.L16-.L17)/2
 163 001f 0A       		.byte	(.L18-.L17)/2
 164 0020 12       		.byte	(.L19-.L17)/2
 165 0021 1A       		.byte	(.L20-.L17)/2
 166              		.p2align 1
 167              	.L16:
  87:Src/motion_plan.c **** 		{
  88:Src/motion_plan.c **** 		case NORTH:
  89:Src/motion_plan.c **** 			position -= 1 << 4;
 168              		.loc 1 89 0
 169 0022 5B4A     		ldr	r2, .L41+4
 170 0024 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 171 0026 103B     		subs	r3, r3, #16
 172 0028 1370     		strb	r3, [r2]
  90:Src/motion_plan.c **** 			direction = WEST;
 173              		.loc 1 90 0
 174 002a 584B     		ldr	r3, .L41
 175 002c 0322     		movs	r2, #3
 176 002e 1A70     		strb	r2, [r3]
  91:Src/motion_plan.c **** 			break;
 177              		.loc 1 91 0
 178 0030 7047     		bx	lr
 179              	.L18:
  92:Src/motion_plan.c **** 		case EAST:
  93:Src/motion_plan.c **** 			position += 1;
 180              		.loc 1 93 0
 181 0032 574A     		ldr	r2, .L41+4
 182 0034 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 183 0036 0133     		adds	r3, r3, #1
 184 0038 1370     		strb	r3, [r2]
  94:Src/motion_plan.c **** 			direction = NORTH;
 185              		.loc 1 94 0
 186 003a 544B     		ldr	r3, .L41
 187 003c 0022     		movs	r2, #0
 188 003e 1A70     		strb	r2, [r3]
  95:Src/motion_plan.c **** 			break;
 189              		.loc 1 95 0
 190 0040 7047     		bx	lr
 191              	.L19:
  96:Src/motion_plan.c **** 		case SOUTH:
  97:Src/motion_plan.c **** 			position += 1 << 4;
 192              		.loc 1 97 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 6


 193 0042 534A     		ldr	r2, .L41+4
 194 0044 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 195 0046 1033     		adds	r3, r3, #16
 196 0048 1370     		strb	r3, [r2]
  98:Src/motion_plan.c **** 			direction = EAST;
 197              		.loc 1 98 0
 198 004a 504B     		ldr	r3, .L41
 199 004c 0122     		movs	r2, #1
 200 004e 1A70     		strb	r2, [r3]
  99:Src/motion_plan.c **** 			break;
 201              		.loc 1 99 0
 202 0050 7047     		bx	lr
 203              	.L20:
 100:Src/motion_plan.c **** 		case WEST:
 101:Src/motion_plan.c **** 			position -= 1;
 204              		.loc 1 101 0
 205 0052 4F4A     		ldr	r2, .L41+4
 206 0054 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 207 0056 013B     		subs	r3, r3, #1
 208 0058 1370     		strb	r3, [r2]
 102:Src/motion_plan.c **** 			direction = SOUTH;
 209              		.loc 1 102 0
 210 005a 4C4B     		ldr	r3, .L41
 211 005c 0222     		movs	r2, #2
 212 005e 1A70     		strb	r2, [r3]
 103:Src/motion_plan.c **** 			break;
 213              		.loc 1 103 0
 214 0060 7047     		bx	lr
 215              	.L12:
 104:Src/motion_plan.c **** 		}
 105:Src/motion_plan.c **** 		break;
 106:Src/motion_plan.c **** 	case FRONT:
 107:Src/motion_plan.c **** 		switch (direction)
 216              		.loc 1 107 0
 217 0062 4A4B     		ldr	r3, .L41
 218 0064 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 219 0066 032B     		cmp	r3, #3
 220 0068 00F28F80 		bhi	.L8
 221 006c DFE803F0 		tbb	[pc, r3]
 222              	.L22:
 223 0070 02       		.byte	(.L21-.L22)/2
 224 0071 07       		.byte	(.L23-.L22)/2
 225 0072 0C       		.byte	(.L24-.L22)/2
 226 0073 11       		.byte	(.L25-.L22)/2
 227              		.p2align 1
 228              	.L21:
 108:Src/motion_plan.c **** 		{
 109:Src/motion_plan.c **** 		case NORTH:
 110:Src/motion_plan.c **** 			position += 1;
 229              		.loc 1 110 0
 230 0074 464A     		ldr	r2, .L41+4
 231 0076 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 232 0078 0133     		adds	r3, r3, #1
 233 007a 1370     		strb	r3, [r2]
 111:Src/motion_plan.c **** 			break;
 234              		.loc 1 111 0
 235 007c 7047     		bx	lr
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 7


 236              	.L23:
 112:Src/motion_plan.c **** 		case EAST:
 113:Src/motion_plan.c **** 			position += 1 << 4;
 237              		.loc 1 113 0
 238 007e 444A     		ldr	r2, .L41+4
 239 0080 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 240 0082 1033     		adds	r3, r3, #16
 241 0084 1370     		strb	r3, [r2]
 114:Src/motion_plan.c **** 			break;
 242              		.loc 1 114 0
 243 0086 7047     		bx	lr
 244              	.L24:
 115:Src/motion_plan.c **** 		case SOUTH:
 116:Src/motion_plan.c **** 			position -= 1;
 245              		.loc 1 116 0
 246 0088 414A     		ldr	r2, .L41+4
 247 008a 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 248 008c 013B     		subs	r3, r3, #1
 249 008e 1370     		strb	r3, [r2]
 117:Src/motion_plan.c **** 			break;
 250              		.loc 1 117 0
 251 0090 7047     		bx	lr
 252              	.L25:
 118:Src/motion_plan.c **** 		case WEST:
 119:Src/motion_plan.c **** 			position -= 1 << 4;
 253              		.loc 1 119 0
 254 0092 3F4A     		ldr	r2, .L41+4
 255 0094 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 256 0096 103B     		subs	r3, r3, #16
 257 0098 1370     		strb	r3, [r2]
 120:Src/motion_plan.c **** 			break;
 258              		.loc 1 120 0
 259 009a 7047     		bx	lr
 260              	.L13:
 121:Src/motion_plan.c **** 		}
 122:Src/motion_plan.c **** 		break;
 123:Src/motion_plan.c **** 	case RIGHT:
 124:Src/motion_plan.c **** 		switch (direction)
 261              		.loc 1 124 0
 262 009c 3B4B     		ldr	r3, .L41
 263 009e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 264 00a0 032B     		cmp	r3, #3
 265 00a2 72D8     		bhi	.L8
 266 00a4 DFE803F0 		tbb	[pc, r3]
 267              	.L27:
 268 00a8 02       		.byte	(.L26-.L27)/2
 269 00a9 0A       		.byte	(.L28-.L27)/2
 270 00aa 12       		.byte	(.L29-.L27)/2
 271 00ab 1A       		.byte	(.L30-.L27)/2
 272              		.p2align 1
 273              	.L26:
 125:Src/motion_plan.c **** 		{
 126:Src/motion_plan.c **** 		case NORTH:
 127:Src/motion_plan.c **** 			position += 1 << 4;
 274              		.loc 1 127 0
 275 00ac 384A     		ldr	r2, .L41+4
 276 00ae 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 8


 277 00b0 1033     		adds	r3, r3, #16
 278 00b2 1370     		strb	r3, [r2]
 128:Src/motion_plan.c **** 			direction = EAST;
 279              		.loc 1 128 0
 280 00b4 354B     		ldr	r3, .L41
 281 00b6 0122     		movs	r2, #1
 282 00b8 1A70     		strb	r2, [r3]
 129:Src/motion_plan.c **** 			break;
 283              		.loc 1 129 0
 284 00ba 7047     		bx	lr
 285              	.L28:
 130:Src/motion_plan.c **** 		case EAST:
 131:Src/motion_plan.c **** 			position -= 1;
 286              		.loc 1 131 0
 287 00bc 344A     		ldr	r2, .L41+4
 288 00be 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 289 00c0 013B     		subs	r3, r3, #1
 290 00c2 1370     		strb	r3, [r2]
 132:Src/motion_plan.c **** 			direction = SOUTH;
 291              		.loc 1 132 0
 292 00c4 314B     		ldr	r3, .L41
 293 00c6 0222     		movs	r2, #2
 294 00c8 1A70     		strb	r2, [r3]
 133:Src/motion_plan.c **** 			break;
 295              		.loc 1 133 0
 296 00ca 7047     		bx	lr
 297              	.L29:
 134:Src/motion_plan.c **** 		case SOUTH:
 135:Src/motion_plan.c **** 			position -= 1 << 4;
 298              		.loc 1 135 0
 299 00cc 304A     		ldr	r2, .L41+4
 300 00ce 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 301 00d0 103B     		subs	r3, r3, #16
 302 00d2 1370     		strb	r3, [r2]
 136:Src/motion_plan.c **** 			direction = WEST;
 303              		.loc 1 136 0
 304 00d4 2D4B     		ldr	r3, .L41
 305 00d6 0322     		movs	r2, #3
 306 00d8 1A70     		strb	r2, [r3]
 137:Src/motion_plan.c **** 			break;
 307              		.loc 1 137 0
 308 00da 7047     		bx	lr
 309              	.L30:
 138:Src/motion_plan.c **** 		case WEST:
 139:Src/motion_plan.c **** 			position += 1;
 310              		.loc 1 139 0
 311 00dc 2C4A     		ldr	r2, .L41+4
 312 00de 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 313 00e0 0133     		adds	r3, r3, #1
 314 00e2 1370     		strb	r3, [r2]
 140:Src/motion_plan.c **** 			direction = NORTH;
 315              		.loc 1 140 0
 316 00e4 294B     		ldr	r3, .L41
 317 00e6 0022     		movs	r2, #0
 318 00e8 1A70     		strb	r2, [r3]
 141:Src/motion_plan.c **** 			break;
 319              		.loc 1 141 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 9


 320 00ea 7047     		bx	lr
 321              	.L14:
 142:Src/motion_plan.c **** 		}
 143:Src/motion_plan.c **** 		break;
 144:Src/motion_plan.c **** 	case UTURN:
 145:Src/motion_plan.c **** 		switch (direction)
 322              		.loc 1 145 0
 323 00ec 274B     		ldr	r3, .L41
 324 00ee 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 325 00f0 032B     		cmp	r3, #3
 326 00f2 4AD8     		bhi	.L8
 327 00f4 DFE803F0 		tbb	[pc, r3]
 328              	.L32:
 329 00f8 02       		.byte	(.L31-.L32)/2
 330 00f9 0A       		.byte	(.L33-.L32)/2
 331 00fa 12       		.byte	(.L34-.L32)/2
 332 00fb 1A       		.byte	(.L35-.L32)/2
 333              		.p2align 1
 334              	.L31:
 146:Src/motion_plan.c **** 		{
 147:Src/motion_plan.c **** 		case NORTH:
 148:Src/motion_plan.c **** 			position -= 1;
 335              		.loc 1 148 0
 336 00fc 244A     		ldr	r2, .L41+4
 337 00fe 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 338 0100 013B     		subs	r3, r3, #1
 339 0102 1370     		strb	r3, [r2]
 149:Src/motion_plan.c **** 			direction = SOUTH;
 340              		.loc 1 149 0
 341 0104 214B     		ldr	r3, .L41
 342 0106 0222     		movs	r2, #2
 343 0108 1A70     		strb	r2, [r3]
 150:Src/motion_plan.c **** 			break;
 344              		.loc 1 150 0
 345 010a 7047     		bx	lr
 346              	.L33:
 151:Src/motion_plan.c **** 		case EAST:
 152:Src/motion_plan.c **** 			position -= 1 << 4;
 347              		.loc 1 152 0
 348 010c 204A     		ldr	r2, .L41+4
 349 010e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 350 0110 103B     		subs	r3, r3, #16
 351 0112 1370     		strb	r3, [r2]
 153:Src/motion_plan.c **** 			direction = WEST;
 352              		.loc 1 153 0
 353 0114 1D4B     		ldr	r3, .L41
 354 0116 0322     		movs	r2, #3
 355 0118 1A70     		strb	r2, [r3]
 154:Src/motion_plan.c **** 			break;
 356              		.loc 1 154 0
 357 011a 7047     		bx	lr
 358              	.L34:
 155:Src/motion_plan.c **** 		case SOUTH:
 156:Src/motion_plan.c **** 			position += 1;
 359              		.loc 1 156 0
 360 011c 1C4A     		ldr	r2, .L41+4
 361 011e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 10


 362 0120 0133     		adds	r3, r3, #1
 363 0122 1370     		strb	r3, [r2]
 157:Src/motion_plan.c **** 			direction = NORTH;
 364              		.loc 1 157 0
 365 0124 194B     		ldr	r3, .L41
 366 0126 0022     		movs	r2, #0
 367 0128 1A70     		strb	r2, [r3]
 158:Src/motion_plan.c **** 			break;
 368              		.loc 1 158 0
 369 012a 7047     		bx	lr
 370              	.L35:
 159:Src/motion_plan.c **** 		case WEST:
 160:Src/motion_plan.c **** 			position += 1 << 4;
 371              		.loc 1 160 0
 372 012c 184A     		ldr	r2, .L41+4
 373 012e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 374 0130 1033     		adds	r3, r3, #16
 375 0132 1370     		strb	r3, [r2]
 161:Src/motion_plan.c **** 			direction = EAST;
 376              		.loc 1 161 0
 377 0134 154B     		ldr	r3, .L41
 378 0136 0122     		movs	r2, #1
 379 0138 1A70     		strb	r2, [r3]
 162:Src/motion_plan.c **** 			break;
 380              		.loc 1 162 0
 381 013a 7047     		bx	lr
 382              	.L15:
 163:Src/motion_plan.c **** 		}
 164:Src/motion_plan.c **** 		break;
 165:Src/motion_plan.c **** 	case KABEATE:
 166:Src/motion_plan.c **** 		switch (direction)
 383              		.loc 1 166 0
 384 013c 134B     		ldr	r3, .L41
 385 013e 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 386 0140 032B     		cmp	r3, #3
 387 0142 22D8     		bhi	.L8
 388 0144 DFE803F0 		tbb	[pc, r3]
 389              	.L37:
 390 0148 02       		.byte	(.L36-.L37)/2
 391 0149 0A       		.byte	(.L38-.L37)/2
 392 014a 12       		.byte	(.L39-.L37)/2
 393 014b 1A       		.byte	(.L40-.L37)/2
 394              		.p2align 1
 395              	.L36:
 167:Src/motion_plan.c **** 		{
 168:Src/motion_plan.c **** 		case NORTH:
 169:Src/motion_plan.c **** 			position -= 1;
 396              		.loc 1 169 0
 397 014c 104A     		ldr	r2, .L41+4
 398 014e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 399 0150 013B     		subs	r3, r3, #1
 400 0152 1370     		strb	r3, [r2]
 170:Src/motion_plan.c **** 			direction = SOUTH;
 401              		.loc 1 170 0
 402 0154 0D4B     		ldr	r3, .L41
 403 0156 0222     		movs	r2, #2
 404 0158 1A70     		strb	r2, [r3]
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 11


 171:Src/motion_plan.c **** 			break;
 405              		.loc 1 171 0
 406 015a 7047     		bx	lr
 407              	.L38:
 172:Src/motion_plan.c **** 		case EAST:
 173:Src/motion_plan.c **** 			position -= 1 << 4;
 408              		.loc 1 173 0
 409 015c 0C4A     		ldr	r2, .L41+4
 410 015e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 411 0160 103B     		subs	r3, r3, #16
 412 0162 1370     		strb	r3, [r2]
 174:Src/motion_plan.c **** 			direction = WEST;
 413              		.loc 1 174 0
 414 0164 094B     		ldr	r3, .L41
 415 0166 0322     		movs	r2, #3
 416 0168 1A70     		strb	r2, [r3]
 175:Src/motion_plan.c **** 			break;
 417              		.loc 1 175 0
 418 016a 7047     		bx	lr
 419              	.L39:
 176:Src/motion_plan.c **** 		case SOUTH:
 177:Src/motion_plan.c **** 			position += 1;
 420              		.loc 1 177 0
 421 016c 084A     		ldr	r2, .L41+4
 422 016e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 423 0170 0133     		adds	r3, r3, #1
 424 0172 1370     		strb	r3, [r2]
 178:Src/motion_plan.c **** 			direction = NORTH;
 425              		.loc 1 178 0
 426 0174 054B     		ldr	r3, .L41
 427 0176 0022     		movs	r2, #0
 428 0178 1A70     		strb	r2, [r3]
 179:Src/motion_plan.c **** 			break;
 429              		.loc 1 179 0
 430 017a 7047     		bx	lr
 431              	.L40:
 180:Src/motion_plan.c **** 		case WEST:
 181:Src/motion_plan.c **** 			position += 1 << 4;
 432              		.loc 1 181 0
 433 017c 044A     		ldr	r2, .L41+4
 434 017e 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 435 0180 1033     		adds	r3, r3, #16
 436 0182 1370     		strb	r3, [r2]
 182:Src/motion_plan.c **** 			direction = EAST;
 437              		.loc 1 182 0
 438 0184 014B     		ldr	r3, .L41
 439 0186 0122     		movs	r2, #1
 440 0188 1A70     		strb	r2, [r3]
 441              	.L8:
 183:Src/motion_plan.c **** 			break;
 184:Src/motion_plan.c **** 		}
 185:Src/motion_plan.c **** 		break;
 186:Src/motion_plan.c **** 	}
 187:Src/motion_plan.c **** }
 442              		.loc 1 187 0
 443 018a 7047     		bx	lr
 444              	.L42:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 12


 445              		.align	2
 446              	.L41:
 447 018c 00000000 		.word	direction
 448 0190 00000000 		.word	position
 449              		.cfi_endproc
 450              	.LFE129:
 452              		.section	.text.Maze_Next_Motion,"ax",%progbits
 453              		.align	1
 454              		.global	Maze_Next_Motion
 455              		.syntax unified
 456              		.thumb
 457              		.thumb_func
 458              		.fpu fpv4-sp-d16
 460              	Maze_Next_Motion:
 461              	.LFB130:
 188:Src/motion_plan.c **** 
 189:Src/motion_plan.c **** unsigned char Maze_Next_Motion(void)
 190:Src/motion_plan.c **** {
 462              		.loc 1 190 0
 463              		.cfi_startproc
 464              		@ args = 0, pretend = 0, frame = 0
 465              		@ frame_needed = 0, uses_anonymous_args = 0
 466              		@ link register save eliminated.
 467 0000 F0B4     		push	{r4, r5, r6, r7}
 468              	.LCFI0:
 469              		.cfi_def_cfa_offset 16
 470              		.cfi_offset 4, -16
 471              		.cfi_offset 5, -12
 472              		.cfi_offset 6, -8
 473              		.cfi_offset 7, -4
 474              	.LVL11:
 191:Src/motion_plan.c **** 	/* <Ê¶ÇË¶Å>   : Ê¨°„ÅÆÂãï‰Ωú„ÇíÊ±∫ÂÆö
 192:Src/motion_plan.c **** 	* <ÂºïÊï∞>   : „Å™„Åó
 193:Src/motion_plan.c **** 	* <Êàª„ÇäÂÄ§> : Ê¨°„ÅÆÂãï‰Ωú
 194:Src/motion_plan.c **** 	*/
 195:Src/motion_plan.c **** 	unsigned char tmp_step = MAX_STEP; // Ê≠©Êï∞
 196:Src/motion_plan.c **** 	unsigned char tmp_dir = UTURN;	 // ÊñπÂêë
 197:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 198:Src/motion_plan.c **** 									   // Ëø∑Ë∑ØÂ§ñ„Å´ÈÄ≤„ÇÄ„ÅÆ„Å®„Ç¥„Éº„É´„Åå„Çπ„Çø„Éº„Éà„Éû„Çπ‰ª•Â§ñ„ÅÆÂ†¥Âêà(0,0)„Å´ÈÄ≤„ÇÄ„
 199:Src/motion_plan.c **** 
 200:Src/motion_plan.c **** 	unsigned char x = position >> 4 & 0b1111;
 475              		.loc 1 200 0
 476 0002 BC4B     		ldr	r3, .L89
 477 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 478 0006 1909     		lsrs	r1, r3, #4
 479              	.LVL12:
 201:Src/motion_plan.c **** 	unsigned char y = position & 0b1111;
 480              		.loc 1 201 0
 481 0008 03F00F03 		and	r3, r3, #15
 482              	.LVL13:
 202:Src/motion_plan.c **** 
 203:Src/motion_plan.c **** 	switch (direction)
 483              		.loc 1 203 0
 484 000c BA4A     		ldr	r2, .L89+4
 485 000e 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 486 0010 032A     		cmp	r2, #3
 487 0012 00F26481 		bhi	.L62
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 13


 488 0016 DFE812F0 		tbh	[pc, r2, lsl #1]
 489              	.L46:
 490 001a 0400     		.2byte	(.L45-.L46)/2
 491 001c 5C00     		.2byte	(.L47-.L46)/2
 492 001e B200     		.2byte	(.L48-.L46)/2
 493 0020 0901     		.2byte	(.L49-.L46)/2
 494              		.p2align 1
 495              	.L45:
 204:Src/motion_plan.c **** 	{
 205:Src/motion_plan.c **** 	case NORTH:
 206:Src/motion_plan.c **** 		if (maze.step[x][y + 1] < tmp_step)
 496              		.loc 1 206 0
 497 0022 581C     		adds	r0, r3, #1
 498 0024 B54C     		ldr	r4, .L89+8
 499 0026 04EB0114 		add	r4, r4, r1, lsl #4
 500 002a 2044     		add	r0, r0, r4
 501 002c 90F80451 		ldrb	r5, [r0, #260]	@ zero_extendqisi2
 502 0030 FF2D     		cmp	r5, #255
 503 0032 0ED0     		beq	.L63
 207:Src/motion_plan.c **** 		{
 208:Src/motion_plan.c **** 			if (y < MAZE_SIZE - 1)
 504              		.loc 1 208 0
 505 0034 0E2B     		cmp	r3, #14
 506 0036 39D8     		bhi	.L64
 209:Src/motion_plan.c **** 			{
 210:Src/motion_plan.c **** 				if ((maze.wall_horizontal[y] >> x & 0b1) == FALSE)
 507              		.loc 1 210 0
 508 0038 03F11000 		add	r0, r3, #16
 509 003c AF4C     		ldr	r4, .L89+8
 510 003e 04EB8000 		add	r0, r4, r0, lsl #2
 511 0042 4068     		ldr	r0, [r0, #4]
 512 0044 C840     		lsrs	r0, r0, r1
 513 0046 10F0010F 		tst	r0, #1
 514 004a 32D0     		beq	.L65
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 515              		.loc 1 196 0
 516 004c 0320     		movs	r0, #3
 195:Src/motion_plan.c **** 	unsigned char tmp_dir = UTURN;	 // ÊñπÂêë
 517              		.loc 1 195 0
 518 004e FF25     		movs	r5, #255
 519 0050 00E0     		b	.L50
 520              	.L63:
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 521              		.loc 1 196 0
 522 0052 0320     		movs	r0, #3
 523              	.L50:
 524              	.LVL14:
 211:Src/motion_plan.c **** 				{
 212:Src/motion_plan.c **** 					tmp_step = maze.step[x][y + 1];
 213:Src/motion_plan.c **** 					tmp_dir = FRONT;
 214:Src/motion_plan.c **** 				}
 215:Src/motion_plan.c **** 			}
 216:Src/motion_plan.c **** 		}
 217:Src/motion_plan.c **** 		if (maze.step[x - 1][y] < tmp_step)
 525              		.loc 1 217 0
 526 0054 4E1E     		subs	r6, r1, #1
 527 0056 A94C     		ldr	r4, .L89+8
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 14


 528 0058 04EB0614 		add	r4, r4, r6, lsl #4
 529 005c 1C44     		add	r4, r4, r3
 530 005e 94F80441 		ldrb	r4, [r4, #260]	@ zero_extendqisi2
 531 0062 AC42     		cmp	r4, r5
 532 0064 0AD2     		bcs	.L51
 218:Src/motion_plan.c **** 		{
 219:Src/motion_plan.c **** 			if (x > 0)
 533              		.loc 1 219 0
 534 0066 49B1     		cbz	r1, .L51
 220:Src/motion_plan.c **** 			{
 221:Src/motion_plan.c **** 				if ((maze.wall_vertical[x - 1] >> y & 0b1) == FALSE)
 535              		.loc 1 221 0
 536 0068 A44F     		ldr	r7, .L89+8
 537 006a 07EB8606 		add	r6, r7, r6, lsl #2
 538 006e 7668     		ldr	r6, [r6, #4]
 539 0070 DE40     		lsrs	r6, r6, r3
 540 0072 16F0010F 		tst	r6, #1
 541 0076 01D1     		bne	.L51
 222:Src/motion_plan.c **** 				{
 223:Src/motion_plan.c **** 					tmp_step = maze.step[x - 1][y];
 224:Src/motion_plan.c **** 					tmp_dir = LEFT;
 542              		.loc 1 224 0
 543 0078 1046     		mov	r0, r2
 544              	.LVL15:
 223:Src/motion_plan.c **** 					tmp_dir = LEFT;
 545              		.loc 1 223 0
 546 007a 2546     		mov	r5, r4
 547              	.LVL16:
 548              	.L51:
 225:Src/motion_plan.c **** 				}
 226:Src/motion_plan.c **** 			}
 227:Src/motion_plan.c **** 		}
 228:Src/motion_plan.c **** 		if (maze.step[x + 1][y] < tmp_step)
 549              		.loc 1 228 0
 550 007c 4A1C     		adds	r2, r1, #1
 551 007e 9F4C     		ldr	r4, .L89+8
 552 0080 04EB0212 		add	r2, r4, r2, lsl #4
 553 0084 1A44     		add	r2, r2, r3
 554 0086 92F80421 		ldrb	r2, [r2, #260]	@ zero_extendqisi2
 555 008a AA42     		cmp	r2, r5
 556 008c 0AD2     		bcs	.L52
 229:Src/motion_plan.c **** 		{
 230:Src/motion_plan.c **** 			if (x < MAZE_SIZE - 1)
 557              		.loc 1 230 0
 558 008e 0E29     		cmp	r1, #14
 559 0090 08D8     		bhi	.L52
 231:Src/motion_plan.c **** 			{
 232:Src/motion_plan.c **** 				if ((maze.wall_vertical[x] >> y & 0b1) == FALSE)
 560              		.loc 1 232 0
 561 0092 04EB8104 		add	r4, r4, r1, lsl #2
 562 0096 6468     		ldr	r4, [r4, #4]
 563 0098 DC40     		lsrs	r4, r4, r3
 564 009a 14F0010F 		tst	r4, #1
 565 009e 01D1     		bne	.L52
 233:Src/motion_plan.c **** 				{
 234:Src/motion_plan.c **** 					tmp_step = maze.step[x + 1][y];
 566              		.loc 1 234 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 15


 567 00a0 1546     		mov	r5, r2
 568              	.LVL17:
 235:Src/motion_plan.c **** 					tmp_dir = RIGHT;
 569              		.loc 1 235 0
 570 00a2 0220     		movs	r0, #2
 571              	.LVL18:
 572              	.L52:
 236:Src/motion_plan.c **** 				}
 237:Src/motion_plan.c **** 			}
 238:Src/motion_plan.c **** 		}
 239:Src/motion_plan.c **** 		if (tmp_step == MAX_STEP)
 573              		.loc 1 239 0
 574 00a4 FF2D     		cmp	r5, #255
 575 00a6 06D0     		beq	.L88
 576              	.LVL19:
 577              	.L44:
 240:Src/motion_plan.c **** 		{
 241:Src/motion_plan.c **** 			if ((maze.wall_horizontal[y] >> x & 0b1) == FALSE)
 242:Src/motion_plan.c **** 			{
 243:Src/motion_plan.c **** 				tmp_dir = UTURN;
 244:Src/motion_plan.c **** 			}
 245:Src/motion_plan.c **** 			else
 246:Src/motion_plan.c **** 			{
 247:Src/motion_plan.c **** 				tmp_dir = KABEATE;
 248:Src/motion_plan.c **** 			}
 249:Src/motion_plan.c **** 		}
 250:Src/motion_plan.c **** 		break;
 251:Src/motion_plan.c **** 	case EAST:
 252:Src/motion_plan.c **** 		if (maze.step[x + 1][y] < tmp_step)
 253:Src/motion_plan.c **** 		{
 254:Src/motion_plan.c **** 			if (x < MAZE_SIZE - 1)
 255:Src/motion_plan.c **** 			{
 256:Src/motion_plan.c **** 				if ((maze.wall_vertical[x] >> y & 0b1) == FALSE)
 257:Src/motion_plan.c **** 				{
 258:Src/motion_plan.c **** 					tmp_step = maze.step[x + 1][y];
 259:Src/motion_plan.c **** 					tmp_dir = FRONT;
 260:Src/motion_plan.c **** 				}
 261:Src/motion_plan.c **** 			}
 262:Src/motion_plan.c **** 		}
 263:Src/motion_plan.c **** 		if (maze.step[x][y + 1] < tmp_step)
 264:Src/motion_plan.c **** 		{
 265:Src/motion_plan.c **** 			if (y < MAZE_SIZE - 1)
 266:Src/motion_plan.c **** 			{
 267:Src/motion_plan.c **** 				if ((maze.wall_horizontal[y] >> x & 0b1) == FALSE)
 268:Src/motion_plan.c **** 				{
 269:Src/motion_plan.c **** 					tmp_step = maze.step[x][y + 1];
 270:Src/motion_plan.c **** 					tmp_dir = LEFT;
 271:Src/motion_plan.c **** 				}
 272:Src/motion_plan.c **** 			}
 273:Src/motion_plan.c **** 		}
 274:Src/motion_plan.c **** 		if (maze.step[x][y - 1] < tmp_step)
 275:Src/motion_plan.c **** 		{
 276:Src/motion_plan.c **** 			if (y > 0)
 277:Src/motion_plan.c **** 			{
 278:Src/motion_plan.c **** 				if ((maze.wall_horizontal[y - 1] >> x & 0b1) == FALSE)
 279:Src/motion_plan.c **** 				{
 280:Src/motion_plan.c **** 					tmp_step = maze.step[x][y - 1];
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 16


 281:Src/motion_plan.c **** 					tmp_dir = RIGHT;
 282:Src/motion_plan.c **** 				}
 283:Src/motion_plan.c **** 			}
 284:Src/motion_plan.c **** 		}
 285:Src/motion_plan.c **** 		if (tmp_step == MAX_STEP)
 286:Src/motion_plan.c **** 		{
 287:Src/motion_plan.c **** 			if ((maze.wall_vertical[x] >> y & 0b1) == FALSE)
 288:Src/motion_plan.c **** 			{
 289:Src/motion_plan.c **** 				tmp_dir = UTURN;
 290:Src/motion_plan.c **** 			}
 291:Src/motion_plan.c **** 			else
 292:Src/motion_plan.c **** 			{
 293:Src/motion_plan.c **** 				tmp_dir = KABEATE;
 294:Src/motion_plan.c **** 			}
 295:Src/motion_plan.c **** 		}
 296:Src/motion_plan.c **** 		break;
 297:Src/motion_plan.c **** 	case SOUTH:
 298:Src/motion_plan.c **** 		if (maze.step[x][y - 1] < tmp_step)
 299:Src/motion_plan.c **** 		{
 300:Src/motion_plan.c **** 			if (y > 0)
 301:Src/motion_plan.c **** 			{
 302:Src/motion_plan.c **** 				if ((maze.wall_horizontal[y - 1] >> x & 0b1) == FALSE)
 303:Src/motion_plan.c **** 				{
 304:Src/motion_plan.c **** 					tmp_step = maze.step[x][y - 1];
 305:Src/motion_plan.c **** 					tmp_dir = FRONT;
 306:Src/motion_plan.c **** 				}
 307:Src/motion_plan.c **** 			}
 308:Src/motion_plan.c **** 		}
 309:Src/motion_plan.c **** 		if (maze.step[x + 1][y] < tmp_step)
 310:Src/motion_plan.c **** 		{
 311:Src/motion_plan.c **** 			if (x < MAZE_SIZE - 1)
 312:Src/motion_plan.c **** 			{
 313:Src/motion_plan.c **** 				if ((maze.wall_vertical[x] >> y & 0b1) == FALSE)
 314:Src/motion_plan.c **** 				{
 315:Src/motion_plan.c **** 					tmp_step = maze.step[x + 1][y];
 316:Src/motion_plan.c **** 					tmp_dir = LEFT;
 317:Src/motion_plan.c **** 				}
 318:Src/motion_plan.c **** 			}
 319:Src/motion_plan.c **** 		}
 320:Src/motion_plan.c **** 		if (maze.step[x - 1][y] < tmp_step)
 321:Src/motion_plan.c **** 		{
 322:Src/motion_plan.c **** 			if (x > 0)
 323:Src/motion_plan.c **** 			{
 324:Src/motion_plan.c **** 				if ((maze.wall_vertical[x - 1] >> y & 0b1) == FALSE)
 325:Src/motion_plan.c **** 				{
 326:Src/motion_plan.c **** 					tmp_step = maze.step[x - 1][y];
 327:Src/motion_plan.c **** 					tmp_dir = RIGHT;
 328:Src/motion_plan.c **** 				}
 329:Src/motion_plan.c **** 			}
 330:Src/motion_plan.c **** 		}
 331:Src/motion_plan.c **** 		if (tmp_step == MAX_STEP)
 332:Src/motion_plan.c **** 		{
 333:Src/motion_plan.c **** 			if ((maze.wall_horizontal[y - 1] >> x & 0b1) == FALSE)
 334:Src/motion_plan.c **** 			{
 335:Src/motion_plan.c **** 				tmp_dir = UTURN;
 336:Src/motion_plan.c **** 			}
 337:Src/motion_plan.c **** 			else
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 17


 338:Src/motion_plan.c **** 			{
 339:Src/motion_plan.c **** 				tmp_dir = KABEATE;
 340:Src/motion_plan.c **** 			}
 341:Src/motion_plan.c **** 		}
 342:Src/motion_plan.c **** 		break;
 343:Src/motion_plan.c **** 	case WEST:
 344:Src/motion_plan.c **** 		if (maze.step[x - 1][y] < tmp_step)
 345:Src/motion_plan.c **** 		{
 346:Src/motion_plan.c **** 			if (x > 0)
 347:Src/motion_plan.c **** 			{
 348:Src/motion_plan.c **** 				if ((maze.wall_vertical[x - 1] >> y & 0b1) == FALSE)
 349:Src/motion_plan.c **** 				{
 350:Src/motion_plan.c **** 					tmp_step = maze.step[x - 1][y];
 351:Src/motion_plan.c **** 					tmp_dir = FRONT;
 352:Src/motion_plan.c **** 				}
 353:Src/motion_plan.c **** 			}
 354:Src/motion_plan.c **** 		}
 355:Src/motion_plan.c **** 		if (maze.step[x][y - 1] < tmp_step)
 356:Src/motion_plan.c **** 		{
 357:Src/motion_plan.c **** 			if (y > 0)
 358:Src/motion_plan.c **** 			{
 359:Src/motion_plan.c **** 				if ((maze.wall_horizontal[y - 1] >> x & 0b1) == FALSE)
 360:Src/motion_plan.c **** 				{
 361:Src/motion_plan.c **** 					tmp_step = maze.step[x][y - 1];
 362:Src/motion_plan.c **** 					tmp_dir = LEFT;
 363:Src/motion_plan.c **** 				}
 364:Src/motion_plan.c **** 			}
 365:Src/motion_plan.c **** 		}
 366:Src/motion_plan.c **** 		if (maze.step[x][y + 1] < tmp_step)
 367:Src/motion_plan.c **** 		{
 368:Src/motion_plan.c **** 			if (y < MAZE_SIZE - 1)
 369:Src/motion_plan.c **** 			{
 370:Src/motion_plan.c **** 				if ((maze.wall_horizontal[y] >> x & 0b1) == FALSE)
 371:Src/motion_plan.c **** 				{
 372:Src/motion_plan.c **** 					tmp_step = maze.step[x][y + 1];
 373:Src/motion_plan.c **** 					tmp_dir = RIGHT;
 374:Src/motion_plan.c **** 				}
 375:Src/motion_plan.c **** 			}
 376:Src/motion_plan.c **** 		}
 377:Src/motion_plan.c **** 		if (tmp_step == MAX_STEP)
 378:Src/motion_plan.c **** 		{
 379:Src/motion_plan.c **** 			if ((maze.wall_vertical[x - 1] >> y & 0b1) == FALSE)
 380:Src/motion_plan.c **** 			{
 381:Src/motion_plan.c **** 				tmp_dir = UTURN;
 382:Src/motion_plan.c **** 			}
 383:Src/motion_plan.c **** 			else
 384:Src/motion_plan.c **** 			{
 385:Src/motion_plan.c **** 				tmp_dir = KABEATE;
 386:Src/motion_plan.c **** 			}
 387:Src/motion_plan.c **** 		}
 388:Src/motion_plan.c **** 		break;
 389:Src/motion_plan.c **** 	default:
 390:Src/motion_plan.c **** 		break;
 391:Src/motion_plan.c **** 	}
 392:Src/motion_plan.c **** 	return tmp_dir;
 393:Src/motion_plan.c **** }
 578              		.loc 1 393 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 18


 579 00a8 F0BC     		pop	{r4, r5, r6, r7}
 580              	.LCFI1:
 581              		.cfi_remember_state
 582              		.cfi_restore 7
 583              		.cfi_restore 6
 584              		.cfi_restore 5
 585              		.cfi_restore 4
 586              		.cfi_def_cfa_offset 0
 587 00aa 7047     		bx	lr
 588              	.LVL20:
 589              	.L64:
 590              	.LCFI2:
 591              		.cfi_restore_state
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 592              		.loc 1 196 0
 593 00ac 0320     		movs	r0, #3
 195:Src/motion_plan.c **** 	unsigned char tmp_dir = UTURN;	 // ÊñπÂêë
 594              		.loc 1 195 0
 595 00ae FF25     		movs	r5, #255
 596 00b0 D0E7     		b	.L50
 597              	.L65:
 213:Src/motion_plan.c **** 				}
 598              		.loc 1 213 0
 599 00b2 0120     		movs	r0, #1
 600 00b4 CEE7     		b	.L50
 601              	.LVL21:
 602              	.L88:
 241:Src/motion_plan.c **** 			{
 603              		.loc 1 241 0
 604 00b6 03F11002 		add	r2, r3, #16
 605 00ba 904B     		ldr	r3, .L89+8
 606              	.LVL22:
 607 00bc 03EB8203 		add	r3, r3, r2, lsl #2
 608 00c0 5B68     		ldr	r3, [r3, #4]
 609 00c2 23FA01F1 		lsr	r1, r3, r1
 610              	.LVL23:
 611 00c6 11F0010F 		tst	r1, #1
 612 00ca 40F00A81 		bne	.L68
 243:Src/motion_plan.c **** 			}
 613              		.loc 1 243 0
 614 00ce 0320     		movs	r0, #3
 615              	.LVL24:
 616 00d0 EAE7     		b	.L44
 617              	.LVL25:
 618              	.L47:
 252:Src/motion_plan.c **** 		{
 619              		.loc 1 252 0
 620 00d2 481C     		adds	r0, r1, #1
 621 00d4 894C     		ldr	r4, .L89+8
 622 00d6 04EB0010 		add	r0, r4, r0, lsl #4
 623 00da 1844     		add	r0, r0, r3
 624 00dc 90F80451 		ldrb	r5, [r0, #260]	@ zero_extendqisi2
 625 00e0 FF2D     		cmp	r5, #255
 626 00e2 0BD0     		beq	.L69
 254:Src/motion_plan.c **** 			{
 627              		.loc 1 254 0
 628 00e4 0E29     		cmp	r1, #14
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 19


 629 00e6 45D8     		bhi	.L70
 256:Src/motion_plan.c **** 				{
 630              		.loc 1 256 0
 631 00e8 04EB8100 		add	r0, r4, r1, lsl #2
 632 00ec 4068     		ldr	r0, [r0, #4]
 633 00ee D840     		lsrs	r0, r0, r3
 634 00f0 10F0010F 		tst	r0, #1
 635 00f4 41D0     		beq	.L71
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 636              		.loc 1 196 0
 637 00f6 0320     		movs	r0, #3
 195:Src/motion_plan.c **** 	unsigned char tmp_dir = UTURN;	 // ÊñπÂêë
 638              		.loc 1 195 0
 639 00f8 FF25     		movs	r5, #255
 640 00fa 00E0     		b	.L53
 641              	.L69:
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 642              		.loc 1 196 0
 643 00fc 0320     		movs	r0, #3
 644              	.L53:
 645              	.LVL26:
 263:Src/motion_plan.c **** 		{
 646              		.loc 1 263 0
 647 00fe 5A1C     		adds	r2, r3, #1
 648 0100 7E4C     		ldr	r4, .L89+8
 649 0102 04EB0114 		add	r4, r4, r1, lsl #4
 650 0106 2244     		add	r2, r2, r4
 651 0108 92F80421 		ldrb	r2, [r2, #260]	@ zero_extendqisi2
 652 010c AA42     		cmp	r2, r5
 653 010e 0DD2     		bcs	.L54
 265:Src/motion_plan.c **** 			{
 654              		.loc 1 265 0
 655 0110 0E2B     		cmp	r3, #14
 656 0112 0BD8     		bhi	.L54
 267:Src/motion_plan.c **** 				{
 657              		.loc 1 267 0
 658 0114 03F11004 		add	r4, r3, #16
 659 0118 784E     		ldr	r6, .L89+8
 660 011a 06EB8404 		add	r4, r6, r4, lsl #2
 661 011e 6468     		ldr	r4, [r4, #4]
 662 0120 CC40     		lsrs	r4, r4, r1
 663 0122 14F0010F 		tst	r4, #1
 664 0126 01D1     		bne	.L54
 269:Src/motion_plan.c **** 					tmp_dir = LEFT;
 665              		.loc 1 269 0
 666 0128 1546     		mov	r5, r2
 667              	.LVL27:
 270:Src/motion_plan.c **** 				}
 668              		.loc 1 270 0
 669 012a 0020     		movs	r0, #0
 670              	.LVL28:
 671              	.L54:
 274:Src/motion_plan.c **** 		{
 672              		.loc 1 274 0
 673 012c 5C1E     		subs	r4, r3, #1
 674 012e 734A     		ldr	r2, .L89+8
 675 0130 02EB0112 		add	r2, r2, r1, lsl #4
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 20


 676 0134 2244     		add	r2, r2, r4
 677 0136 92F80421 		ldrb	r2, [r2, #260]	@ zero_extendqisi2
 678 013a AA42     		cmp	r2, r5
 679 013c 0CD2     		bcs	.L55
 276:Src/motion_plan.c **** 			{
 680              		.loc 1 276 0
 681 013e 5BB1     		cbz	r3, .L55
 278:Src/motion_plan.c **** 				{
 682              		.loc 1 278 0
 683 0140 03F10F04 		add	r4, r3, #15
 684 0144 6D4E     		ldr	r6, .L89+8
 685 0146 06EB8404 		add	r4, r6, r4, lsl #2
 686 014a 6468     		ldr	r4, [r4, #4]
 687 014c CC40     		lsrs	r4, r4, r1
 688 014e 14F0010F 		tst	r4, #1
 689 0152 01D1     		bne	.L55
 280:Src/motion_plan.c **** 					tmp_dir = RIGHT;
 690              		.loc 1 280 0
 691 0154 1546     		mov	r5, r2
 692              	.LVL29:
 281:Src/motion_plan.c **** 				}
 693              		.loc 1 281 0
 694 0156 0220     		movs	r0, #2
 695              	.LVL30:
 696              	.L55:
 285:Src/motion_plan.c **** 		{
 697              		.loc 1 285 0
 698 0158 FF2D     		cmp	r5, #255
 699 015a A5D1     		bne	.L44
 287:Src/motion_plan.c **** 			{
 700              		.loc 1 287 0
 701 015c 674A     		ldr	r2, .L89+8
 702 015e 02EB8101 		add	r1, r2, r1, lsl #2
 703              	.LVL31:
 704 0162 4A68     		ldr	r2, [r1, #4]
 705 0164 22FA03F3 		lsr	r3, r2, r3
 706              	.LVL32:
 707 0168 13F0010F 		tst	r3, #1
 708 016c 40F0BB80 		bne	.L74
 289:Src/motion_plan.c **** 			}
 709              		.loc 1 289 0
 710 0170 0320     		movs	r0, #3
 711              	.LVL33:
 712 0172 99E7     		b	.L44
 713              	.LVL34:
 714              	.L70:
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 715              		.loc 1 196 0
 716 0174 0320     		movs	r0, #3
 195:Src/motion_plan.c **** 	unsigned char tmp_dir = UTURN;	 // ÊñπÂêë
 717              		.loc 1 195 0
 718 0176 FF25     		movs	r5, #255
 719 0178 C1E7     		b	.L53
 720              	.L71:
 259:Src/motion_plan.c **** 				}
 721              		.loc 1 259 0
 722 017a 1046     		mov	r0, r2
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 21


 723 017c BFE7     		b	.L53
 724              	.L48:
 298:Src/motion_plan.c **** 		{
 725              		.loc 1 298 0
 726 017e 5E1E     		subs	r6, r3, #1
 727 0180 5E48     		ldr	r0, .L89+8
 728 0182 00EB0110 		add	r0, r0, r1, lsl #4
 729 0186 3044     		add	r0, r0, r6
 730 0188 90F80471 		ldrb	r7, [r0, #260]	@ zero_extendqisi2
 731 018c FF2F     		cmp	r7, #255
 732 018e 0ED0     		beq	.L75
 300:Src/motion_plan.c **** 			{
 733              		.loc 1 300 0
 734 0190 002B     		cmp	r3, #0
 735 0192 46D0     		beq	.L76
 302:Src/motion_plan.c **** 				{
 736              		.loc 1 302 0
 737 0194 06F11000 		add	r0, r6, #16
 738 0198 584C     		ldr	r4, .L89+8
 739 019a 04EB8000 		add	r0, r4, r0, lsl #2
 740 019e 4068     		ldr	r0, [r0, #4]
 741 01a0 C840     		lsrs	r0, r0, r1
 742 01a2 10F0010F 		tst	r0, #1
 743 01a6 3FD0     		beq	.L77
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 744              		.loc 1 196 0
 745 01a8 0320     		movs	r0, #3
 195:Src/motion_plan.c **** 	unsigned char tmp_dir = UTURN;	 // ÊñπÂêë
 746              		.loc 1 195 0
 747 01aa FF27     		movs	r7, #255
 748 01ac 00E0     		b	.L56
 749              	.L75:
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 750              		.loc 1 196 0
 751 01ae 0320     		movs	r0, #3
 752              	.L56:
 753              	.LVL35:
 309:Src/motion_plan.c **** 		{
 754              		.loc 1 309 0
 755 01b0 4C1C     		adds	r4, r1, #1
 756 01b2 524D     		ldr	r5, .L89+8
 757 01b4 05EB0414 		add	r4, r5, r4, lsl #4
 758 01b8 1C44     		add	r4, r4, r3
 759 01ba 94F80441 		ldrb	r4, [r4, #260]	@ zero_extendqisi2
 760 01be BC42     		cmp	r4, r7
 761 01c0 0AD2     		bcs	.L57
 311:Src/motion_plan.c **** 			{
 762              		.loc 1 311 0
 763 01c2 0E29     		cmp	r1, #14
 764 01c4 08D8     		bhi	.L57
 313:Src/motion_plan.c **** 				{
 765              		.loc 1 313 0
 766 01c6 05EB8105 		add	r5, r5, r1, lsl #2
 767 01ca 6D68     		ldr	r5, [r5, #4]
 768 01cc DD40     		lsrs	r5, r5, r3
 769 01ce 15F0010F 		tst	r5, #1
 770 01d2 01D1     		bne	.L57
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 22


 315:Src/motion_plan.c **** 					tmp_dir = LEFT;
 771              		.loc 1 315 0
 772 01d4 2746     		mov	r7, r4
 773              	.LVL36:
 316:Src/motion_plan.c **** 				}
 774              		.loc 1 316 0
 775 01d6 0020     		movs	r0, #0
 776              	.LVL37:
 777              	.L57:
 320:Src/motion_plan.c **** 		{
 778              		.loc 1 320 0
 779 01d8 4D1E     		subs	r5, r1, #1
 780 01da 484C     		ldr	r4, .L89+8
 781 01dc 04EB0514 		add	r4, r4, r5, lsl #4
 782 01e0 1C44     		add	r4, r4, r3
 783 01e2 94F80441 		ldrb	r4, [r4, #260]	@ zero_extendqisi2
 784 01e6 BC42     		cmp	r4, r7
 785 01e8 0CD2     		bcs	.L58
 322:Src/motion_plan.c **** 			{
 786              		.loc 1 322 0
 787 01ea 59B1     		cbz	r1, .L58
 324:Src/motion_plan.c **** 				{
 788              		.loc 1 324 0
 789 01ec DFF80CC1 		ldr	ip, .L89+8
 790 01f0 0CEB8505 		add	r5, ip, r5, lsl #2
 791 01f4 6D68     		ldr	r5, [r5, #4]
 792 01f6 25FA03F3 		lsr	r3, r5, r3
 793              	.LVL38:
 794 01fa 13F0010F 		tst	r3, #1
 795 01fe 01D1     		bne	.L58
 327:Src/motion_plan.c **** 				}
 796              		.loc 1 327 0
 797 0200 1046     		mov	r0, r2
 798              	.LVL39:
 326:Src/motion_plan.c **** 					tmp_dir = RIGHT;
 799              		.loc 1 326 0
 800 0202 2746     		mov	r7, r4
 801              	.LVL40:
 802              	.L58:
 331:Src/motion_plan.c **** 		{
 803              		.loc 1 331 0
 804 0204 FF2F     		cmp	r7, #255
 805 0206 7FF44FAF 		bne	.L44
 333:Src/motion_plan.c **** 			{
 806              		.loc 1 333 0
 807 020a 1036     		adds	r6, r6, #16
 808              	.LVL41:
 809 020c 3B4B     		ldr	r3, .L89+8
 810 020e 03EB8606 		add	r6, r3, r6, lsl #2
 811              	.LVL42:
 812 0212 7368     		ldr	r3, [r6, #4]
 813 0214 23FA01F1 		lsr	r1, r3, r1
 814              	.LVL43:
 815 0218 11F0010F 		tst	r1, #1
 816 021c 65D1     		bne	.L80
 335:Src/motion_plan.c **** 			}
 817              		.loc 1 335 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 23


 818 021e 0320     		movs	r0, #3
 819              	.LVL44:
 820 0220 42E7     		b	.L44
 821              	.LVL45:
 822              	.L76:
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 823              		.loc 1 196 0
 824 0222 0320     		movs	r0, #3
 195:Src/motion_plan.c **** 	unsigned char tmp_dir = UTURN;	 // ÊñπÂêë
 825              		.loc 1 195 0
 826 0224 FF27     		movs	r7, #255
 827 0226 C3E7     		b	.L56
 828              	.L77:
 305:Src/motion_plan.c **** 				}
 829              		.loc 1 305 0
 830 0228 0120     		movs	r0, #1
 831 022a C1E7     		b	.L56
 832              	.L49:
 344:Src/motion_plan.c **** 		{
 833              		.loc 1 344 0
 834 022c 4E1E     		subs	r6, r1, #1
 835 022e 3348     		ldr	r0, .L89+8
 836 0230 00EB0610 		add	r0, r0, r6, lsl #4
 837 0234 1844     		add	r0, r0, r3
 838 0236 90F80471 		ldrb	r7, [r0, #260]	@ zero_extendqisi2
 839 023a FF2F     		cmp	r7, #255
 840 023c 0CD0     		beq	.L81
 346:Src/motion_plan.c **** 			{
 841              		.loc 1 346 0
 842 023e 0029     		cmp	r1, #0
 843 0240 48D0     		beq	.L82
 348:Src/motion_plan.c **** 				{
 844              		.loc 1 348 0
 845 0242 2E48     		ldr	r0, .L89+8
 846 0244 00EB8600 		add	r0, r0, r6, lsl #2
 847 0248 4068     		ldr	r0, [r0, #4]
 848 024a D840     		lsrs	r0, r0, r3
 849 024c 10F0010F 		tst	r0, #1
 850 0250 43D0     		beq	.L83
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 851              		.loc 1 196 0
 852 0252 1046     		mov	r0, r2
 195:Src/motion_plan.c **** 	unsigned char tmp_dir = UTURN;	 // ÊñπÂêë
 853              		.loc 1 195 0
 854 0254 FF27     		movs	r7, #255
 855 0256 00E0     		b	.L59
 856              	.L81:
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 857              		.loc 1 196 0
 858 0258 1046     		mov	r0, r2
 859              	.L59:
 860              	.LVL46:
 355:Src/motion_plan.c **** 		{
 861              		.loc 1 355 0
 862 025a 5D1E     		subs	r5, r3, #1
 863 025c 274C     		ldr	r4, .L89+8
 864 025e 04EB0114 		add	r4, r4, r1, lsl #4
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 24


 865 0262 2C44     		add	r4, r4, r5
 866 0264 94F80441 		ldrb	r4, [r4, #260]	@ zero_extendqisi2
 867 0268 BC42     		cmp	r4, r7
 868 026a 0DD2     		bcs	.L60
 357:Src/motion_plan.c **** 			{
 869              		.loc 1 357 0
 870 026c 63B1     		cbz	r3, .L60
 359:Src/motion_plan.c **** 				{
 871              		.loc 1 359 0
 872 026e 03F10F05 		add	r5, r3, #15
 873 0272 DFF888C0 		ldr	ip, .L89+8
 874 0276 0CEB8505 		add	r5, ip, r5, lsl #2
 875 027a 6D68     		ldr	r5, [r5, #4]
 876 027c CD40     		lsrs	r5, r5, r1
 877 027e 15F0010F 		tst	r5, #1
 878 0282 01D1     		bne	.L60
 361:Src/motion_plan.c **** 					tmp_dir = LEFT;
 879              		.loc 1 361 0
 880 0284 2746     		mov	r7, r4
 881              	.LVL47:
 362:Src/motion_plan.c **** 				}
 882              		.loc 1 362 0
 883 0286 0020     		movs	r0, #0
 884              	.LVL48:
 885              	.L60:
 366:Src/motion_plan.c **** 		{
 886              		.loc 1 366 0
 887 0288 5C1C     		adds	r4, r3, #1
 888 028a 1C4D     		ldr	r5, .L89+8
 889 028c 05EB0115 		add	r5, r5, r1, lsl #4
 890 0290 2C44     		add	r4, r4, r5
 891 0292 94F80441 		ldrb	r4, [r4, #260]	@ zero_extendqisi2
 892 0296 BC42     		cmp	r4, r7
 893 0298 0ED2     		bcs	.L61
 368:Src/motion_plan.c **** 			{
 894              		.loc 1 368 0
 895 029a 0E2B     		cmp	r3, #14
 896 029c 0CD8     		bhi	.L61
 370:Src/motion_plan.c **** 				{
 897              		.loc 1 370 0
 898 029e 03F1100C 		add	ip, r3, #16
 899 02a2 164D     		ldr	r5, .L89+8
 900 02a4 05EB8C05 		add	r5, r5, ip, lsl #2
 901 02a8 6D68     		ldr	r5, [r5, #4]
 902 02aa 25FA01F1 		lsr	r1, r5, r1
 903              	.LVL49:
 904 02ae 11F0010F 		tst	r1, #1
 905 02b2 01D1     		bne	.L61
 372:Src/motion_plan.c **** 					tmp_dir = RIGHT;
 906              		.loc 1 372 0
 907 02b4 2746     		mov	r7, r4
 908              	.LVL50:
 373:Src/motion_plan.c **** 				}
 909              		.loc 1 373 0
 910 02b6 0220     		movs	r0, #2
 911              	.LVL51:
 912              	.L61:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 25


 377:Src/motion_plan.c **** 		{
 913              		.loc 1 377 0
 914 02b8 FF2F     		cmp	r7, #255
 915 02ba 7FF4F5AE 		bne	.L44
 379:Src/motion_plan.c **** 			{
 916              		.loc 1 379 0
 917 02be 0F49     		ldr	r1, .L89+8
 918 02c0 01EB8606 		add	r6, r1, r6, lsl #2
 919              	.LVL52:
 920 02c4 7168     		ldr	r1, [r6, #4]
 921 02c6 21FA03F3 		lsr	r3, r1, r3
 922              	.LVL53:
 923 02ca 13F0010F 		tst	r3, #1
 924 02ce 0ED1     		bne	.L86
 381:Src/motion_plan.c **** 			}
 925              		.loc 1 381 0
 926 02d0 1046     		mov	r0, r2
 927              	.LVL54:
 928 02d2 E9E6     		b	.L44
 929              	.LVL55:
 930              	.L82:
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 931              		.loc 1 196 0
 932 02d4 1046     		mov	r0, r2
 195:Src/motion_plan.c **** 	unsigned char tmp_dir = UTURN;	 // ÊñπÂêë
 933              		.loc 1 195 0
 934 02d6 FF27     		movs	r7, #255
 935 02d8 BFE7     		b	.L59
 936              	.L83:
 351:Src/motion_plan.c **** 				}
 937              		.loc 1 351 0
 938 02da 0120     		movs	r0, #1
 939 02dc BDE7     		b	.L59
 940              	.L62:
 196:Src/motion_plan.c **** 									   // ÁèæÂú®„ÅÆÂêë„Åç„Å´Âøú„Åò„Å¶Â†¥ÂêàÂàÜ„Åë„Åó„ÄÅ Ê≠©Êï∞„ÅåÂ∞ë„Å™„ÅÑÊñπÂêë„ÇíÂà§Êñ≠
 941              		.loc 1 196 0
 942 02de 0320     		movs	r0, #3
 943 02e0 E2E6     		b	.L44
 944              	.LVL56:
 945              	.L68:
 247:Src/motion_plan.c **** 			}
 946              		.loc 1 247 0
 947 02e2 0420     		movs	r0, #4
 948              	.LVL57:
 949 02e4 E0E6     		b	.L44
 950              	.LVL58:
 951              	.L74:
 293:Src/motion_plan.c **** 			}
 952              		.loc 1 293 0
 953 02e6 0420     		movs	r0, #4
 954              	.LVL59:
 955 02e8 DEE6     		b	.L44
 956              	.LVL60:
 957              	.L80:
 339:Src/motion_plan.c **** 			}
 958              		.loc 1 339 0
 959 02ea 0420     		movs	r0, #4
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 26


 960              	.LVL61:
 961 02ec DCE6     		b	.L44
 962              	.LVL62:
 963              	.L86:
 385:Src/motion_plan.c **** 			}
 964              		.loc 1 385 0
 965 02ee 0420     		movs	r0, #4
 966              	.LVL63:
 967 02f0 DAE6     		b	.L44
 968              	.L90:
 969 02f2 00BF     		.align	2
 970              	.L89:
 971 02f4 00000000 		.word	position
 972 02f8 00000000 		.word	direction
 973 02fc 00000000 		.word	maze
 974              		.cfi_endproc
 975              	.LFE130:
 977              		.section	.text.Plan_Adachi,"ax",%progbits
 978              		.align	1
 979              		.global	Plan_Adachi
 980              		.syntax unified
 981              		.thumb
 982              		.thumb_func
 983              		.fpu fpv4-sp-d16
 985              	Plan_Adachi:
 986              	.LFB131:
 394:Src/motion_plan.c **** 
 395:Src/motion_plan.c **** void Plan_Adachi(void)
 396:Src/motion_plan.c **** {
 987              		.loc 1 396 0
 988              		.cfi_startproc
 989              		@ args = 0, pretend = 0, frame = 0
 990              		@ frame_needed = 0, uses_anonymous_args = 0
 991 0000 70B5     		push	{r4, r5, r6, lr}
 992              	.LCFI3:
 993              		.cfi_def_cfa_offset 16
 994              		.cfi_offset 4, -16
 995              		.cfi_offset 5, -12
 996              		.cfi_offset 6, -8
 997              		.cfi_offset 14, -4
 998              	.LVL64:
 397:Src/motion_plan.c **** 	unsigned char flag_goal_is = FALSE;
 398:Src/motion_plan.c **** 	unsigned char next_dir;
 399:Src/motion_plan.c **** 
 400:Src/motion_plan.c **** 	adcStart();
 999              		.loc 1 400 0
 1000 0002 FFF7FEFF 		bl	adcStart
 1001              	.LVL65:
 1002              	.L92:
 401:Src/motion_plan.c **** 	while (sen_front.is_wall == FALSE)
 1003              		.loc 1 401 0 discriminator 1
 1004 0006 294B     		ldr	r3, .L107
 1005 0008 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1006 000a 002B     		cmp	r3, #0
 1007 000c FBD0     		beq	.L92
 402:Src/motion_plan.c **** 	{
 403:Src/motion_plan.c **** 	}
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 27


 404:Src/motion_plan.c **** 	Output_Buzzer(HZ_G);
 1008              		.loc 1 404 0
 1009 000e 6620     		movs	r0, #102
 1010 0010 FFF7FEFF 		bl	Output_Buzzer
 1011              	.LVL66:
 405:Src/motion_plan.c **** 	gyro_offset_calc_reset();
 1012              		.loc 1 405 0
 1013 0014 FFF7FEFF 		bl	gyro_offset_calc_reset
 1014              	.LVL67:
 406:Src/motion_plan.c **** 	HAL_Delay(2500);
 1015              		.loc 1 406 0
 1016 0018 40F6C410 		movw	r0, #2500
 1017 001c FFF7FEFF 		bl	HAL_Delay
 1018              	.LVL68:
 407:Src/motion_plan.c **** 
 408:Src/motion_plan.c **** 	Maze_Init(&maze);
 1019              		.loc 1 408 0
 1020 0020 2348     		ldr	r0, .L107+4
 1021 0022 FFF7FEFF 		bl	Maze_Init
 1022              	.LVL69:
 409:Src/motion_plan.c **** 
 410:Src/motion_plan.c **** 	flag_motor = TRUE;
 1023              		.loc 1 410 0
 1024 0026 0123     		movs	r3, #1
 1025 0028 224A     		ldr	r2, .L107+8
 1026 002a 1370     		strb	r3, [r2]
 411:Src/motion_plan.c **** 
 412:Src/motion_plan.c **** 	position = 0b1;
 1027              		.loc 1 412 0
 1028 002c 224A     		ldr	r2, .L107+12
 1029 002e 1370     		strb	r3, [r2]
 413:Src/motion_plan.c **** 	direction = NORTH;
 1030              		.loc 1 413 0
 1031 0030 0026     		movs	r6, #0
 1032 0032 224B     		ldr	r3, .L107+16
 1033 0034 1E70     		strb	r6, [r3]
 414:Src/motion_plan.c **** 	Maze_Set();
 1034              		.loc 1 414 0
 1035 0036 FFF7FEFF 		bl	Maze_Set
 1036              	.LVL70:
 415:Src/motion_plan.c **** 
 416:Src/motion_plan.c **** 	Motion_Start();
 1037              		.loc 1 416 0
 1038 003a FFF7FEFF 		bl	Motion_Start
 1039              	.LVL71:
 1040              	.L93:
 417:Src/motion_plan.c **** 
 418:Src/motion_plan.c **** 	while (flag_goal_is == FALSE)
 1041              		.loc 1 418 0
 1042 003e 6EBB     		cbnz	r6, .L105
 419:Src/motion_plan.c **** 	{
 420:Src/motion_plan.c **** 		enc.offset = 0;
 1043              		.loc 1 420 0
 1044 0040 1F4B     		ldr	r3, .L107+20
 1045 0042 0022     		movs	r2, #0
 1046 0044 9A60     		str	r2, [r3, #8]	@ float
 421:Src/motion_plan.c **** 		Maze_Get_Wall();
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 28


 1047              		.loc 1 421 0
 1048 0046 FFF7FEFF 		bl	Maze_Get_Wall
 1049              	.LVL72:
 422:Src/motion_plan.c **** 		Maze_CreateMap(&maze);
 1050              		.loc 1 422 0
 1051 004a 194C     		ldr	r4, .L107+4
 1052 004c 2046     		mov	r0, r4
 1053 004e FFF7FEFF 		bl	Maze_CreateMap
 1054              	.LVL73:
 423:Src/motion_plan.c **** 		next_dir = Maze_Next_Motion();
 1055              		.loc 1 423 0
 1056 0052 FFF7FEFF 		bl	Maze_Next_Motion
 1057              	.LVL74:
 1058 0056 0546     		mov	r5, r0
 1059              	.LVL75:
 424:Src/motion_plan.c **** 		Update_Position(next_dir);
 1060              		.loc 1 424 0
 1061 0058 FFF7FEFF 		bl	Update_Position
 1062              	.LVL76:
 425:Src/motion_plan.c **** 		if (position == (maze.goal_x << 4 | maze.goal_y))
 1063              		.loc 1 425 0
 1064 005c 164B     		ldr	r3, .L107+12
 1065 005e 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 1066 0060 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 1067 0062 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 1068 0064 43EA0113 		orr	r3, r3, r1, lsl #4
 1069 0068 9A42     		cmp	r2, r3
 1070 006a 06D0     		beq	.L106
 1071              	.LVL77:
 1072              	.L94:
 426:Src/motion_plan.c **** 		{
 427:Src/motion_plan.c **** 			flag_goal_is = TRUE;
 428:Src/motion_plan.c **** 		}
 429:Src/motion_plan.c **** 
 430:Src/motion_plan.c **** 		switch (next_dir)
 1073              		.loc 1 430 0
 1074 006c 042D     		cmp	r5, #4
 1075 006e E6D8     		bhi	.L93
 1076 0070 DFE805F0 		tbb	[pc, r5]
 1077              	.L97:
 1078 0074 05       		.byte	(.L96-.L97)/2
 1079 0075 08       		.byte	(.L98-.L97)/2
 1080 0076 0B       		.byte	(.L99-.L97)/2
 1081 0077 0E       		.byte	(.L100-.L97)/2
 1082 0078 11       		.byte	(.L101-.L97)/2
 1083 0079 00       		.p2align 1
 1084              	.L106:
 427:Src/motion_plan.c **** 		}
 1085              		.loc 1 427 0
 1086 007a 0126     		movs	r6, #1
 1087              	.LVL78:
 1088 007c F6E7     		b	.L94
 1089              	.LVL79:
 1090              	.L96:
 431:Src/motion_plan.c **** 		{
 432:Src/motion_plan.c **** 		case LEFT:
 433:Src/motion_plan.c **** 			Motion_Left();
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 29


 1091              		.loc 1 433 0
 1092 007e FFF7FEFF 		bl	Motion_Left
 1093              	.LVL80:
 434:Src/motion_plan.c **** 			break;
 1094              		.loc 1 434 0
 1095 0082 DCE7     		b	.L93
 1096              	.L98:
 435:Src/motion_plan.c **** 
 436:Src/motion_plan.c **** 		case FRONT:
 437:Src/motion_plan.c **** 			Motion_Straight();
 1097              		.loc 1 437 0
 1098 0084 FFF7FEFF 		bl	Motion_Straight
 1099              	.LVL81:
 438:Src/motion_plan.c **** 			break;
 1100              		.loc 1 438 0
 1101 0088 D9E7     		b	.L93
 1102              	.L99:
 439:Src/motion_plan.c **** 
 440:Src/motion_plan.c **** 		case RIGHT:
 441:Src/motion_plan.c **** 			Motion_Right();
 1103              		.loc 1 441 0
 1104 008a FFF7FEFF 		bl	Motion_Right
 1105              	.LVL82:
 442:Src/motion_plan.c **** 			break;
 1106              		.loc 1 442 0
 1107 008e D6E7     		b	.L93
 1108              	.L100:
 443:Src/motion_plan.c **** 
 444:Src/motion_plan.c **** 		case UTURN:
 445:Src/motion_plan.c **** 			Motion_Uturn();
 1109              		.loc 1 445 0
 1110 0090 FFF7FEFF 		bl	Motion_Uturn
 1111              	.LVL83:
 446:Src/motion_plan.c **** 			break;
 1112              		.loc 1 446 0
 1113 0094 D3E7     		b	.L93
 1114              	.L101:
 447:Src/motion_plan.c **** 
 448:Src/motion_plan.c **** 		case KABEATE:
 449:Src/motion_plan.c **** 			Motion_Kabeate();
 1115              		.loc 1 449 0
 1116 0096 FFF7FEFF 		bl	Motion_Kabeate
 1117              	.LVL84:
 450:Src/motion_plan.c **** 			break;
 1118              		.loc 1 450 0
 1119 009a D0E7     		b	.L93
 1120              	.LVL85:
 1121              	.L105:
 451:Src/motion_plan.c **** 		}
 452:Src/motion_plan.c **** 	}
 453:Src/motion_plan.c **** 	Maze_Get_Wall();
 1122              		.loc 1 453 0
 1123 009c FFF7FEFF 		bl	Maze_Get_Wall
 1124              	.LVL86:
 454:Src/motion_plan.c **** 	Motion_Goal();
 1125              		.loc 1 454 0
 1126 00a0 FFF7FEFF 		bl	Motion_Goal
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 30


 1127              	.LVL87:
 455:Src/motion_plan.c **** 	flag_motor = FALSE;
 1128              		.loc 1 455 0
 1129 00a4 034B     		ldr	r3, .L107+8
 1130 00a6 0022     		movs	r2, #0
 1131 00a8 1A70     		strb	r2, [r3]
 456:Src/motion_plan.c **** }
 1132              		.loc 1 456 0
 1133 00aa 70BD     		pop	{r4, r5, r6, pc}
 1134              	.LVL88:
 1135              	.L108:
 1136              		.align	2
 1137              	.L107:
 1138 00ac 00000000 		.word	sen_front
 1139 00b0 00000000 		.word	maze
 1140 00b4 00000000 		.word	flag_motor
 1141 00b8 00000000 		.word	position
 1142 00bc 00000000 		.word	direction
 1143 00c0 00000000 		.word	enc
 1144              		.cfi_endproc
 1145              	.LFE131:
 1147              		.section	.text.Plan_AllSearch,"ax",%progbits
 1148              		.align	1
 1149              		.global	Plan_AllSearch
 1150              		.syntax unified
 1151              		.thumb
 1152              		.thumb_func
 1153              		.fpu fpv4-sp-d16
 1155              	Plan_AllSearch:
 1156              	.LFB132:
 457:Src/motion_plan.c **** 
 458:Src/motion_plan.c **** void Plan_AllSearch(void)
 459:Src/motion_plan.c **** {
 1157              		.loc 1 459 0
 1158              		.cfi_startproc
 1159              		@ args = 0, pretend = 0, frame = 0
 1160              		@ frame_needed = 0, uses_anonymous_args = 0
 1161 0000 10B5     		push	{r4, lr}
 1162              	.LCFI4:
 1163              		.cfi_def_cfa_offset 8
 1164              		.cfi_offset 4, -8
 1165              		.cfi_offset 14, -4
 1166              	.LVL89:
 460:Src/motion_plan.c **** 	unsigned char end_flag = 0;
 461:Src/motion_plan.c **** 
 462:Src/motion_plan.c **** 	Output_Buzzer(HZ_G);
 1167              		.loc 1 462 0
 1168 0002 6620     		movs	r0, #102
 1169 0004 FFF7FEFF 		bl	Output_Buzzer
 1170              	.LVL90:
 463:Src/motion_plan.c **** 	flag_motor = TRUE;
 1171              		.loc 1 463 0
 1172 0008 324B     		ldr	r3, .L130
 1173 000a 0122     		movs	r2, #1
 1174 000c 1A70     		strb	r2, [r3]
 464:Src/motion_plan.c **** 
 465:Src/motion_plan.c **** 	if (sen_front.is_wall == FALSE)
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 31


 1175              		.loc 1 465 0
 1176 000e 324B     		ldr	r3, .L130+4
 1177 0010 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1178 0012 3BB1     		cbz	r3, .L129
 466:Src/motion_plan.c **** 	{
 467:Src/motion_plan.c **** 		Straight_half_accel();
 468:Src/motion_plan.c **** 	}
 469:Src/motion_plan.c **** 	else
 470:Src/motion_plan.c **** 	{
 471:Src/motion_plan.c **** 		switch (direction)
 1179              		.loc 1 471 0
 1180 0014 314B     		ldr	r3, .L130+8
 1181 0016 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 1182 0018 032B     		cmp	r3, #3
 1183 001a 0DD8     		bhi	.L112
 1184 001c DFE803F0 		tbb	[pc, r3]
 1185              	.L114:
 1186 0020 05       		.byte	(.L113-.L114)/2
 1187 0021 17       		.byte	(.L115-.L114)/2
 1188 0022 0F       		.byte	(.L116-.L114)/2
 1189 0023 1F       		.byte	(.L117-.L114)/2
 1190              		.p2align 1
 1191              	.L129:
 467:Src/motion_plan.c **** 	}
 1192              		.loc 1 467 0
 1193 0024 FFF7FEFF 		bl	Straight_half_accel
 1194              	.LVL91:
 1195 0028 23E0     		b	.L119
 1196              	.L113:
 472:Src/motion_plan.c **** 		{
 473:Src/motion_plan.c **** 		case NORTH:
 474:Src/motion_plan.c **** 			direction = SOUTH;
 1197              		.loc 1 474 0
 1198 002a 2C4B     		ldr	r3, .L130+8
 1199 002c 0222     		movs	r2, #2
 1200 002e 1A70     		strb	r2, [r3]
 475:Src/motion_plan.c **** 			position--;
 1201              		.loc 1 475 0
 1202 0030 2B4A     		ldr	r2, .L130+12
 1203 0032 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1204 0034 013B     		subs	r3, r3, #1
 1205 0036 1370     		strb	r3, [r2]
 1206              	.L112:
 476:Src/motion_plan.c **** 			break;
 477:Src/motion_plan.c **** 		case SOUTH:
 478:Src/motion_plan.c **** 			direction = NORTH;
 479:Src/motion_plan.c **** 			position++;
 480:Src/motion_plan.c **** 			break;
 481:Src/motion_plan.c **** 		case EAST:
 482:Src/motion_plan.c **** 			direction = WEST;
 483:Src/motion_plan.c **** 			position = position - (0b1 << 4);
 484:Src/motion_plan.c **** 			break;
 485:Src/motion_plan.c **** 		case WEST:
 486:Src/motion_plan.c **** 			direction = EAST;
 487:Src/motion_plan.c **** 			position = position + (0b1 << 4);
 488:Src/motion_plan.c **** 			break;
 489:Src/motion_plan.c **** 		default:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 32


 490:Src/motion_plan.c **** 			break;
 491:Src/motion_plan.c **** 		}
 492:Src/motion_plan.c **** 		Motion_Restart();
 1207              		.loc 1 492 0
 1208 0038 FFF7FEFF 		bl	Motion_Restart
 1209              	.LVL92:
 1210 003c 19E0     		b	.L119
 1211              	.L116:
 478:Src/motion_plan.c **** 			position++;
 1212              		.loc 1 478 0
 1213 003e 274B     		ldr	r3, .L130+8
 1214 0040 0022     		movs	r2, #0
 1215 0042 1A70     		strb	r2, [r3]
 479:Src/motion_plan.c **** 			break;
 1216              		.loc 1 479 0
 1217 0044 264A     		ldr	r2, .L130+12
 1218 0046 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1219 0048 0133     		adds	r3, r3, #1
 1220 004a 1370     		strb	r3, [r2]
 480:Src/motion_plan.c **** 		case EAST:
 1221              		.loc 1 480 0
 1222 004c F4E7     		b	.L112
 1223              	.L115:
 482:Src/motion_plan.c **** 			position = position - (0b1 << 4);
 1224              		.loc 1 482 0
 1225 004e 234B     		ldr	r3, .L130+8
 1226 0050 0322     		movs	r2, #3
 1227 0052 1A70     		strb	r2, [r3]
 483:Src/motion_plan.c **** 			break;
 1228              		.loc 1 483 0
 1229 0054 224A     		ldr	r2, .L130+12
 1230 0056 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1231 0058 103B     		subs	r3, r3, #16
 1232 005a 1370     		strb	r3, [r2]
 484:Src/motion_plan.c **** 		case WEST:
 1233              		.loc 1 484 0
 1234 005c ECE7     		b	.L112
 1235              	.L117:
 486:Src/motion_plan.c **** 			position = position + (0b1 << 4);
 1236              		.loc 1 486 0
 1237 005e 1F4B     		ldr	r3, .L130+8
 1238 0060 0122     		movs	r2, #1
 1239 0062 1A70     		strb	r2, [r3]
 487:Src/motion_plan.c **** 			break;
 1240              		.loc 1 487 0
 1241 0064 1E4A     		ldr	r2, .L130+12
 1242 0066 1378     		ldrb	r3, [r2]	@ zero_extendqisi2
 1243 0068 1033     		adds	r3, r3, #16
 1244 006a 1370     		strb	r3, [r2]
 488:Src/motion_plan.c **** 		default:
 1245              		.loc 1 488 0
 1246 006c E4E7     		b	.L112
 1247              	.LVL93:
 1248              	.L121:
 1249              	.LBB2:
 493:Src/motion_plan.c **** 	}
 494:Src/motion_plan.c **** 
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 33


 495:Src/motion_plan.c **** 	while (1)
 496:Src/motion_plan.c **** 	{
 497:Src/motion_plan.c **** 		enc.offset = 0;
 498:Src/motion_plan.c **** 		unsigned char next_dir;
 499:Src/motion_plan.c **** 		Maze_Get_Wall();
 500:Src/motion_plan.c **** 		end_flag = Maze_CreateAllMap(&maze);
 501:Src/motion_plan.c **** 		if (end_flag == 1)
 502:Src/motion_plan.c **** 		{
 503:Src/motion_plan.c **** 			break;
 504:Src/motion_plan.c **** 		}
 505:Src/motion_plan.c **** 		next_dir = Maze_Next_Motion();
 506:Src/motion_plan.c **** 		Update_Position(next_dir);
 507:Src/motion_plan.c **** 		switch (next_dir)
 508:Src/motion_plan.c **** 		{
 509:Src/motion_plan.c **** 		case LEFT:
 510:Src/motion_plan.c **** 			Motion_Left();
 1250              		.loc 1 510 0
 1251 006e FFF7FEFF 		bl	Motion_Left
 1252              	.LVL94:
 1253              	.L119:
 497:Src/motion_plan.c **** 		unsigned char next_dir;
 1254              		.loc 1 497 0
 1255 0072 1C4B     		ldr	r3, .L130+16
 1256 0074 0022     		movs	r2, #0
 1257 0076 9A60     		str	r2, [r3, #8]	@ float
 499:Src/motion_plan.c **** 		end_flag = Maze_CreateAllMap(&maze);
 1258              		.loc 1 499 0
 1259 0078 FFF7FEFF 		bl	Maze_Get_Wall
 1260              	.LVL95:
 500:Src/motion_plan.c **** 		if (end_flag == 1)
 1261              		.loc 1 500 0
 1262 007c 1A48     		ldr	r0, .L130+20
 1263 007e FFF7FEFF 		bl	Maze_CreateAllMap
 1264              	.LVL96:
 501:Src/motion_plan.c **** 		{
 1265              		.loc 1 501 0
 1266 0082 0128     		cmp	r0, #1
 1267 0084 20D0     		beq	.L120
 505:Src/motion_plan.c **** 		Update_Position(next_dir);
 1268              		.loc 1 505 0
 1269 0086 FFF7FEFF 		bl	Maze_Next_Motion
 1270              	.LVL97:
 1271 008a 0446     		mov	r4, r0
 1272              	.LVL98:
 506:Src/motion_plan.c **** 		switch (next_dir)
 1273              		.loc 1 506 0
 1274 008c FFF7FEFF 		bl	Update_Position
 1275              	.LVL99:
 507:Src/motion_plan.c **** 		{
 1276              		.loc 1 507 0
 1277 0090 042C     		cmp	r4, #4
 1278 0092 EED8     		bhi	.L119
 1279 0094 01A3     		adr	r3, .L122
 1280 0096 53F824F0 		ldr	pc, [r3, r4, lsl #2]
 1281 009a 00BF     		.p2align 2
 1282              	.L122:
 1283 009c 6F000000 		.word	.L121+1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 34


 1284 00a0 B1000000 		.word	.L123+1
 1285 00a4 B7000000 		.word	.L124+1
 1286 00a8 BD000000 		.word	.L125+1
 1287 00ac C3000000 		.word	.L126+1
 1288              		.p2align 1
 1289              	.L123:
 511:Src/motion_plan.c **** 			break;
 512:Src/motion_plan.c **** 
 513:Src/motion_plan.c **** 		case FRONT:
 514:Src/motion_plan.c **** 			Motion_Straight();
 1290              		.loc 1 514 0
 1291 00b0 FFF7FEFF 		bl	Motion_Straight
 1292              	.LVL100:
 515:Src/motion_plan.c **** 			break;
 1293              		.loc 1 515 0
 1294 00b4 DDE7     		b	.L119
 1295              	.L124:
 516:Src/motion_plan.c **** 
 517:Src/motion_plan.c **** 		case RIGHT:
 518:Src/motion_plan.c **** 			Motion_Right();
 1296              		.loc 1 518 0
 1297 00b6 FFF7FEFF 		bl	Motion_Right
 1298              	.LVL101:
 519:Src/motion_plan.c **** 			break;
 1299              		.loc 1 519 0
 1300 00ba DAE7     		b	.L119
 1301              	.L125:
 520:Src/motion_plan.c **** 
 521:Src/motion_plan.c **** 		case UTURN:
 522:Src/motion_plan.c **** 			Motion_Uturn();
 1302              		.loc 1 522 0
 1303 00bc FFF7FEFF 		bl	Motion_Uturn
 1304              	.LVL102:
 523:Src/motion_plan.c **** 			break;
 1305              		.loc 1 523 0
 1306 00c0 D7E7     		b	.L119
 1307              	.L126:
 524:Src/motion_plan.c **** 
 525:Src/motion_plan.c **** 		case KABEATE:
 526:Src/motion_plan.c **** 			Motion_Kabeate();
 1308              		.loc 1 526 0
 1309 00c2 FFF7FEFF 		bl	Motion_Kabeate
 1310              	.LVL103:
 527:Src/motion_plan.c **** 			break;
 1311              		.loc 1 527 0
 1312 00c6 D4E7     		b	.L119
 1313              	.LVL104:
 1314              	.L120:
 1315              	.LBE2:
 528:Src/motion_plan.c **** 		}
 529:Src/motion_plan.c **** 	}
 530:Src/motion_plan.c **** 	Motion_Goal();
 1316              		.loc 1 530 0
 1317 00c8 FFF7FEFF 		bl	Motion_Goal
 1318              	.LVL105:
 531:Src/motion_plan.c **** 	flag_motor = FALSE;
 1319              		.loc 1 531 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 35


 1320 00cc 014B     		ldr	r3, .L130
 1321 00ce 0022     		movs	r2, #0
 1322 00d0 1A70     		strb	r2, [r3]
 532:Src/motion_plan.c **** }
 1323              		.loc 1 532 0
 1324 00d2 10BD     		pop	{r4, pc}
 1325              	.L131:
 1326              		.align	2
 1327              	.L130:
 1328 00d4 00000000 		.word	flag_motor
 1329 00d8 00000000 		.word	sen_front
 1330 00dc 00000000 		.word	direction
 1331 00e0 00000000 		.word	position
 1332 00e4 00000000 		.word	enc
 1333 00e8 00000000 		.word	maze
 1334              		.cfi_endproc
 1335              	.LFE132:
 1337              		.section	.text.Plan_Root,"ax",%progbits
 1338              		.align	1
 1339              		.global	Plan_Root
 1340              		.syntax unified
 1341              		.thumb
 1342              		.thumb_func
 1343              		.fpu fpv4-sp-d16
 1345              	Plan_Root:
 1346              	.LFB133:
 533:Src/motion_plan.c **** 
 534:Src/motion_plan.c **** void Plan_Root(void)
 535:Src/motion_plan.c **** {
 1347              		.loc 1 535 0
 1348              		.cfi_startproc
 1349              		@ args = 0, pretend = 0, frame = 0
 1350              		@ frame_needed = 0, uses_anonymous_args = 0
 1351 0000 10B5     		push	{r4, lr}
 1352              	.LCFI5:
 1353              		.cfi_def_cfa_offset 8
 1354              		.cfi_offset 4, -8
 1355              		.cfi_offset 14, -4
 1356              	.LVL106:
 536:Src/motion_plan.c **** 	unsigned char flag_goal_is = FALSE;
 537:Src/motion_plan.c **** 
 538:Src/motion_plan.c **** 	Maze_CreateFastMap(&maze);
 1357              		.loc 1 538 0
 1358 0002 1448     		ldr	r0, .L137
 1359 0004 FFF7FEFF 		bl	Maze_CreateFastMap
 1360              	.LVL107:
 539:Src/motion_plan.c **** 
 540:Src/motion_plan.c **** 	Que_init_motion(&q_motion);
 1361              		.loc 1 540 0
 1362 0008 134C     		ldr	r4, .L137+4
 1363 000a 2046     		mov	r0, r4
 1364 000c FFF7FEFF 		bl	Que_init_motion
 1365              	.LVL108:
 541:Src/motion_plan.c **** 	position = 0b1;
 1366              		.loc 1 541 0
 1367 0010 124B     		ldr	r3, .L137+8
 1368 0012 0122     		movs	r2, #1
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 36


 1369 0014 1A70     		strb	r2, [r3]
 542:Src/motion_plan.c **** 	direction = NORTH;
 1370              		.loc 1 542 0
 1371 0016 124B     		ldr	r3, .L137+12
 1372 0018 0022     		movs	r2, #0
 1373 001a 1A70     		strb	r2, [r3]
 543:Src/motion_plan.c **** 	enq_motion(&q_motion, START);
 1374              		.loc 1 543 0
 1375 001c 0521     		movs	r1, #5
 1376 001e 2046     		mov	r0, r4
 1377 0020 FFF7FEFF 		bl	enq_motion
 1378              	.LVL109:
 1379              	.L133:
 1380              	.LBB3:
 544:Src/motion_plan.c **** 	while (flag_goal_is == FALSE)
 545:Src/motion_plan.c **** 	{
 546:Src/motion_plan.c **** 		unsigned char tmp;
 547:Src/motion_plan.c **** 		tmp = Maze_Next_Motion();
 1381              		.loc 1 547 0
 1382 0024 FFF7FEFF 		bl	Maze_Next_Motion
 1383              	.LVL110:
 1384 0028 0446     		mov	r4, r0
 1385              	.LVL111:
 548:Src/motion_plan.c **** 		Update_Position(tmp);
 1386              		.loc 1 548 0
 1387 002a FFF7FEFF 		bl	Update_Position
 1388              	.LVL112:
 549:Src/motion_plan.c **** 		enq_motion(&q_motion, tmp);
 1389              		.loc 1 549 0
 1390 002e 2146     		mov	r1, r4
 1391 0030 0948     		ldr	r0, .L137+4
 1392 0032 FFF7FEFF 		bl	enq_motion
 1393              	.LVL113:
 550:Src/motion_plan.c **** 		if (position == (maze.goal_x << 4 | maze.goal_y))
 1394              		.loc 1 550 0
 1395 0036 094B     		ldr	r3, .L137+8
 1396 0038 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 1397 003a 064A     		ldr	r2, .L137
 1398 003c 1078     		ldrb	r0, [r2]	@ zero_extendqisi2
 1399 003e 5378     		ldrb	r3, [r2, #1]	@ zero_extendqisi2
 1400 0040 43EA0013 		orr	r3, r3, r0, lsl #4
 1401 0044 9942     		cmp	r1, r3
 1402 0046 EDD1     		bne	.L133
 1403              	.LVL114:
 551:Src/motion_plan.c **** 		{
 552:Src/motion_plan.c **** 			flag_goal_is = TRUE;
 553:Src/motion_plan.c **** 			enq_motion(&q_motion, GOAL);
 1404              		.loc 1 553 0
 1405 0048 0621     		movs	r1, #6
 1406 004a 0348     		ldr	r0, .L137+4
 1407 004c FFF7FEFF 		bl	enq_motion
 1408              	.LVL115:
 1409              	.LBE3:
 554:Src/motion_plan.c **** 		}
 555:Src/motion_plan.c **** 	}
 556:Src/motion_plan.c **** }
 1410              		.loc 1 556 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 37


 1411 0050 10BD     		pop	{r4, pc}
 1412              	.LVL116:
 1413              	.L138:
 1414 0052 00BF     		.align	2
 1415              	.L137:
 1416 0054 00000000 		.word	maze
 1417 0058 00000000 		.word	q_motion
 1418 005c 00000000 		.word	position
 1419 0060 00000000 		.word	direction
 1420              		.cfi_endproc
 1421              	.LFE133:
 1423              		.section	.text.Plan_Compress,"ax",%progbits
 1424              		.align	1
 1425              		.global	Plan_Compress
 1426              		.syntax unified
 1427              		.thumb
 1428              		.thumb_func
 1429              		.fpu fpv4-sp-d16
 1431              	Plan_Compress:
 1432              	.LFB134:
 557:Src/motion_plan.c **** 
 558:Src/motion_plan.c **** void Plan_Compress(void)
 559:Src/motion_plan.c **** {
 1433              		.loc 1 559 0
 1434              		.cfi_startproc
 1435              		@ args = 0, pretend = 0, frame = 264
 1436              		@ frame_needed = 0, uses_anonymous_args = 0
 1437 0000 30B5     		push	{r4, r5, lr}
 1438              	.LCFI6:
 1439              		.cfi_def_cfa_offset 12
 1440              		.cfi_offset 4, -12
 1441              		.cfi_offset 5, -8
 1442              		.cfi_offset 14, -4
 1443 0002 C3B0     		sub	sp, sp, #268
 1444              	.LCFI7:
 1445              		.cfi_def_cfa_offset 280
 560:Src/motion_plan.c **** 	queue_motion_t q_buff;
 561:Src/motion_plan.c **** 	unsigned motion;
 562:Src/motion_plan.c **** 
 563:Src/motion_plan.c **** 	Que_init_motion(&q_buff);
 1446              		.loc 1 563 0
 1447 0004 6846     		mov	r0, sp
 1448 0006 FFF7FEFF 		bl	Que_init_motion
 1449              	.LVL117:
 564:Src/motion_plan.c **** 	motion = deq_motion(&q_motion);
 1450              		.loc 1 564 0
 1451 000a 3E48     		ldr	r0, .L159
 1452 000c FFF7FEFF 		bl	deq_motion
 1453              	.LVL118:
 1454 0010 0446     		mov	r4, r0
 1455              	.LVL119:
 565:Src/motion_plan.c **** 
 566:Src/motion_plan.c **** 	while (q_motion.head != q_motion.tail)
 1456              		.loc 1 566 0
 1457 0012 19E0     		b	.L141
 1458              	.LVL120:
 1459              	.L146:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 38


 1460              	.LBB4:
 567:Src/motion_plan.c **** 	{
 568:Src/motion_plan.c **** 		unsigned char buff = 0;
 569:Src/motion_plan.c **** 		switch (motion)
 570:Src/motion_plan.c **** 		{
 571:Src/motion_plan.c **** 		case START: //5
 572:Src/motion_plan.c **** 			motion = deq_motion(&q_motion);
 1461              		.loc 1 572 0
 1462 0014 3B48     		ldr	r0, .L159
 1463 0016 FFF7FEFF 		bl	deq_motion
 1464              	.LVL121:
 1465 001a 0446     		mov	r4, r0
 1466              	.LVL122:
 568:Src/motion_plan.c **** 		switch (motion)
 1467              		.loc 1 568 0
 1468 001c 0025     		movs	r5, #0
 573:Src/motion_plan.c **** 			while (motion == FRONT && q_motion.head != q_motion.tail)
 1469              		.loc 1 573 0
 1470 001e 05E0     		b	.L147
 1471              	.LVL123:
 1472              	.L149:
 574:Src/motion_plan.c **** 			{
 575:Src/motion_plan.c **** 				buff++;
 1473              		.loc 1 575 0
 1474 0020 0135     		adds	r5, r5, #1
 1475              	.LVL124:
 1476 0022 EDB2     		uxtb	r5, r5
 1477              	.LVL125:
 576:Src/motion_plan.c **** 				motion = deq_motion(&q_motion);
 1478              		.loc 1 576 0
 1479 0024 3748     		ldr	r0, .L159
 1480 0026 FFF7FEFF 		bl	deq_motion
 1481              	.LVL126:
 1482 002a 0446     		mov	r4, r0
 1483              	.LVL127:
 1484              	.L147:
 573:Src/motion_plan.c **** 			while (motion == FRONT && q_motion.head != q_motion.tail)
 1485              		.loc 1 573 0
 1486 002c 012C     		cmp	r4, #1
 1487 002e 06D1     		bne	.L148
 573:Src/motion_plan.c **** 			while (motion == FRONT && q_motion.head != q_motion.tail)
 1488              		.loc 1 573 0 is_stmt 0 discriminator 1
 1489 0030 344B     		ldr	r3, .L159
 1490 0032 D3F80021 		ldr	r2, [r3, #256]
 1491 0036 D3F80431 		ldr	r3, [r3, #260]
 1492 003a 9A42     		cmp	r2, r3
 1493 003c F0D1     		bne	.L149
 1494              	.L148:
 1495              	.LVL128:
 577:Src/motion_plan.c **** 			}
 578:Src/motion_plan.c **** 			buff = START << 4 | buff;
 579:Src/motion_plan.c **** 			enq_motion(&q_buff, buff);
 1496              		.loc 1 579 0 is_stmt 1
 1497 003e 45F05001 		orr	r1, r5, #80
 1498 0042 6846     		mov	r0, sp
 1499 0044 FFF7FEFF 		bl	enq_motion
 1500              	.LVL129:
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 39


 1501              	.L141:
 1502              	.LBE4:
 566:Src/motion_plan.c **** 	{
 1503              		.loc 1 566 0
 1504 0048 2E4B     		ldr	r3, .L159
 1505 004a D3F80021 		ldr	r2, [r3, #256]
 1506 004e D3F80431 		ldr	r3, [r3, #260]
 1507 0052 9A42     		cmp	r2, r3
 1508 0054 4DD0     		beq	.L157
 1509              	.LVL130:
 1510              	.LBB5:
 569:Src/motion_plan.c **** 		{
 1511              		.loc 1 569 0
 1512 0056 052C     		cmp	r4, #5
 1513 0058 F6D8     		bhi	.L141
 1514 005a 01A3     		adr	r3, .L143
 1515 005c 53F824F0 		ldr	pc, [r3, r4, lsl #2]
 1516              		.p2align 2
 1517              	.L143:
 1518 0060 B7000000 		.word	.L142+1
 1519 0064 A7000000 		.word	.L155+1
 1520 0068 D5000000 		.word	.L145+1
 1521 006c 49000000 		.word	.L141+1
 1522 0070 49000000 		.word	.L141+1
 1523 0074 15000000 		.word	.L146+1
 1524              	.LVL131:
 1525              		.p2align 1
 1526              	.L152:
 580:Src/motion_plan.c **** 			break;
 581:Src/motion_plan.c **** 		case FRONT:
 582:Src/motion_plan.c **** 			while (motion == FRONT && q_motion.head != q_motion.tail)
 583:Src/motion_plan.c **** 			{
 584:Src/motion_plan.c **** 				buff++;
 1527              		.loc 1 584 0
 1528 0078 0135     		adds	r5, r5, #1
 1529              	.LVL132:
 1530 007a EDB2     		uxtb	r5, r5
 1531              	.LVL133:
 585:Src/motion_plan.c **** 				motion = deq_motion(&q_motion);
 1532              		.loc 1 585 0
 1533 007c 2148     		ldr	r0, .L159
 1534 007e FFF7FEFF 		bl	deq_motion
 1535              	.LVL134:
 1536 0082 0446     		mov	r4, r0
 1537              	.LVL135:
 1538              	.L144:
 582:Src/motion_plan.c **** 			{
 1539              		.loc 1 582 0
 1540 0084 012C     		cmp	r4, #1
 1541 0086 06D1     		bne	.L151
 582:Src/motion_plan.c **** 			{
 1542              		.loc 1 582 0 is_stmt 0 discriminator 1
 1543 0088 1E4B     		ldr	r3, .L159
 1544 008a D3F80021 		ldr	r2, [r3, #256]
 1545 008e D3F80431 		ldr	r3, [r3, #260]
 1546 0092 9A42     		cmp	r2, r3
 1547 0094 F0D1     		bne	.L152
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 40


 1548              	.L151:
 586:Src/motion_plan.c **** 			}
 587:Src/motion_plan.c **** 			if (motion == GOAL)
 1549              		.loc 1 587 0 is_stmt 1
 1550 0096 062C     		cmp	r4, #6
 1551 0098 07D0     		beq	.L158
 1552              	.LVL136:
 588:Src/motion_plan.c **** 			{
 589:Src/motion_plan.c **** 				buff = GOAL << 4 | buff;
 590:Src/motion_plan.c **** 				enq_motion(&q_buff, buff);
 591:Src/motion_plan.c **** 			}
 592:Src/motion_plan.c **** 			else
 593:Src/motion_plan.c **** 			{
 594:Src/motion_plan.c **** 				buff = FRONT << 4 | buff;
 595:Src/motion_plan.c **** 				enq_motion(&q_buff, buff);
 1553              		.loc 1 595 0
 1554 009a 45F01001 		orr	r1, r5, #16
 1555 009e 6846     		mov	r0, sp
 1556 00a0 FFF7FEFF 		bl	enq_motion
 1557              	.LVL137:
 1558 00a4 D0E7     		b	.L141
 1559              	.LVL138:
 1560              	.L155:
 568:Src/motion_plan.c **** 		switch (motion)
 1561              		.loc 1 568 0
 1562 00a6 0025     		movs	r5, #0
 1563 00a8 ECE7     		b	.L144
 1564              	.LVL139:
 1565              	.L158:
 590:Src/motion_plan.c **** 			}
 1566              		.loc 1 590 0
 1567 00aa 45F06001 		orr	r1, r5, #96
 1568 00ae 6846     		mov	r0, sp
 1569 00b0 FFF7FEFF 		bl	enq_motion
 1570              	.LVL140:
 1571 00b4 C8E7     		b	.L141
 1572              	.LVL141:
 1573              	.L142:
 596:Src/motion_plan.c **** 			}
 597:Src/motion_plan.c **** 			break;
 598:Src/motion_plan.c **** 		case LEFT:
 599:Src/motion_plan.c **** 			buff = LEFT << 4;
 600:Src/motion_plan.c **** 			enq_motion(&q_buff, buff);
 1574              		.loc 1 600 0
 1575 00b6 0021     		movs	r1, #0
 1576 00b8 6846     		mov	r0, sp
 1577 00ba FFF7FEFF 		bl	enq_motion
 1578              	.LVL142:
 601:Src/motion_plan.c **** 			motion = deq_motion(&q_motion);
 1579              		.loc 1 601 0
 1580 00be 1148     		ldr	r0, .L159
 1581 00c0 FFF7FEFF 		bl	deq_motion
 1582              	.LVL143:
 1583 00c4 0446     		mov	r4, r0
 1584              	.LVL144:
 602:Src/motion_plan.c **** 			if(motion==GOAL){
 1585              		.loc 1 602 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 41


 1586 00c6 0628     		cmp	r0, #6
 1587 00c8 BED1     		bne	.L141
 1588              	.LVL145:
 603:Src/motion_plan.c **** 				buff = GOAL << 4;
 604:Src/motion_plan.c **** 				enq_motion(&q_buff, buff);
 1589              		.loc 1 604 0
 1590 00ca 6021     		movs	r1, #96
 1591 00cc 6846     		mov	r0, sp
 1592              	.LVL146:
 1593 00ce FFF7FEFF 		bl	enq_motion
 1594              	.LVL147:
 1595 00d2 B9E7     		b	.L141
 1596              	.LVL148:
 1597              	.L145:
 605:Src/motion_plan.c **** 			}
 606:Src/motion_plan.c **** 			break;
 607:Src/motion_plan.c **** 		case RIGHT:
 608:Src/motion_plan.c **** 			buff = RIGHT << 4;
 609:Src/motion_plan.c **** 			enq_motion(&q_buff, buff);
 1598              		.loc 1 609 0
 1599 00d4 2021     		movs	r1, #32
 1600 00d6 6846     		mov	r0, sp
 1601 00d8 FFF7FEFF 		bl	enq_motion
 1602              	.LVL149:
 610:Src/motion_plan.c **** 			motion = deq_motion(&q_motion);
 1603              		.loc 1 610 0
 1604 00dc 0948     		ldr	r0, .L159
 1605 00de FFF7FEFF 		bl	deq_motion
 1606              	.LVL150:
 1607 00e2 0446     		mov	r4, r0
 1608              	.LVL151:
 611:Src/motion_plan.c **** 			if(motion==GOAL){
 1609              		.loc 1 611 0
 1610 00e4 0628     		cmp	r0, #6
 1611 00e6 AFD1     		bne	.L141
 1612              	.LVL152:
 612:Src/motion_plan.c **** 				buff = GOAL << 4;
 613:Src/motion_plan.c **** 				enq_motion(&q_buff, buff);
 1613              		.loc 1 613 0
 1614 00e8 6021     		movs	r1, #96
 1615 00ea 6846     		mov	r0, sp
 1616              	.LVL153:
 1617 00ec FFF7FEFF 		bl	enq_motion
 1618              	.LVL154:
 1619 00f0 AAE7     		b	.L141
 1620              	.LVL155:
 1621              	.L157:
 1622              	.LBE5:
 614:Src/motion_plan.c **** 			}
 615:Src/motion_plan.c **** 			break;
 616:Src/motion_plan.c **** 		default:
 617:Src/motion_plan.c **** 			break;
 618:Src/motion_plan.c **** 		}
 619:Src/motion_plan.c **** 	}
 620:Src/motion_plan.c **** 	q_motion = q_buff;
 1623              		.loc 1 620 0
 1624 00f2 4FF48472 		mov	r2, #264
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 42


 1625 00f6 6946     		mov	r1, sp
 1626 00f8 0248     		ldr	r0, .L159
 1627 00fa FFF7FEFF 		bl	memcpy
 1628              	.LVL156:
 621:Src/motion_plan.c **** }
 1629              		.loc 1 621 0
 1630 00fe 43B0     		add	sp, sp, #268
 1631              	.LCFI8:
 1632              		.cfi_def_cfa_offset 12
 1633              		@ sp needed
 1634 0100 30BD     		pop	{r4, r5, pc}
 1635              	.LVL157:
 1636              	.L160:
 1637 0102 00BF     		.align	2
 1638              	.L159:
 1639 0104 00000000 		.word	q_motion
 1640              		.cfi_endproc
 1641              	.LFE134:
 1643              		.section	.text.Plan_Fast,"ax",%progbits
 1644              		.align	1
 1645              		.global	Plan_Fast
 1646              		.syntax unified
 1647              		.thumb
 1648              		.thumb_func
 1649              		.fpu fpv4-sp-d16
 1651              	Plan_Fast:
 1652              	.LFB135:
 622:Src/motion_plan.c **** 
 623:Src/motion_plan.c **** void Plan_Fast(void)
 624:Src/motion_plan.c **** {
 1653              		.loc 1 624 0
 1654              		.cfi_startproc
 1655              		@ args = 0, pretend = 0, frame = 0
 1656              		@ frame_needed = 0, uses_anonymous_args = 0
 1657 0000 08B5     		push	{r3, lr}
 1658              	.LCFI9:
 1659              		.cfi_def_cfa_offset 8
 1660              		.cfi_offset 3, -8
 1661              		.cfi_offset 14, -4
 625:Src/motion_plan.c **** 	unsigned char motion_h, motion_l;
 626:Src/motion_plan.c **** 
 627:Src/motion_plan.c **** 	adcStart();
 1662              		.loc 1 627 0
 1663 0002 FFF7FEFF 		bl	adcStart
 1664              	.LVL158:
 1665              	.L162:
 628:Src/motion_plan.c **** 	while (sen_front.is_wall == FALSE)
 1666              		.loc 1 628 0 discriminator 1
 1667 0006 254B     		ldr	r3, .L175
 1668 0008 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 1669 000a 002B     		cmp	r3, #0
 1670 000c FBD0     		beq	.L162
 629:Src/motion_plan.c **** 	{
 630:Src/motion_plan.c **** 	}
 631:Src/motion_plan.c **** 	Output_Buzzer(HZ_G);
 1671              		.loc 1 631 0
 1672 000e 6620     		movs	r0, #102
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 43


 1673 0010 FFF7FEFF 		bl	Output_Buzzer
 1674              	.LVL159:
 632:Src/motion_plan.c **** 	gyro_offset_calc_reset();
 1675              		.loc 1 632 0
 1676 0014 FFF7FEFF 		bl	gyro_offset_calc_reset
 1677              	.LVL160:
 633:Src/motion_plan.c **** 
 634:Src/motion_plan.c **** 	HAL_Delay(2500);
 1678              		.loc 1 634 0
 1679 0018 40F6C410 		movw	r0, #2500
 1680 001c FFF7FEFF 		bl	HAL_Delay
 1681              	.LVL161:
 635:Src/motion_plan.c **** 	flag_motor = TRUE;
 1682              		.loc 1 635 0
 1683 0020 1F4B     		ldr	r3, .L175+4
 1684 0022 0122     		movs	r2, #1
 1685 0024 1A70     		strb	r2, [r3]
 636:Src/motion_plan.c **** 
 637:Src/motion_plan.c **** 	while (q_motion.head != q_motion.tail)
 1686              		.loc 1 637 0
 1687 0026 02E0     		b	.L164
 1688              	.LVL162:
 1689              	.L169:
 638:Src/motion_plan.c **** 	{
 639:Src/motion_plan.c **** 		enc.offset = 0;
 640:Src/motion_plan.c **** 		motion_h = deq_motion(&q_motion);
 641:Src/motion_plan.c **** 		motion_l = motion_h & 0b1111;
 642:Src/motion_plan.c **** 		motion_h = motion_h >> 4;
 643:Src/motion_plan.c **** 
 644:Src/motion_plan.c **** 		switch (motion_h)
 645:Src/motion_plan.c **** 		{
 646:Src/motion_plan.c **** 		case START:
 647:Src/motion_plan.c **** 			Motion_StartFast(motion_l);
 1690              		.loc 1 647 0
 1691 0028 1046     		mov	r0, r2
 1692 002a FFF7FEFF 		bl	Motion_StartFast
 1693              	.LVL163:
 1694              	.L164:
 637:Src/motion_plan.c **** 	{
 1695              		.loc 1 637 0
 1696 002e 1D4B     		ldr	r3, .L175+8
 1697 0030 D3F80021 		ldr	r2, [r3, #256]
 1698 0034 D3F80431 		ldr	r3, [r3, #260]
 1699 0038 9A42     		cmp	r2, r3
 1700 003a 2BD0     		beq	.L174
 639:Src/motion_plan.c **** 		motion_h = deq_motion(&q_motion);
 1701              		.loc 1 639 0
 1702 003c 1A4B     		ldr	r3, .L175+12
 1703 003e 0022     		movs	r2, #0
 1704 0040 9A60     		str	r2, [r3, #8]	@ float
 640:Src/motion_plan.c **** 		motion_l = motion_h & 0b1111;
 1705              		.loc 1 640 0
 1706 0042 1848     		ldr	r0, .L175+8
 1707 0044 FFF7FEFF 		bl	deq_motion
 1708              	.LVL164:
 641:Src/motion_plan.c **** 		motion_h = motion_h >> 4;
 1709              		.loc 1 641 0
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 44


 1710 0048 00F00F02 		and	r2, r0, #15
 1711              	.LVL165:
 642:Src/motion_plan.c **** 
 1712              		.loc 1 642 0
 1713 004c C0F30713 		ubfx	r3, r0, #4, #8
 1714              	.LVL166:
 644:Src/motion_plan.c **** 		{
 1715              		.loc 1 644 0
 1716 0050 062B     		cmp	r3, #6
 1717 0052 ECD8     		bhi	.L164
 1718 0054 01A1     		adr	r1, .L166
 1719 0056 51F823F0 		ldr	pc, [r1, r3, lsl #2]
 1720 005a 00BF     		.p2align 2
 1721              	.L166:
 1722 005c 79000000 		.word	.L165+1
 1723 0060 7F000000 		.word	.L167+1
 1724 0064 87000000 		.word	.L168+1
 1725 0068 2F000000 		.word	.L164+1
 1726 006c 2F000000 		.word	.L164+1
 1727 0070 29000000 		.word	.L169+1
 1728 0074 8D000000 		.word	.L170+1
 1729              		.p2align 1
 1730              	.L165:
 648:Src/motion_plan.c **** 			break;
 649:Src/motion_plan.c **** 		case LEFT:
 650:Src/motion_plan.c **** 			Motion_Left();
 1731              		.loc 1 650 0
 1732 0078 FFF7FEFF 		bl	Motion_Left
 1733              	.LVL167:
 651:Src/motion_plan.c **** 			break;
 1734              		.loc 1 651 0
 1735 007c D7E7     		b	.L164
 1736              	.LVL168:
 1737              	.L167:
 652:Src/motion_plan.c **** 		case FRONT:
 653:Src/motion_plan.c **** 			Motion_StraightFast(motion_l);
 1738              		.loc 1 653 0
 1739 007e 1046     		mov	r0, r2
 1740 0080 FFF7FEFF 		bl	Motion_StraightFast
 1741              	.LVL169:
 654:Src/motion_plan.c **** 			break;
 1742              		.loc 1 654 0
 1743 0084 D3E7     		b	.L164
 1744              	.LVL170:
 1745              	.L168:
 655:Src/motion_plan.c **** 		case RIGHT:
 656:Src/motion_plan.c **** 			Motion_Right();
 1746              		.loc 1 656 0
 1747 0086 FFF7FEFF 		bl	Motion_Right
 1748              	.LVL171:
 657:Src/motion_plan.c **** 			break;
 1749              		.loc 1 657 0
 1750 008a D0E7     		b	.L164
 1751              	.LVL172:
 1752              	.L170:
 658:Src/motion_plan.c **** 		case GOAL:
 659:Src/motion_plan.c **** 			Motion_GoalFast(motion_l);
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 45


 1753              		.loc 1 659 0
 1754 008c 1046     		mov	r0, r2
 1755 008e FFF7FEFF 		bl	Motion_GoalFast
 1756              	.LVL173:
 660:Src/motion_plan.c **** 			break;
 1757              		.loc 1 660 0
 1758 0092 CCE7     		b	.L164
 1759              	.L174:
 661:Src/motion_plan.c **** 		}
 662:Src/motion_plan.c **** 	}
 663:Src/motion_plan.c **** 	flag_motor = FALSE;
 1760              		.loc 1 663 0
 1761 0094 024B     		ldr	r3, .L175+4
 1762 0096 0022     		movs	r2, #0
 1763 0098 1A70     		strb	r2, [r3]
 664:Src/motion_plan.c **** }...
 1764              		.loc 1 664 0
 1765 009a 08BD     		pop	{r3, pc}
 1766              	.L176:
 1767              		.align	2
 1768              	.L175:
 1769 009c 00000000 		.word	sen_front
 1770 00a0 00000000 		.word	flag_motor
 1771 00a4 00000000 		.word	q_motion
 1772 00a8 00000000 		.word	enc
 1773              		.cfi_endproc
 1774              	.LFE135:
 1776              		.comm	q_motion,264,4
 1777              		.global	flag_search
 1778              		.section	.bss.flag_search,"aw",%nobits
 1781              	flag_search:
 1782 0000 00       		.space	1
 1783              		.text
 1784              	.Letext0:
 1785              		.file 2 "Inc/maze_info.h"
 1786              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1787              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1788              		.file 5 "Inc/filter.h"
 1789              		.file 6 "Drivers/CMSIS/Include/core_cm4.h"
 1790              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 1791              		.file 8 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f405xx.h"
 1792              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include\
 1793              		.file 10 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 1794              		.file 11 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\lib\\gcc\\arm-none-eab
 1795              		.file 12 "c:\\program files (x86)\\gnu tools arm embedded\\7 2017-q4-major\\arm-none-eabi\\include
 1796              		.file 13 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 1797              		.file 14 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 1798              		.file 15 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_spi.h"
 1799              		.file 16 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_tim.h"
 1800              		.file 17 "Inc/spi.h"
 1801              		.file 18 "Inc/tim.h"
 1802              		.file 19 "Inc/interface.h"
 1803              		.file 20 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
 1804              		.file 21 "Inc/motion.h"
 1805              		.file 22 "Inc/maze_analysis.h"
 1806              		.file 23 "<built-in>"
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 46


DEFINED SYMBOLS
                            *ABS*:00000000 motion_plan.c
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:18     .text.Que_init_motion:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:25     .text.Que_init_motion:00000000 Que_init_motion
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:60     .text.enq_motion:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:67     .text.enq_motion:00000000 enq_motion
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:99     .text.deq_motion:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:106    .text.deq_motion:00000000 deq_motion
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:128    .text.Update_Position:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:135    .text.Update_Position:00000000 Update_Position
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:148    .text.Update_Position:0000000a $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:162    .text.Update_Position:0000001e $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:166    .text.Update_Position:00000022 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:223    .text.Update_Position:00000070 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:227    .text.Update_Position:00000074 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:268    .text.Update_Position:000000a8 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:272    .text.Update_Position:000000ac $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:329    .text.Update_Position:000000f8 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:333    .text.Update_Position:000000fc $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:390    .text.Update_Position:00000148 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:394    .text.Update_Position:0000014c $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:447    .text.Update_Position:0000018c $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:453    .text.Maze_Next_Motion:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:460    .text.Maze_Next_Motion:00000000 Maze_Next_Motion
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:490    .text.Maze_Next_Motion:0000001a $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:494    .text.Maze_Next_Motion:00000022 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:971    .text.Maze_Next_Motion:000002f4 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:978    .text.Plan_Adachi:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:985    .text.Plan_Adachi:00000000 Plan_Adachi
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1078   .text.Plan_Adachi:00000074 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1138   .text.Plan_Adachi:000000ac $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1148   .text.Plan_AllSearch:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1155   .text.Plan_AllSearch:00000000 Plan_AllSearch
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1186   .text.Plan_AllSearch:00000020 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1190   .text.Plan_AllSearch:00000024 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1283   .text.Plan_AllSearch:0000009c $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1288   .text.Plan_AllSearch:000000b0 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1328   .text.Plan_AllSearch:000000d4 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1338   .text.Plan_Root:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1345   .text.Plan_Root:00000000 Plan_Root
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1416   .text.Plan_Root:00000054 $d
                            *COM*:00000108 q_motion
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1424   .text.Plan_Compress:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1431   .text.Plan_Compress:00000000 Plan_Compress
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1518   .text.Plan_Compress:00000060 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1525   .text.Plan_Compress:00000078 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1639   .text.Plan_Compress:00000104 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1644   .text.Plan_Fast:00000000 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1651   .text.Plan_Fast:00000000 Plan_Fast
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1722   .text.Plan_Fast:0000005c $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1729   .text.Plan_Fast:00000078 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1769   .text.Plan_Fast:0000009c $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1781   .bss.flag_search:00000000 flag_search
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1782   .bss.flag_search:00000000 $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:153    .text.Update_Position:0000000f $d
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:153    .text.Update_Position:00000010 $t
C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1083   .text.Plan_Adachi:00000079 $d
ARM GAS  C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s 			page 47


C:\Users\kotaro\AppData\Local\Temp\ccUdkS3F.s:1083   .text.Plan_Adachi:0000007a $t

UNDEFINED SYMBOLS
direction
position
maze
adcStart
Output_Buzzer
gyro_offset_calc_reset
HAL_Delay
Maze_Init
Maze_Set
Motion_Start
Maze_Get_Wall
Maze_CreateMap
Motion_Left
Motion_Straight
Motion_Right
Motion_Uturn
Motion_Kabeate
Motion_Goal
sen_front
flag_motor
enc
Straight_half_accel
Motion_Restart
Maze_CreateAllMap
Maze_CreateFastMap
memcpy
Motion_StartFast
Motion_StraightFast
Motion_GoalFast
